"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[954],{41264:(e,t,i)=>{i.r(t),i.d(t,{contentTitle:()=>a,default:()=>l,frontMatter:()=>r,toc:()=>c});var n=i(74848),s=i(28453);const r={pagination_prev:null,pagination_next:null},a="%iKnow.Metrics.MetricDefinition",c=[{value:"XDatas",id:"xdatas",level:2},{value:"Metrics",id:"metrics",level:3},{value:"Methods",id:"methods",level:2},{value:"Register",id:"register",level:3},{value:"RegisterInternal",id:"registerinternal",level:3},{value:"UnRegister",id:"unregister",level:3},{value:"UnRegisterInternal",id:"unregisterinternal",level:3},{value:"GetMetricDefinitions",id:"getmetricdefinitions",level:3}];function o(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",metric:"metric",metrics:"metrics",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"iknowmetricsmetricdefinition",children:"%iKnow.Metrics.MetricDefinition"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Class %iKnow.Metrics.MetricDefinition Extends %RegisteredObject [ Abstract, Deprecated, System = 4 ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"The %iKnow.Metrics infrastructure is deprecated in favour of the more SQL-oriented approach offered through %iKnow.Tables.Utils, where you can add computed fields at different levels and choose whether they need to be persisted or not."}),"\n",(0,n.jsx)(t.p,{children:"Use a Metric Definition to declare any custom metrics you wish to use in an application by creating a subclass of this class and supplying a Metrics XData block detailing the properties of these custom metrics. To be able to use a metric in a particular domain, use the Register method."}),"\n",(0,n.jsx)(t.p,{children:'Unless custom metrics are only assigned on an individual basis (such as a "reader score" metric), a metric will refer to a Builder Class that is responsible for implementing the logic to calculate the appropriate values for a custom metric. See also %iKnow.Metrics.MetricBuilder for more details.'}),"\n",(0,n.jsx)(t.p,{children:"Note: metric definitions can also transparently be included in a domain definition, with no further need to call Register. See also %iKnow.DomainDefinition."}),"\n",(0,n.jsx)(t.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,n.jsx)(t.h3,{id:"metrics",children:"Metrics"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'XData Metrics [ XMLNamespace = "http://www.intersystems.com/iknow/metrics" ]\n'})}),"\n",(0,n.jsxs)(t.p,{children:["This XData block should contain a single ",(0,n.jsxs)(t.metrics,{children:[" element with ",(0,n.jsx)(t.metric,{children:" elements nested within for each custom metric to be registered."})]})]}),"\n",(0,n.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(t.h3,{id:"register",children:"Register"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod Register(pDomainId As %Integer, pVerbose As %Boolean = 1) As %Status [ Final ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Registers all Metrics, their properties and targets, as defined in the Metrics XData block, in the domain pDomainId."}),"\n",(0,n.jsx)(t.h3,{id:"registerinternal",children:"RegisterInternal"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod RegisterInternal(pDomainId As %Integer, pMetrics As %iKnow.Model.metrics, pDefinitionClass As %String, pVerbose As %Boolean = 1) As %Status [ Final, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"unregister",children:"UnRegister"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod UnRegister(pDomainId As %Integer, pVerbose As %Boolean = 1) As %Status [ Final ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Drops all metrics defined in the Metrics XData block from domain pDomainId."}),"\n",(0,n.jsx)(t.h3,{id:"unregisterinternal",children:"UnRegisterInternal"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod UnRegisterInternal(pDomainId As %Integer, pMetrics As %iKnow.Model.metrics, pVerbose As %Boolean = 1) As %Status [ Final, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"getmetricdefinitions",children:"GetMetricDefinitions"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetMetricDefinitions() As %iKnow.Model.metrics [ CodeMode = objectgenerator, Final, Internal ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Returns the list of metrics defined in Metrics as a %iKnow.Model.metrics object."})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>c});var n=i(96540);const s={},r=n.createContext(s);function a(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);