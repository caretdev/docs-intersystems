"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[96188],{64400:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>l,default:()=>o,frontMatter:()=>a,toc:()=>i});var r=t(74848),n=t(28453);const a={pagination_prev:null,pagination_next:null},l="%DeepSee.REST.v1.DataServer",i=[{value:"XDatas",id:"xdatas",level:2},{value:"UrlMap",id:"urlmap",level:3},{value:"Methods",id:"methods",level:2},{value:"%ValidateRequest",id:"validaterequest",level:3},{value:"WriteJSONfromMDX",id:"writejsonfrommdx",level:3},{value:"WriteJSONfromDrillthrough",id:"writejsonfromdrillthrough",level:3},{value:"WriteJSONfromPivot",id:"writejsonfrompivot",level:3},{value:"WriteJSONfromKPI",id:"writejsonfromkpi",level:3},{value:"CancelMDXQuery",id:"cancelmdxquery",level:3},{value:"UpdateQueryResults",id:"updatequeryresults",level:3},{value:"WriteDSTIMEForClass",id:"writedstimeforclass",level:3},{value:"Test",id:"test",level:3}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"deepseerestv1dataserver",children:"%DeepSee.REST.v1.DataServer"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Class %DeepSee.REST.v1.DataServer Extends %DeepSee.REST.REST\n"})}),"\n",(0,r.jsx)(s.p,{children:"This class is responsible for creating the JSON response to the DeepSee REST data services. For examples and a full list of available services see the documentation for %DeepSee.REST.v1<.class>."}),"\n",(0,r.jsx)(s.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,r.jsx)(s.h3,{id:"urlmap",children:"UrlMap"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"XData UrlMap\n"})}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h3,{id:"validaterequest",children:"%ValidateRequest"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %ValidateRequest(pUrl As %String, pMethod As %String) As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:"Perform specific validation for the service that will handle the request. This is used as a callback in each service that extends %DeepSee.REST"}),"\n",(0,r.jsx)(s.h3,{id:"writejsonfrommdx",children:"WriteJSONfromMDX"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONfromMDX(namespace As %String) As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:"Run any valid MDX (SELECT,DRILLTHROUGH,DRILLFACTS) query and returns the JSON resultset."}),"\n",(0,r.jsx)(s.h3,{id:"writejsonfromdrillthrough",children:"WriteJSONfromDrillthrough"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONfromDrillthrough(namespace As %String)\n"})}),"\n",(0,r.jsx)(s.p,{children:"Run a listing from either the source or the fact table. Specific listings or a list of fields may be POSTed to add to the query."}),"\n",(0,r.jsx)(s.h3,{id:"writejsonfrompivot",children:"WriteJSONfromPivot"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONfromPivot(namespace As %String) As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:"Run any stored pivot table and return the associated JSON resultset."}),"\n",(0,r.jsx)(s.h3,{id:"writejsonfromkpi",children:"WriteJSONfromKPI"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONfromKPI(namespace As %String) As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:"Run any compiled KPI and return the associated JSON resultset."}),"\n",(0,r.jsx)(s.h3,{id:"cancelmdxquery",children:"CancelMDXQuery"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CancelMDXQuery(namespace As %String, pQueryToken) As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:"Cancel a running query using the cubeKey and queryKey provided in a previously returned resultset with ResultsComplete=0."}),"\n",(0,r.jsx)(s.h3,{id:"updatequeryresults",children:"UpdateQueryResults"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod UpdateQueryResults(namespace As %String, pQueryToken) As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:"Try to obtain results from a previous query that returned incomplete results."}),"\n",(0,r.jsx)(s.h3,{id:"writedstimeforclass",children:"WriteDSTIMEForClass"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteDSTIMEForClass(namespace As %String, pClassName) As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:"Retrieve the most recently processed ^OBJ.DSTIME stamp(s) for one or more classes from the ^DeepSee.Update global."}),"\n",(0,r.jsx)(s.h3,{id:"test",children:"Test"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Test(namespace As %String) As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:"Test method to confirm connection in the service type"})]})}function o(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>i});var r=t(96540);const n={},a=r.createContext(n);function l(e){const s=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);