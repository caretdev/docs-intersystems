"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[42783],{61571:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>a,default:()=>o,frontMatter:()=>i,toc:()=>l});var t=s(74848),r=s(28453);const i={pagination_prev:null,pagination_next:null},a="%SYS.OpenAM.IdentityServices",l=[{value:"Parameters",id:"parameters",level:2},{value:"VERSION",id:"version",level:3},{value:"SOURCECONTROL",id:"sourcecontrol",level:3},{value:"Properties",id:"properties",level:2},{value:"Name",id:"name",level:3},{value:"Server",id:"server",level:3},{value:"Port",id:"port",level:3},{value:"Path",id:"path",level:3},{value:"SSLConfiguration",id:"sslconfiguration",level:3},{value:"Token",id:"token",level:3},{value:"Version",id:"version-1",level:3},{value:"Methods",id:"methods",level:2},{value:"Authenticate",id:"authenticate",level:3},{value:"Save",id:"save",level:3},{value:"%OnBeforeSave",id:"onbeforesave",level:3},{value:"%OnAfterSave",id:"onaftersave",level:3},{value:"%OnDelete",id:"ondelete",level:3},{value:"StartEMS",id:"startems",level:3},{value:"DeleteId",id:"deleteid",level:3},{value:"Test",id:"test",level:3},{value:"Exists",id:"exists",level:3},{value:"Export",id:"export",level:3},{value:"GetProperties",id:"getproperties",level:3},{value:"Import",id:"import",level:3},{value:"Modify",id:"modify",level:3},{value:"Upload",id:"upload",level:3}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"sysopenamidentityservices",children:"%SYS.OpenAM.IdentityServices"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %SYS.OpenAM.IdentityServices Extends (%Persistent, %XML.Adaptor) [ System = 4 ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"This class represents an interface to an instance of OpenAM Enterprise Identity Web Services hosted by an application server."}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(n.h3,{id:"version",children:"VERSION"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter VERSION [ Internal ] = 1;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"sourcecontrol",children:"SOURCECONTROL"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter SOURCECONTROL [ Internal ] = {"Revision path: $Id: //iris/2024.3.0/databases/sys/cls/SYS/OpenAM/IdentityServices.xml#1 $"_$c(13,10)_"Last Change:   $DateTime: 2024/10/02 10:58:11 $"_$c(13,10)_"Changelist #:  $Change: 7247250 $"};\n'})}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h3,{id:"name",children:"Name"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Name As %String [ Required ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Name of this instance."}),"\n",(0,t.jsx)(n.h3,{id:"server",children:"Server"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property Server As %String [ InitialExpression = "localhost", Required ];\n'})}),"\n",(0,t.jsx)(n.p,{children:"DNS name of the application server hosting OpenAM Enterprise Identity Web Services."}),"\n",(0,t.jsx)(n.h3,{id:"port",children:"Port"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Port As %Integer [ InitialExpression = 8080, Required ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"TCP port that the application server hosting OpenAM Enterprise Identity Web Services is listening on."}),"\n",(0,t.jsx)(n.h3,{id:"path",children:"Path"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property Path As %String [ InitialExpression = "/opensso/identityservices", Required ];\n'})}),"\n",(0,t.jsx)(n.p,{children:"Path to OpenAM Identity Services on the application server hosting OpenAM Enterprise Identity Web Services."}),"\n",(0,t.jsx)(n.h3,{id:"sslconfiguration",children:"SSLConfiguration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property SSLConfiguration As %String;\n"})}),"\n",(0,t.jsx)(n.p,{children:"SSL client configuration to use when connecting to the application server hosting OpenAM Enterprise Identity Web Services. (optional)"}),"\n",(0,t.jsx)(n.h3,{id:"token",children:"Token"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property Token As %Net.OpenAM.tns.token(XMLPROJECTION = "NONE") [ Internal, Transient ];\n'})}),"\n",(0,t.jsx)(n.p,{children:"Security token obtained on successful authentication."}),"\n",(0,t.jsx)(n.h3,{id:"version-1",children:"Version"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Version As %Decimal(SCALE = 1) [ Internal ];\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Version number of the record.",(0,t.jsx)(n.br,{}),"\nUsed for Export/Import."]}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"authenticate",children:"Authenticate"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method Authenticate(Username As %String, Password As %String) As %Boolean\n"})}),"\n",(0,t.jsx)(n.p,{children:"Authenticate the Username and Password, obtaining an internal transient security token if successful."}),"\n",(0,t.jsx)(n.h3,{id:"save",children:"Save"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method Save() As %Status\n"})}),"\n",(0,t.jsx)(n.p,{children:"Allow a process with %Admin_Secure:U, but not %DB_IRISSYS:RW, to save an OpenAMIdentityServices object. (A process with %DB_IRISSYS:RW can use %Save.)"}),"\n",(0,t.jsx)(n.h3,{id:"onbeforesave",children:"%OnBeforeSave"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method %OnBeforeSave(insert As %Boolean) As %Status [ Internal, Private ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Require %AdminSecure:U"}),"\n",(0,t.jsx)(n.h3,{id:"onaftersave",children:"%OnAfterSave"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method %OnAfterSave(insert As %Boolean) As %Status [ Internal, Private ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"This callback method is invoked by the %Save method to provide notification that the object is being saved. It is called after the object's data has been successfully written to disk."}),"\n",(0,t.jsx)(n.p,{children:"insert will be set to 1 if this object is being saved for the first time."}),"\n",(0,t.jsx)(n.p,{children:"If this method returns an error then the call to %Save will fail."}),"\n",(0,t.jsx)(n.h3,{id:"ondelete",children:"%OnDelete"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %OnDelete(oid As %ObjectIdentity) As %Status [ Internal, Private, ServerOnly = 1 ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Caller of %Delete must have %Admin_Secure:U."}),"\n",(0,t.jsx)(n.h3,{id:"startems",children:"StartEMS"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod StartEMS() As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"deleteid",children:"DeleteId"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod DeleteId(Name As %String) As %Status\n"})}),"\n",(0,t.jsx)(n.p,{children:"Allow a process with %Admin_Secure:U, but not %DB_IRISSYS:RW, to delete an OpenAMIdentityServices object. (A process with %DB_IRISSYS:RW can use %Save.)"}),"\n",(0,t.jsx)(n.h3,{id:"test",children:"Test"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method Test() As %Boolean\n"})}),"\n",(0,t.jsx)(n.p,{children:"Test whether this instance is correctly configured to use OpenAM Identity Web Services."}),"\n",(0,t.jsx)(n.h3,{id:"exists",children:"Exists"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Exists(Name As %String, ByRef OpenAMIdentityService As %ObjectHandle, ByRef Status As %Status) As %Boolean\n"})}),"\n",(0,t.jsxs)(n.p,{children:["OpenAMIdentityService exists.",(0,t.jsx)(n.br,{}),"\nThis method checks for the existence of a OpenAMIdentityService in the security database.",(0,t.jsx)(n.br,{}),"\nParameters:",(0,t.jsx)(n.br,{}),"\nName - Name of the OpenAMIdentityService to check existence of",(0,t.jsx)(n.br,{}),"\nReturn values:",(0,t.jsx)(n.br,{}),"\nIf Value of the method = 0 (OpenAMIdentityService does not exist, or some error occured)",(0,t.jsx)(n.br,{}),"\nOpenAMIdentityService = Null",(0,t.jsx)(n.br,{}),'\nStatus = OpenAMIdentityService "x" does not exist, or other error message']}),"\n",(0,t.jsxs)(n.p,{children:["If Value of the method = 1 (OpenAMIdentityService exists)",(0,t.jsx)(n.br,{}),"\nOpenAMIdentityService = Object handle to OpenAMIdentityService",(0,t.jsx)(n.br,{}),"\nStatus = $$$OK"]}),"\n",(0,t.jsx)(n.h3,{id:"export",children:"Export"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod Export(FileName As %String = "OpenAMIdentityServicesExport.xml", ByRef NumExported As %Integer, OpenAMIdentityServices As %String = "*") As %Status\n'})}),"\n",(0,t.jsxs)(n.p,{children:["This method exports OpenAMIdentityService records to a file in xml format.",(0,t.jsx)(n.br,{}),"\nParameters:",(0,t.jsx)(n.br,{}),"\nFilename - Output file name",(0,t.jsx)(n.br,{}),"\nNumExported (byref) - Returns number of records exported.",(0,t.jsx)(n.br,{}),'\nOpenAMIdentityServices - Comma separated list of OpenAMIdentityServices to export, "*" = All']}),"\n",(0,t.jsx)(n.h3,{id:"getproperties",children:"GetProperties"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetProperties(OpenAMIdentityService As %ObjectHandle, ByRef Properties As %String) As %Status\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Get a OpenAMIdentityService's properties.",(0,t.jsx)(n.br,{}),"\nGets a OpenAMIdentityServices's properties from the security database.",(0,t.jsx)(n.br,{}),"\nParameters:",(0,t.jsx)(n.br,{}),"\nOpenAMIdentityService - Object handle to a OpenAMIdentityServices record",(0,t.jsx)(n.br,{}),"\nReturn values:",(0,t.jsx)(n.br,{}),"\nProperties - See the Get method for more information on properties returned"]}),"\n",(0,t.jsx)(n.h3,{id:"import",children:"Import"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod Import(FileName As %String = "OpenAMIdentityServicesExport.xml", ByRef NumImported As %Integer, Flags As %Integer = 0) As %Status\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Import OpenAMIdentityService records from an xml file.",(0,t.jsx)(n.br,{}),"\nParameters:",(0,t.jsx)(n.br,{}),"\nFileName - Filename to import OpenAMIdentityService records from",(0,t.jsx)(n.br,{}),"\nNumImported (byref) - Returns number of records imported",(0,t.jsx)(n.br,{}),"\nFlags - Control import",(0,t.jsx)(n.br,{}),"\nBit 0 - Do not import records, just return count",(0,t.jsx)(n.br,{}),"\nNote: On failure, no records will be imported"]}),"\n",(0,t.jsx)(n.h3,{id:"modify",children:"Modify"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Modify(Name As %String, ByRef Properties As %String) As %Status\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Modify a OpenAMIdentityService.",(0,t.jsx)(n.br,{}),"\nModify an existing OpenAMIdentityService's properties in the security database.",(0,t.jsx)(n.br,{}),"\nParameters:",(0,t.jsx)(n.br,{}),"\nName - Name of the OpenAMIdentityService to modify",(0,t.jsx)(n.br,{}),"\nProperties - Array of properties to modify.",(0,t.jsx)(n.br,{}),"\nSee the Get() method for a description of the Properties parameter.",(0,t.jsx)(n.br,{}),"\nIf a specific property is not passed in the properties array, the value is not modified."]}),"\n",(0,t.jsx)(n.h3,{id:"upload",children:"Upload"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Upload(GUID As %String, ByRef Data As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Upload all OpenAMIdentityServices from Enterprise Management System to requesting client."})]})}function o(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var t=s(96540);const r={},i=t.createContext(r);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);