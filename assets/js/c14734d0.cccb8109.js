"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[28129],{19574:(e,t,a)=>{a.r(t),a.d(t,{contentTitle:()=>i,default:()=>d,frontMatter:()=>c,toc:()=>r});var s=a(74848),n=a(28453);const c={pagination_prev:null,pagination_next:null},i="%DeepSee.Model.node",r=[{value:"Parameters",id:"parameters",level:2},{value:"NAMESPACE",id:"namespace",level:3},{value:"XMLINCLUDEINGROUP",id:"xmlincludeingroup",level:3},{value:"DOMAIN",id:"domain",level:3},{value:"Properties",id:"properties",level:2},{value:"name",id:"name",level:3},{value:"displayName",id:"displayname",level:3},{value:"description",id:"description",level:3},{value:"disabled",id:"disabled",level:3},{value:"isModified",id:"ismodified",level:3},{value:"additionalDescription",id:"additionaldescription",level:3},{value:"Methods",id:"methods",level:2},{value:"%AtScaleExport",id:"atscaleexport",level:3},{value:"%AtScaleInitIndex",id:"atscaleinitindex",level:3},{value:"%AtScaleProduceDataSet",id:"atscaleproducedataset",level:3},{value:"%AtScaleProduceAttribute",id:"atscaleproduceattribute",level:3},{value:"%AtScaleProcessSourceRef",id:"atscaleprocesssourceref",level:3},{value:"%AtScaleConvertType",id:"atscaleconverttype",level:3},{value:"%AtScaleConvertTimeFunction",id:"atscaleconverttimefunction",level:3},{value:"%AtScaleConvertAggregate",id:"atscaleconvertaggregate",level:3},{value:"%AtScaleCreateMessageObj",id:"atscalecreatemessageobj",level:3}];function l(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"deepseemodelnode",children:"%DeepSee.Model.node"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Class %DeepSee.Model.node Extends abstractNode [ Abstract, System = 3 ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Base class for DeepSee Cube Definition meta-data objects."}),"\n",(0,s.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsx)(t.h3,{id:"namespace",children:"NAMESPACE"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Parameter NAMESPACE = "http://www.intersystems.com/deepsee";\n'})}),"\n",(0,s.jsx)(t.h3,{id:"xmlincludeingroup",children:"XMLINCLUDEINGROUP"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Parameter XMLINCLUDEINGROUP = 1;\n"})}),"\n",(0,s.jsx)(t.h3,{id:"domain",children:"DOMAIN"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Parameter DOMAIN = "%DeepSee";\n'})}),"\n",(0,s.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(t.h3,{id:"name",children:"name"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Property name As %DeepSee.Datatype.entityName(XMLPROJECTION = "attribute");\n'})}),"\n",(0,s.jsx)(t.p,{children:"Logical name of this element."}),"\n",(0,s.jsx)(t.h3,{id:"displayname",children:"displayName"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Property displayName As %DeepSee.Datatype.entityName(XMLPROJECTION = "attribute");\n'})}),"\n",(0,s.jsx)(t.p,{children:"Localized name of this element. This is used by tools but not within actually queries."}),"\n",(0,s.jsx)(t.h3,{id:"description",children:"description"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Property description As %DeepSee.Datatype.string(MAXLEN = 2500, XMLPROJECTION = "attribute");\n'})}),"\n",(0,s.jsx)(t.p,{children:"Optional description for this node."}),"\n",(0,s.jsx)(t.h3,{id:"disabled",children:"disabled"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Property disabled As %Boolean(XMLPROJECTION = "attribute") [ InitialExpression = 0 ];\n'})}),"\n",(0,s.jsx)(t.p,{children:"Disabled flag. If true, then this member will be ignored when the DeepSee cube model is compiled."}),"\n",(0,s.jsx)(t.h3,{id:"ismodified",children:"isModified"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Property isModified(XMLPROJECTION = "none") [ InitialExpression = 0 ];\n'})}),"\n",(0,s.jsx)(t.p,{children:"Client marker to track whether or not changes have been made too this item in the current session."}),"\n",(0,s.jsx)(t.h3,{id:"additionaldescription",children:"additionalDescription"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property additionalDescription As %DeepSee.Datatype.string;\n"})}),"\n",(0,s.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(t.h3,{id:"atscaleexport",children:"%AtScaleExport"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method %AtScaleExport(pStatus As %Status = {$$$OK}, ByRef pAuxiliaryIndex As %DynamicAbstractObject = {$$$NULLOREF}) As %DynamicAbstractObject\n"})}),"\n",(0,s.jsx)(t.p,{children:"Produce the structures needed to emit the appropriate JSON and export this item to AtScale"}),"\n",(0,s.jsx)(t.h3,{id:"atscaleinitindex",children:"%AtScaleInitIndex"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method %AtScaleInitIndex(pIndex As %DynamicAbstractObject = {$$$NULLOREF}) As %DynamicAbstractObject\n"})}),"\n",(0,s.jsx)(t.p,{children:"Initialize the arrays to collect information for post-processing. These items will get filled in as the export walks the elements of the model."}),"\n",(0,s.jsx)(t.h3,{id:"atscaleproducedataset",children:"%AtScaleProduceDataSet"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method %AtScaleProduceDataSet(pDataSource As %String, Output pStatus, pIsFact = 1) As %DynamicAbstractObject\n"})}),"\n",(0,s.jsx)(t.p,{children:"Given the provided pDataSource as either a class or table name, produce the DataSet as a %DynamicObject with required parameters for import to AtScale. By default this will assume the dataset will have the setting isFact=true. Thas can be controlled using pIsFact."}),"\n",(0,s.jsx)(t.h3,{id:"atscaleproduceattribute",children:"%AtScaleProduceAttribute"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Method %AtScaleProduceAttribute(pProperty = "", pAuxiliaryIndex As %DynamicAbstractObject = {$$$NULLOREF}, pTimeFunction = "") As %DynamicAbstractObject\n'})}),"\n",(0,s.jsx)(t.p,{children:"Produce an attribute definition for import to AtScale"}),"\n",(0,s.jsx)(t.h3,{id:"atscaleprocesssourceref",children:"%AtScaleProcessSourceRef"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Method %AtScaleProcessSourceRef(pSourceProperty As %String = "", pAuxiliaryIndex As %DynamicAbstractObject = {$$$NULLOREF}, pTimeFunction = "") As %Status\n'})}),"\n",(0,s.jsx)(t.p,{children:"Unpack a source property into the datasets, joins and attributes needed to provide data for an AtScale cube. Incoming values for sourceProperty are expected to be correct class-reference syntax. In the case where the source is a simple property, it is added as a formal Attribute and placed in the pAuxiliaryIndex as a column to be later added to the primary dataset."}),"\n",(0,s.jsx)(t.h3,{id:"atscaleconverttype",children:"%AtScaleConvertType"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %AtScaleConvertType(pIRISType As %String = "", pStatus As %Status) As %String\n'})}),"\n",(0,s.jsx)(t.p,{children:"Convert an IRIS column type to a best match to the AtScale dimension types."}),"\n",(0,s.jsx)(t.h3,{id:"atscaleconverttimefunction",children:"%AtScaleConvertTimeFunction"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %AtScaleConvertTimeFunction(pIRISTimeFunction As %String = "", pStatus As %Status, Output pSQLFunction) As %String\n'})}),"\n",(0,s.jsx)(t.p,{children:"Convert an IRIS time function to a best match for AtScale TimeUnit."}),"\n",(0,s.jsx)(t.h3,{id:"atscaleconvertaggregate",children:"%AtScaleConvertAggregate"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Method %AtScaleConvertAggregate(pIRISAgg As %String, pIRISType As %String = "number", pStatus As %Status) As %String\n'})}),"\n",(0,s.jsx)(t.p,{children:"Convert a measure aggregate from the IRIS definition to the best match from the AtScale aggregates."}),"\n",(0,s.jsx)(t.h3,{id:"atscalecreatemessageobj",children:"%AtScaleCreateMessageObj"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Method %AtScaleCreateMessageObj(pMessageText = "", pType = {$$$msgInfo}) As %DynamicObject\n'})}),"\n",(0,s.jsx)(t.p,{children:"Produce a Message object from the message text and a type string."})]})}function d(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>r});var s=a(96540);const n={},c=s.createContext(n);function i(e){const t=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(c.Provider,{value:t},e.children)}}}]);