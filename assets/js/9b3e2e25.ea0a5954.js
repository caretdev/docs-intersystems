"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[16578],{62199:(e,s,n)=>{n.r(s),n.d(s,{contentTitle:()=>i,default:()=>d,frontMatter:()=>l,toc:()=>r});var a=n(74848),t=n(28453);const l={pagination_prev:null,pagination_next:null},i="%IO.FileStream",r=[{value:"Parameters",id:"parameters",level:2},{value:"DEFTEMPFILEEXT",id:"deftempfileext",level:3},{value:"READ",id:"read",level:3},{value:"WRITE",id:"write",level:3},{value:"WRITEAPPEND",id:"writeappend",level:3},{value:"WRITENEWOVER",id:"writenewover",level:3},{value:"WRITENEWIFABSENT",id:"writenewifabsent",level:3},{value:"RWREADNODATA",id:"rwreadnodata",level:3},{value:"RWREADNOTCHANGED",id:"rwreadnotchanged",level:3},{value:"RWREADCHANGED",id:"rwreadchanged",level:3},{value:"RWWRITE",id:"rwwrite",level:3},{value:"Properties",id:"properties",level:2},{value:"LastModified",id:"lastmodified",level:3},{value:"IsTemp",id:"istemp",level:3},{value:"BuildCharPosMap",id:"buildcharposmap",level:3},{value:"%Mode",id:"mode",level:3},{value:"%ReadLineMode",id:"readlinemode",level:3},{value:"%RWMode",id:"rwmode",level:3},{value:"charposmap",id:"charposmap",level:3},{value:"Methods",id:"methods",level:2},{value:"LastModifiedGet",id:"lastmodifiedget",level:3},{value:"%OnNew",id:"onnew",level:3},{value:"Open",id:"open",level:3},{value:"reopen",id:"reopen",level:3},{value:"NewTempFilename",id:"newtempfilename",level:3},{value:"Close",id:"close",level:3},{value:"Write",id:"write-1",level:3},{value:"Read",id:"read-1",level:3},{value:"ReadLine",id:"readline",level:3},{value:"Flush",id:"flush",level:3},{value:"ExternalByteSizeGet",id:"externalbytesizeget",level:3},{value:"SizeGet",id:"sizeget",level:3},{value:"ExternalByteSeek",id:"externalbyteseek",level:3},{value:"Seek",id:"seek",level:3},{value:"ExternalByteTruncateAt",id:"externalbytetruncateat",level:3},{value:"TruncateAt",id:"truncateat",level:3}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"iofilestream",children:"%IO.FileStream"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Class %IO.FileStream Extends (%IO.DeviceStream, %IO.IParts.CharacterSeekableIO) [ Inheritance = right, System = 2 ]\n"})}),"\n",(0,a.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(s.h3,{id:"deftempfileext",children:"DEFTEMPFILEEXT"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter DEFTEMPFILEEXT As STRING = "iostream";\n'})}),"\n",(0,a.jsx)(s.h3,{id:"read",children:"READ"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter READ = "R";\n'})}),"\n",(0,a.jsx)(s.h3,{id:"write",children:"WRITE"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter WRITE = "W";\n'})}),"\n",(0,a.jsx)(s.h3,{id:"writeappend",children:"WRITEAPPEND"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter WRITEAPPEND = "A";\n'})}),"\n",(0,a.jsx)(s.h3,{id:"writenewover",children:"WRITENEWOVER"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter WRITENEWOVER = "N";\n'})}),"\n",(0,a.jsx)(s.h3,{id:"writenewifabsent",children:"WRITENEWIFABSENT"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter WRITENEWIFABSENT = "E";\n'})}),"\n",(0,a.jsx)(s.h3,{id:"rwreadnodata",children:"RWREADNODATA"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter RWREADNODATA [ Final ] = 0;\n"})}),"\n",(0,a.jsx)(s.h3,{id:"rwreadnotchanged",children:"RWREADNOTCHANGED"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter RWREADNOTCHANGED [ Final ] = 1;\n"})}),"\n",(0,a.jsx)(s.h3,{id:"rwreadchanged",children:"RWREADCHANGED"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter RWREADCHANGED [ Final ] = 2;\n"})}),"\n",(0,a.jsx)(s.h3,{id:"rwwrite",children:"RWWRITE"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter RWWRITE [ Final ] = 3;\n"})}),"\n",(0,a.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,a.jsx)(s.h3,{id:"lastmodified",children:"LastModified"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Property LastModified As %TimeStamp [ Calculated ];\n"})}),"\n",(0,a.jsx)(s.h3,{id:"istemp",children:"IsTemp"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Property IsTemp As %Boolean;\n"})}),"\n",(0,a.jsx)(s.p,{children:"Flag to control whether this file is deleted automatically when the file object instance is killed or goes out of scope. The default is 0, and the file is NOT automatically deleted."}),"\n",(0,a.jsx)(s.h3,{id:"buildcharposmap",children:"BuildCharPosMap"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Property BuildCharPosMap As %Boolean [ InitialExpression = 1 ];\n"})}),"\n",(0,a.jsx)(s.p,{children:"Flag to control whether the stream object should maintain the charposmap map between character positions and external byte positions when the file is opened using a multibyte character encoding. This flag is ignored when the character set only contains single-bye characters. The flag is initialized to 0 when a file is not opened with the READ flag, but can always be modified by the user after Open() has been called."}),"\n",(0,a.jsx)(s.h3,{id:"mode",children:"%Mode"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Property %Mode As %String(TRUNCATE = 1) [ ReadOnly ];\n"})}),"\n",(0,a.jsx)(s.h3,{id:"readlinemode",children:"%ReadLineMode"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Property %ReadLineMode As %Boolean [ ReadOnly ];\n"})}),"\n",(0,a.jsx)(s.h3,{id:"rwmode",children:"%RWMode"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Property %RWMode As %Boolean [ Private ];\n"})}),"\n",(0,a.jsx)(s.h3,{id:"charposmap",children:"charposmap"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Property charposmap [ MultiDimensional, Private ];\n"})}),"\n",(0,a.jsx)(s.p,{children:"Map of byte positions to character positions"}),"\n",(0,a.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,a.jsx)(s.h3,{id:"lastmodifiedget",children:"LastModifiedGet"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method LastModifiedGet() As %TimeStamp\n"})}),"\n",(0,a.jsx)(s.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %OnNew(initvalue As %RawString) As %Status [ Private, ProcedureBlock = 1 ]\n"})}),"\n",(0,a.jsx)(s.h3,{id:"open",children:"Open"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Method Open(pName As %String = "", pMode As %String = "R", ByRef pTimeout As %Numeric = 0, pCharEncoding As %String = "Native", Output pSC As %Status) As %Boolean\n'})}),"\n",(0,a.jsx)(s.h3,{id:"reopen",children:"reopen"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method reopen(pReadLineMode As %Boolean, pForce As %Boolean, pLineTerminator As %String, ByRef pTimeout As %Numeric = 0, ByRef pSize As %Integer = 0) As %Boolean [ Private ]\n"})}),"\n",(0,a.jsx)(s.h3,{id:"newtempfilename",children:"NewTempFilename"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod NewTempFilename(tExt As %String = "", pUseTempDir As %Boolean = 0, pDirectory As %String = "") As %String\n'})}),"\n",(0,a.jsx)(s.p,{children:"Create a new, unused filename. By default, the returned filename will have no directory component and will have the default file extension specified in DEFTEMPFILEEXT. If tExt is specified, this will be used as the file extension. If pUseTempDir is true, then the filename will include the current temporary directory for the namespace in which the method is called. If pDirectory is specified, the supplied directory name will be used irrespective of the value of pUseTempDir."}),"\n",(0,a.jsx)(s.h3,{id:"close",children:"Close"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method Close(Output pSC As %Status) As %Boolean\n"})}),"\n",(0,a.jsx)(s.h3,{id:"write-1",children:"Write"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Method Write(pData As %String = "", pFlush As %Boolean, Output pSC As %Status)\n'})}),"\n",(0,a.jsx)(s.h3,{id:"read-1",children:"Read"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method Read(pMaxReadLen As %Integer, ByRef pTimeout As %Numeric = -1, Output pSC As %Status) As %String\n"})}),"\n",(0,a.jsx)(s.h3,{id:"readline",children:"ReadLine"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method ReadLine(pMaxReadLen As %Integer, ByRef pTimeout As %Numeric = -1, Output pSC As %Status, ByRef pLineTerminator As %String = {..LineTerminator}) As %String\n"})}),"\n",(0,a.jsx)(s.h3,{id:"flush",children:"Flush"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method Flush(Output pSC As %Status)\n"})}),"\n",(0,a.jsx)(s.p,{children:"Ensure that any data already written to the stream buffer is sent to the stream."}),"\n",(0,a.jsx)(s.p,{children:"In addition a reopen of the file takes place."}),"\n",(0,a.jsx)(s.p,{children:'Note: The Flush method does not ensure that data actually gets flushed to disk. Using the traditional COS "W *-3" to a device ensures that this occurs.'}),"\n",(0,a.jsx)(s.h3,{id:"externalbytesizeget",children:"ExternalByteSizeGet"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method ExternalByteSizeGet() As %Integer [ CodeMode = expression ]\n"})}),"\n",(0,a.jsx)(s.h3,{id:"sizeget",children:"SizeGet"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method SizeGet() As %Integer\n"})}),"\n",(0,a.jsx)(s.p,{children:"Return the current character size of the data stream."}),"\n",(0,a.jsx)(s.h3,{id:"externalbyteseek",children:"ExternalByteSeek"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method ExternalByteSeek(pBytePos As %Integer, Output pSC As %Status) As %Boolean\n"})}),"\n",(0,a.jsx)(s.h3,{id:"seek",children:"Seek"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method Seek(pPosition As %Integer = 1, Output pSC As %Status) As %Boolean\n"})}),"\n",(0,a.jsx)(s.h3,{id:"externalbytetruncateat",children:"ExternalByteTruncateAt"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method ExternalByteTruncateAt(pBytePos As %Integer, Output pSC As %Status) As %Boolean\n"})}),"\n",(0,a.jsx)(s.h3,{id:"truncateat",children:"TruncateAt"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method TruncateAt(pPosition As %Integer, Output pSC As %Status) As %Boolean\n"})})]})}function d(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>r});var a=n(96540);const t={},l=a.createContext(t);function i(e){const s=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(l.Provider,{value:s},e.children)}}}]);