"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[75048],{93826:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>r,default:()=>d,frontMatter:()=>i,toc:()=>a});var s=t(74848),l=t(28453);const i={pagination_prev:null,pagination_next:null},r="%iKnow.Stemming.DefaultStemmer",a=[{value:"Properties",id:"properties",level:2},{value:"Stemmers",id:"stemmers",level:3},{value:"DefaultLanguage",id:"defaultlanguage",level:3},{value:"Rules",id:"rules",level:3},{value:"Methods",id:"methods",level:2},{value:"GetStemmerObject",id:"getstemmerobject",level:3},{value:"InitializeLanguage",id:"initializelanguage",level:3},{value:"StemWord",id:"stemword",level:3},{value:"StemWordHunspell",id:"stemwordhunspell",level:3},{value:"StemWordHunspellRules",id:"stemwordhunspellrules",level:3},{value:"LoadRules",id:"loadrules",level:3},{value:"%OnNew",id:"onnew",level:3},{value:"Reload",id:"reload",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"iknowstemmingdefaultstemmer",children:"%iKnow.Stemming.DefaultStemmer"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Class %iKnow.Stemming.DefaultStemmer Extends %iKnow.Stemmer [ Deprecated, System = 4 ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"This class encapsulates logic to instantiate, use and amend stemmers for different languages. Plugin selection behavior per language is as follows: if a valid Hunspell affix and dictionary file is found in the /dev/hunspell subdirectory of your installation location (either named [language code]_*.aff or in a subdirectory named after the language code), a HunspellStemmer object will be instantiated to treat stemming requests for that language. If no such library is found, the corresponding TextStemmer will be instantiated."}),"\n",(0,s.jsx)(n.p,{children:"If the StemWord method is invoked for a particular language, this class will first look up the supplied string in the list of exceptions. If no exceptions are found (either default exceptions supplied with iKnow or custom exceptions in the Rule table for this namespace), the StemWord method of the instantiated Stemmer plugin object will be invoked. If the plugin supports returning multiple results, these will be filtered and only the first result satisfying the corresponding rules (stored in the iKnow language model or the Rule) will be returned."}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(n.h3,{id:"stemmers",children:"Stemmers"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Stemmers [ Internal, MultiDimensional, Private ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Array of language-specific stemmers in use by this default stemmer"}),"\n",(0,s.jsx)(n.h3,{id:"defaultlanguage",children:"DefaultLanguage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'Property DefaultLanguage As %String [ InitialExpression = "en" ];\n'})}),"\n",(0,s.jsx)(n.p,{children:"Default language to use when not specified in calls to Stem"}),"\n",(0,s.jsx)(n.h3,{id:"rules",children:"Rules"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Rules [ Internal, MultiDimensional ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Array of stemming rules to apply, indexed by language (sub-index levels specific to stemming plugin type)"}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h3,{id:"getstemmerobject",children:"GetStemmerObject"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method GetStemmerObject(pLanguage As %String) As %iKnow.Stemmer [ Internal ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Internal method to retrieve a stemmer object for pLanguage, initializing one if it does not exist yet."}),"\n",(0,s.jsx)(n.h3,{id:"initializelanguage",children:"InitializeLanguage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method InitializeLanguage(pLanguage As %String) As %Status [ Internal ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Initializes the default stemmer object for a particular language"}),"\n",(0,s.jsx)(n.h3,{id:"stemword",children:"StemWord"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'Method StemWord(pToken As %String, pLanguage As %String = "", pLexType As %Integer = {$$$ENTTYPECONCEPT}, pEntity As %String = "") As %String [ Internal ]\n'})}),"\n",(0,s.jsx)(n.p,{children:"Forwards to specialized implementations, according to the plugin being used"}),"\n",(0,s.jsx)(n.h3,{id:"stemwordhunspell",children:"StemWordHunspell"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'Method StemWordHunspell(pStemmer As %iKnow.Stemming.HunspellStemmer, pToken As %String, pLanguage As %String, pLexType As %Integer = {$$$ENTTYPECONCEPT}, pEntity As %String = "") As %String [ Private ]\n'})}),"\n",(0,s.jsx)(n.p,{children:"Starting point for advanced resolution of hunspell stemming results. Stems pToken using pStemmer by testing it first in the capitalization supplied initially and then with initcaps and all-caps in case no stem was found. Relays to StemWordHunspellRules for the actual stemming."}),"\n",(0,s.jsx)(n.h3,{id:"stemwordhunspellrules",children:"StemWordHunspellRules"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'Method StemWordHunspellRules(pStemmer As %iKnow.Stemming.HunspellStemmer, pToken As %String, pLanguage As %String, pLexType As %Integer = {$$$ENTTYPECONCEPT}, pEntity As %String = "", Output pHasMatch As %Boolean) As %String [ Private ]\n'})}),"\n",(0,s.jsx)(n.p,{children:"For a given token, goes through all the results presented by Hunspell and then decides which option to return (if any at all), based on the rules returned by GetHunspellRules, using context information such as pLexType"}),"\n",(0,s.jsx)(n.h3,{id:"loadrules",children:"LoadRules"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method LoadRules(pLanguage As %String, pPlugin As %String) As %Status [ Private ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Retrieves a set of rules to customize or overrule plugin output, based on default rules returned by GetDefaultRules and the content of the %iKnow.Stemming.Rule table. Any result retrieved by a plugin will have to pass these rules (where applicable) or it will not be returned. Note that this may result in no results to be passed back at all!"}),"\n",(0,s.jsx)(n.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method %OnNew(pDefaultLanguage As %String) As %Status [ Private, ServerOnly = 1 ]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"reload",children:"Reload"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method Reload() As %Status\n"})}),"\n",(0,s.jsx)(n.p,{children:"Reloads underlying stemmer implementations and rules"})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var s=t(96540);const l={},i=s.createContext(l);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);