"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[67561],{77227:(e,s,n)=>{n.r(s),n.d(s,{contentTitle:()=>o,default:()=>c,frontMatter:()=>i,toc:()=>l});var r=n(74848),t=n(28453);const i={pagination_prev:null,pagination_next:null},o="%SYS.Monitor.AbstractSensor",l=[{value:"Properties",id:"properties",level:2},{value:"Logfile",id:"logfile",level:3},{value:"SensorReading",id:"sensorreading",level:3},{value:"SensorMaxValue",id:"sensormaxvalue",level:3},{value:"State",id:"state",level:3},{value:"Notifications",id:"notifications",level:3},{value:"Methods",id:"methods",level:2},{value:"Start",id:"start",level:3},{value:"GetSensors",id:"getsensors",level:3},{value:"SetSensor",id:"setsensor",level:3},{value:"ClearSensors",id:"clearsensors",level:3},{value:"ClearNotifications",id:"clearnotifications",level:3},{value:"Notify",id:"notify",level:3},{value:"OpenLog",id:"openlog",level:3},{value:"LogMsg",id:"logmsg",level:3},{value:"LogCon",id:"logcon",level:3}];function a(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"sysmonitorabstractsensor",children:"%SYS.Monitor.AbstractSensor"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Class %SYS.Monitor.AbstractSensor Extends %RegisteredObject [ Abstract, System = 3 ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Abstract class for a Sensor"}),"\n",(0,r.jsx)(s.p,{children:"User classes inherit from this class to become a Sensor for System Monitor."}),"\n",(0,r.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(s.h3,{id:"logfile",children:"Logfile"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property Logfile As %String [ InitialExpression = {$zu(12)_"SystemMonitor.log"}, Internal ];\n'})}),"\n",(0,r.jsx)(s.p,{children:"logfile"}),"\n",(0,r.jsx)(s.h3,{id:"sensorreading",children:"SensorReading"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property SensorReading [ Internal, MultiDimensional ];\n"})}),"\n",(0,r.jsx)(s.p,{children:"Array of sensor name / value pairs"}),"\n",(0,r.jsx)(s.h3,{id:"sensormaxvalue",children:"SensorMaxValue"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property SensorMaxValue [ Internal, MultiDimensional ];\n"})}),"\n",(0,r.jsx)(s.p,{children:"Array of sensor name / high water mark value pairs [deprecated]"}),"\n",(0,r.jsx)(s.h3,{id:"state",children:"State"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property State As %String [ InitialExpression = " " ];\n'})}),"\n",(0,r.jsx)(s.p,{children:"Runtime state"}),"\n",(0,r.jsx)(s.h3,{id:"notifications",children:"Notifications"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property Notifications [ MultiDimensional ];\n"})}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h3,{id:"start",children:"Start"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method Start() As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:"USER MAY IMPLEMENT THIS METHOD"}),"\n",(0,r.jsx)(s.p,{children:"The System Monitor Controller calls this method once when it starts. The user may initialize the properties, counters, etc."}),"\n",(0,r.jsx)(s.p,{children:"A return code of $$$OK indicates there were no errors. A return code of 0 indicates a failure."}),"\n",(0,r.jsx)(s.h3,{id:"getsensors",children:"GetSensors"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method GetSensors() As %Status [ Abstract ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"USER MUST IMPLEMENT THIS METHOD"}),"\n",(0,r.jsx)(s.p,{children:"The System Monitor Controller calls this method to get sensor readings. It is called every 10 seconds by default."}),"\n",(0,r.jsx)(s.p,{children:"Users may return readings for multiple sensors (but only one reading per sensor on each call). User calls SetSensor(sensorname, value[,type]) for every sensor reading. The sensors are kept in the property SensorReading(sensor)=value, and SensorType(sensor)=type. The controller picks up the sensors and their values after the return from GetSensors()."}),"\n",(0,r.jsx)(s.p,{children:"A return code of $$$OK indicates there were no errors. A return code of 0 indicates a failure."}),"\n",(0,r.jsx)(s.h3,{id:"setsensor",children:"SetSensor"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Method SetSensor(Sensor As %String, Value As %String, Qualifier As %String = "") As %Integer\n'})}),"\n",(0,r.jsx)(s.p,{children:"USER DOES NOT IMPLEMENT THIS METHOD The user must call this method to set a sensor reading. Readings are picked up by the controller after GetSensors() returns."}),"\n",(0,r.jsx)(s.h3,{id:"clearsensors",children:"ClearSensors"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method ClearSensors() As %Integer [ Final ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"USER DOES NOT IMPLEMENT THIS METHOD The controller calls this to initialize the SensorReadings array."}),"\n",(0,r.jsx)(s.h3,{id:"clearnotifications",children:"ClearNotifications"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method ClearNotifications() As %Integer [ Final ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"USER DOES NOT IMPLEMENT THIS METHOD This method is called to clear notifications for the SYS.Monitor Controller"}),"\n",(0,r.jsx)(s.h3,{id:"notify",children:"Notify"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method Notify(Sensor As %String, Severity As %Integer, Msg As %String) As %Integer [ Final ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"USER DOES NOT IMPLEMENT THIS METHOD This method is called to post a notification"}),"\n",(0,r.jsx)(s.h3,{id:"openlog",children:"OpenLog"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method OpenLog() As %Status [ Final ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"USER DOES NOT IMPLEMENT THIS METHOD"}),"\n",(0,r.jsx)(s.h3,{id:"logmsg",children:"LogMsg"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Method LogMsg(msg As %String = "") As %Status [ Final ]\n'})}),"\n",(0,r.jsx)(s.p,{children:"USER DOES NOT IMPLEMENT THIS METHOD"}),"\n",(0,r.jsx)(s.p,{children:"User may call this method to log information to the SystemMonitor.log file in the mgr directory."}),"\n",(0,r.jsx)(s.h3,{id:"logcon",children:"LogCon"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Method LogCon(Msg As %String = "", Severity As %Integer = 0) As %Status [ Final ]\n'})}),"\n",(0,r.jsx)(s.p,{children:"USER DOES NOT IMPLEMENT THIS METHOD"}),"\n",(0,r.jsx)(s.p,{children:"User may call this method to post alerts directly to the messages.log file."})]})}function c(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>l});var r=n(96540);const t={},i=r.createContext(t);function o(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);