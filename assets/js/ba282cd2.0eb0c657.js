"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[31217],{60764:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>i,default:()=>o,frontMatter:()=>l,toc:()=>r});var a=s(74848),t=s(28453);const l={pagination_prev:null,pagination_next:null},i="%CSP.UI.Portal.OpDatabases",r=[{value:"Parameters",id:"parameters",level:2},{value:"AUTONS",id:"autons",level:3},{value:"CSPURL",id:"cspurl",level:3},{value:"HELPADDRESS",id:"helpaddress",level:3},{value:"PAGENAME",id:"pagename",level:3},{value:"RESOURCE",id:"resource",level:3},{value:"Properties",id:"properties",level:2},{value:"msgDismount",id:"msgdismount",level:3},{value:"colDismount",id:"coldismount",level:3},{value:"colMount",id:"colmount",level:3},{value:"FreespacesOn",id:"freespaceson",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"Style",id:"style",level:3},{value:"contentPane",id:"contentpane",level:3},{value:"Methods",id:"methods",level:2},{value:"doSelectRow",id:"doselectrow",level:3},{value:"doFreespaceSwitch",id:"dofreespaceswitch",level:3},{value:"filterChanged",id:"filterchanged",level:3},{value:"updateView",id:"updateview",level:3},{value:"%OnAfterCreatePage",id:"onaftercreatepage",level:3},{value:"%GetLocatorLinks",id:"getlocatorlinks",level:3},{value:"OnGetRibbonInfo",id:"ongetribboninfo",level:3},{value:"%OnGetPageName",id:"ongetpagename",level:3},{value:"DrawDB",id:"drawdb",level:3},{value:"doIntegrity",id:"dointegrity",level:3},{value:"doLog",id:"dolog",level:3},{value:"OnDrawRibbon",id:"ondrawribbon",level:3},{value:"onloadHandler",id:"onloadhandler",level:3},{value:"SaveFreespaceOn",id:"savefreespaceon",level:3}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"cspuiportalopdatabases",children:"%CSP.UI.Portal.OpDatabases"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"Class %CSP.UI.Portal.OpDatabases Extends %CSP.UI.Portal.Utils [ System = 4 ]\n"})}),"\n",(0,a.jsx)(n.p,{children:"System Management Portal - System Operations - Local Databases"}),"\n",(0,a.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(n.h3,{id:"autons",children:"AUTONS"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter AUTONS As BOOLEAN = 0;\n"})}),"\n",(0,a.jsx)(n.p,{children:"Do not switch namespace for this page: it needs to stay in %SYS"}),"\n",(0,a.jsx)(n.h3,{id:"cspurl",children:"CSPURL"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter CSPURL = "/csp/sys/op/%CSP.UI.Portal.OpDatabases.zen";\n'})}),"\n",(0,a.jsx)(n.h3,{id:"helpaddress",children:"HELPADDRESS"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter HELPADDRESS = "Home,Databases";\n'})}),"\n",(0,a.jsx)(n.h3,{id:"pagename",children:"PAGENAME"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter PAGENAME = "Operation Local Databases";\n'})}),"\n",(0,a.jsx)(n.p,{children:"Displayed name of this page."}),"\n",(0,a.jsx)(n.h3,{id:"resource",children:"RESOURCE"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter RESOURCE = "%Admin_Operate";\n'})}),"\n",(0,a.jsx)(n.p,{children:"Security requirement"}),"\n",(0,a.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,a.jsx)(n.h3,{id:"msgdismount",children:"msgDismount"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:'Property msgDismount As %ZEN.Datatype.caption [ InitialExpression = {$$$TextJS("Are you sure you want to dismount database %1?")} ];\n'})}),"\n",(0,a.jsx)(n.h3,{id:"coldismount",children:"colDismount"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:'Property colDismount As %ZEN.Datatype.caption [ InitialExpression = {$$$Text("Dismount")} ];\n'})}),"\n",(0,a.jsx)(n.p,{children:"Store translated targetCol linkCaption for"}),"\n",(0,a.jsx)(n.h3,{id:"colmount",children:"colMount"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:'Property colMount As %ZEN.Datatype.caption [ InitialExpression = {$$$Text("Mount")} ];\n'})}),"\n",(0,a.jsx)(n.h3,{id:"freespaceson",children:"FreespacesOn"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:'Property FreespacesOn As %String(ZENURL = "FreespacesOn");\n'})}),"\n",(0,a.jsx)(n.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,a.jsx)(n.h3,{id:"style",children:"Style"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"XData Style\n"})}),"\n",(0,a.jsx)(n.h3,{id:"contentpane",children:"contentPane"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:'XData contentPane [ XMLNamespace = "http://www.intersystems.com/zen" ]\n'})}),"\n",(0,a.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,a.jsx)(n.h3,{id:"doselectrow",children:"doSelectRow"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod doSelectRow(option) [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(n.p,{children:"allow to open details page when clicking on a row anywhere."}),"\n",(0,a.jsx)(n.h3,{id:"dofreespaceswitch",children:"doFreespaceSwitch"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod doFreespaceSwitch() [ Language = javascript ]\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Method to execute the query and show/hide the table according to user selected view type: General and Free space.",(0,a.jsx)(n.br,{}),"\nThis method is invoked when the page is first loaded, and when user click to change view."]}),"\n",(0,a.jsx)(n.h3,{id:"filterchanged",children:"filterChanged"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod filterChanged(value) [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(n.p,{children:"User entered something in to the filter. Re-load the table with filter value."}),"\n",(0,a.jsx)(n.h3,{id:"updateview",children:"updateView"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod updateView() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(n.p,{children:"Update / Reload table. This overrides the one in Portal.Utils."}),"\n",(0,a.jsx)(n.h3,{id:"onaftercreatepage",children:"%OnAfterCreatePage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"Method %OnAfterCreatePage() As %Status\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getlocatorlinks",children:"%GetLocatorLinks"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"Method %GetLocatorLinks(Output pLink) As %Status\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Return the array of links to show in the locator bar.",(0,a.jsx)(n.br,{}),"\npLink(n)=$LB(caption,link)"]}),"\n",(0,a.jsx)(n.h3,{id:"ongetribboninfo",children:"OnGetRibbonInfo"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"Method OnGetRibbonInfo(Output pDisplay As %Boolean, Output pViewIcons As %List, Output pSortOptions As %List, Output pSearchBox As %Boolean, Output pRibbonTitle As %String, Output pCommands As %List) As %Status\n"})}),"\n",(0,a.jsx)(n.p,{children:"Get information to display in the ribbon bar."}),"\n",(0,a.jsx)(n.h3,{id:"ongetpagename",children:"%OnGetPageName"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"Method %OnGetPageName() As %String\n"})}),"\n",(0,a.jsx)(n.p,{children:"Get the (localized) name of the page. This should be implemented in a subclass."}),"\n",(0,a.jsx)(n.h3,{id:"drawdb",children:"DrawDB"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"Method DrawDB(pTable As %ZEN.Component.tablePane, pName As %String, pSeed As %String) As %Status\n"})}),"\n",(0,a.jsx)(n.p,{children:"User override of cell-display for tablePane."}),"\n",(0,a.jsx)(n.h3,{id:"dointegrity",children:"doIntegrity"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod doIntegrity() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(n.h3,{id:"dolog",children:"doLog"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod doLog() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(n.h3,{id:"ondrawribbon",children:"OnDrawRibbon"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"Method OnDrawRibbon() As %Status\n"})}),"\n",(0,a.jsx)(n.p,{children:"This is called in the middle of rendering the tool ribbon. Subclasses can inject their own content into the ribbon by writing it out in this method. This content should be wrapped within a td element."}),"\n",(0,a.jsx)(n.h3,{id:"onloadhandler",children:"onloadHandler"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod onloadHandler() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(n.p,{children:"You may turn freespaces switch on (e.g. from EnsembleMonitor) on page opening Otherwise it is off as default."}),"\n",(0,a.jsx)(n.h3,{id:"savefreespaceon",children:"SaveFreespaceOn"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod SaveFreespaceOn(pValue As %String) [ ZenMethod ]\n"})}),"\n",(0,a.jsx)(n.p,{children:"Save user's freespace selection value"})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>r});var a=s(96540);const t={},l=a.createContext(t);function i(e){const n=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(l.Provider,{value:n},e.children)}}}]);