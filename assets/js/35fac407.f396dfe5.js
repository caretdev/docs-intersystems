"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[15770],{6282:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>a,default:()=>d,frontMatter:()=>r,toc:()=>l});var i=n(74848),s=n(28453);const r={pagination_prev:null,pagination_next:null},a="OAuth2.Client",l=[{value:"Properties",id:"properties",level:2},{value:"ApplicationName",id:"applicationname",level:3},{value:"Enabled",id:"enabled",level:3},{value:"Description",id:"description",level:3},{value:"ClientType",id:"clienttype",level:3},{value:"SSLConfiguration",id:"sslconfiguration",level:3},{value:"RedirectionEndpoint",id:"redirectionendpoint",level:3},{value:"DefaultScope",id:"defaultscope",level:3},{value:"JWTInterval",id:"jwtinterval",level:3},{value:"JWTAudience",id:"jwtaudience",level:3},{value:"ClientId",id:"clientid",level:3},{value:"ClientSecret",id:"clientsecret",level:3},{value:"ClientCredentials",id:"clientcredentials",level:3},{value:"ClientPassword",id:"clientpassword",level:3},{value:"PrivateJWKS",id:"privatejwks",level:3},{value:"PublicJWKS",id:"publicjwks",level:3},{value:"JWKSFromCredentials",id:"jwksfromcredentials",level:3},{value:"RemotePublicJWKS",id:"remotepublicjwks",level:3},{value:"RemotePublicJWKSExpires",id:"remotepublicjwksexpires",level:3},{value:"SymmetricJWKS",id:"symmetricjwks",level:3},{value:"AuthenticationType",id:"authenticationtype",level:3},{value:"SigningAlgorithm",id:"signingalgorithm",level:3},{value:"EncryptionAlgorithm",id:"encryptionalgorithm",level:3},{value:"KeyAlgorithm",id:"keyalgorithm",level:3},{value:"Metadata",id:"metadata",level:3},{value:"AcceptNonStandardImplicitIdToken",id:"acceptnonstandardimplicitidtoken",level:3},{value:"ServerDefinition",id:"serverdefinition",level:3},{value:"Methods",id:"methods",level:2},{value:"JWTIntervalGet",id:"jwtintervalget",level:3},{value:"JWTAudienceGet",id:"jwtaudienceget",level:3},{value:"AuthenticationTypeSet",id:"authenticationtypeset",level:3},{value:"AuthenticationTypeGet",id:"authenticationtypeget",level:3},{value:"SigningAlgorithmSet",id:"signingalgorithmset",level:3},{value:"SigningAlgorithmGet",id:"signingalgorithmget",level:3},{value:"EncryptionAlgorithmSet",id:"encryptionalgorithmset",level:3},{value:"EncryptionAlgorithmGet",id:"encryptionalgorithmget",level:3},{value:"KeyAlgorithmSet",id:"keyalgorithmset",level:3},{value:"KeyAlgorithmGet",id:"keyalgorithmget",level:3},{value:"%OnNew",id:"onnew",level:3},{value:"Open",id:"open",level:3},{value:"Upgrade",id:"upgrade",level:3},{value:"UpdateMetadata",id:"updatemetadata",level:3},{value:"GetReturnedMetadata",id:"getreturnedmetadata",level:3},{value:"RegisterClient",id:"registerclient",level:3},{value:"ReadClient",id:"readclient",level:3},{value:"UpdateClient",id:"updateclient",level:3},{value:"DeleteClientRegistration",id:"deleteclientregistration",level:3},{value:"GetMetadataFromRequest",id:"getmetadatafromrequest",level:3},{value:"RotateKeys",id:"rotatekeys",level:3},{value:"RefreshJWKS",id:"refreshjwks",level:3},{value:"%OnValidateObject",id:"onvalidateobject",level:3},{value:"%OnAddToSaveSet",id:"onaddtosaveset",level:3},{value:"%OnBeforeSave",id:"onbeforesave",level:3},{value:"DeleteId",id:"deleteid",level:3},{value:"%OnDelete",id:"ondelete",level:3}];function c(e){const t={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"oauth2client",children:"OAuth2.Client"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Class OAuth2.Client Extends %Persistent [ System = 4 ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"The OAuth2.Client class describes an OAuth2 client and references the Authorization server that it uses to authorize the application based on RFC 6749. A client system may be used with multiple authorization servers for different applications."}),"\n",(0,i.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(t.h3,{id:"applicationname",children:"ApplicationName"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property ApplicationName As %String(MAXLEN = 128, MINLEN = 1) [ Required ];\n"})}),"\n",(0,i.jsxs)(t.p,{children:["The IDKEY for the application class. The ApplicationName identifies this application (client + authorization server) configuration.",(0,i.jsx)(t.br,{}),"\nChosen by user during configuration."]}),"\n",(0,i.jsx)(t.h3,{id:"enabled",children:"Enabled"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property Enabled As %Boolean [ InitialExpression = 1, Required ];\n"})}),"\n",(0,i.jsxs)(t.p,{children:["True if client application is enabled.",(0,i.jsx)(t.br,{}),"\nChosen by user during configuration."]}),"\n",(0,i.jsx)(t.h3,{id:"description",children:"Description"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property Description As %String(MAXLEN = 256);\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Description of the application.",(0,i.jsx)(t.br,{}),"\nChosen by user during configuration."]}),"\n",(0,i.jsx)(t.h3,{id:"clienttype",children:"ClientType"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property ClientType As %String(VALUELIST = ",public,confidential,resource") [ Required ];\n'})}),"\n",(0,i.jsxs)(t.p,{children:["The type of client configuration:",(0,i.jsx)(t.br,{}),"\npublic - a public client. See RFC 6749 confidential - a confidential client. See RFC 6749 resource - a resource server which is not also a client.",(0,i.jsx)(t.br,{}),"\nChosen by user during configuration. Will usually be confidential client for an InterSystems IRIS application."]}),"\n",(0,i.jsx)(t.h3,{id:"sslconfiguration",children:"SSLConfiguration"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property SSLConfiguration As %String(MAXLEN = 64, MINLEN = 1) [ Required ];\n"})}),"\n",(0,i.jsxs)(t.p,{children:["The name of the activated TLS/SSL configuration to use for authorization server requests.",(0,i.jsx)(t.br,{}),"\nChosen by user during configuration."]}),"\n",(0,i.jsx)(t.h3,{id:"redirectionendpoint",children:"RedirectionEndpoint"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property RedirectionEndpoint As OAuth2.Endpoint;\n"})}),"\n",(0,i.jsxs)(t.p,{children:["The endpoint object for the URL to be used by the authorization server to return the response to an authorization request.",(0,i.jsx)(t.br,{}),"\nRequired if ClientType is public or confidential, Chosen by user during configuration."]}),"\n",(0,i.jsx)(t.h3,{id:"defaultscope",children:"DefaultScope"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property DefaultScope As %String(MAXLEN = "");\n'})}),"\n",(0,i.jsxs)(t.p,{children:["The default scope, as a blank separated list, for access token requests.",(0,i.jsx)(t.br,{}),"\nChosen by user during configuration."]}),"\n",(0,i.jsx)(t.h3,{id:"jwtinterval",children:"JWTInterval"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property JWTInterval As %Integer [ InitialExpression = 60 ];\n"})}),"\n",(0,i.jsx)(t.p,{children:"JWTInterval is the interval in seconds after which a JWT expires which is used for client_secret_jwt or private_key_jwt authentication types. The default is 1 minute. There should be no need to change the default since this JWT may only be used once."}),"\n",(0,i.jsx)(t.h3,{id:"jwtaudience",children:"JWTAudience"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property JWTAudience As %String(MAXLEN = 256);\n"})}),"\n",(0,i.jsx)(t.p,{children:'Defines the value to use for the "aud" claim in tokens generated for private_key_jwt and client_secret_jwt authentication methods, as well as for the JWT Authorization grant type. For new configurations this will be the authorization server\'s token endpoint by default. For backwards compatibility, if this is undefined the client will use the issuer endpoint.'}),"\n",(0,i.jsx)(t.h3,{id:"clientid",children:"ClientId"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property ClientId As %String(MAXLEN = "");\n'})}),"\n",(0,i.jsxs)(t.p,{children:["The client id that is supplied during client registration.",(0,i.jsx)(t.br,{}),"\nRequired for all ClientTypes."]}),"\n",(0,i.jsx)(t.h3,{id:"clientsecret",children:"ClientSecret"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property ClientSecret As %String(MAXLEN = "");\n'})}),"\n",(0,i.jsxs)(t.p,{children:["The client secret that is supplied during client registration.",(0,i.jsx)(t.br,{}),"\nRequired if ClientType is confidential or resource server."]}),"\n",(0,i.jsx)(t.h3,{id:"clientcredentials",children:"ClientCredentials"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property ClientCredentials As %String;\n"})}),"\n",(0,i.jsx)(t.p,{children:"ClientCredentials is the alias of the %SYS.X509Credentials object which contains the client's certificate and private key."}),"\n",(0,i.jsx)(t.h3,{id:"clientpassword",children:"ClientPassword"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property ClientPassword As %String(MAXLEN = 128);\n"})}),"\n",(0,i.jsx)(t.p,{children:"ClientPassword is the password for the private key in ClientCredentials if the password is not in the %SYS.X5009Credentials object"}),"\n",(0,i.jsx)(t.h3,{id:"privatejwks",children:"PrivateJWKS"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property PrivateJWKS As %String(MAXLEN = "") [ Internal ];\n'})}),"\n",(0,i.jsxs)(t.p,{children:["PrivateJWKS is the JWKS which contains the private asymmetric keys for this client. If ClientCredentials is specified, then PrivateJWKS is created using the public/private key pair specified by these credentials. Otherwise, we generate the private/public keys pairs.",(0,i.jsx)(t.br,{}),"\nThis property should never be set directly for configuration."]}),"\n",(0,i.jsx)(t.h3,{id:"publicjwks",children:"PublicJWKS"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property PublicJWKS As %String(MAXLEN = "") [ Internal ];\n'})}),"\n",(0,i.jsxs)(t.p,{children:["PublicJWKS is the JWKS which contains the public asymmetric keys for this client which are to be made available via the jwks_uri metadata property. If ClientCredentials is specified, then PublicJWKS is created along with PrivateJWKS using the public/private key pair specified by these credentials. Otherwise, we generate the private/public keys pairs.",(0,i.jsx)(t.br,{}),"\nThis property should never be set directly for configuration."]}),"\n",(0,i.jsx)(t.h3,{id:"jwksfromcredentials",children:"JWKSFromCredentials"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property JWKSFromCredentials As %Boolean [ InitialExpression = 0, Internal ];\n"})}),"\n",(0,i.jsx)(t.p,{children:"JWKSFromCredentials is true if the JWKSs were created from ClientCredentials<>br> This property should never be set directly for configuration."}),"\n",(0,i.jsx)(t.h3,{id:"remotepublicjwks",children:"RemotePublicJWKS"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property RemotePublicJWKS As %String(MAXLEN = "") [ Deprecated, Internal ];\n'})}),"\n",(0,i.jsxs)(t.p,{children:["This property is deprecated. The public keys are stored in ",(0,i.jsx)(t.strong,{children:"PublicJWKS"})," property of OAuth2.ServerDefinition and the symmetric keys are stored in SymmetricJWKS."]}),"\n",(0,i.jsx)(t.h3,{id:"remotepublicjwksexpires",children:"RemotePublicJWKSExpires"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property RemotePublicJWKSExpires As %Integer [ Deprecated, Internal ];\n"})}),"\n",(0,i.jsx)(t.p,{children:"This property is deprecated. The public keys and their expiration are managed by OAuth2.ServerDefininition."}),"\n",(0,i.jsx)(t.h3,{id:"symmetricjwks",children:"SymmetricJWKS"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property SymmetricJWKS As %String(MAXLEN = "") [ Internal ];\n'})}),"\n",(0,i.jsx)(t.p,{children:"SymmetricJWKS stores the symmetric keys used by this OAuth2 client configuration. These keys are typically derived from the client secret."}),"\n",(0,i.jsx)(t.h3,{id:"authenticationtype",children:"AuthenticationType"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property AuthenticationType As %String(VALUELIST = ",none,basic,body,client_secret_jwt,private_key_jwt") [ Deprecated, InitialExpression = "basic" ];\n'})}),"\n",(0,i.jsxs)(t.p,{children:["**** Replaced by OAuth2.Client.Metadata properties when dynamic client support introduced",(0,i.jsx)(t.br,{}),"\nThe type of authentication (as specified in RFC 6749 or OpenID Connect Core section 9) to be used for HTTP requests to the authorization server."]}),"\n",(0,i.jsx)(t.h3,{id:"signingalgorithm",children:"SigningAlgorithm"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property SigningAlgorithm As %String(VALUELIST = ",RS256,RS384,RS512") [ Deprecated ];\n'})}),"\n",(0,i.jsx)(t.p,{children:"**** Replaced by OAuth2.Client.Metadata properties when dynamic client support introduced"}),"\n",(0,i.jsx)(t.h3,{id:"encryptionalgorithm",children:"EncryptionAlgorithm"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property EncryptionAlgorithm As %String(VALUELIST = ",A128CBC-HS256,A192CBC-HS384,A256CBC-HS512") [ Deprecated ];\n'})}),"\n",(0,i.jsx)(t.p,{children:"**** Replaced by OAuth2.Client.Metadata properties when dynamic client support introduced"}),"\n",(0,i.jsx)(t.h3,{id:"keyalgorithm",children:"KeyAlgorithm"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'Property KeyAlgorithm As %String(VALUELIST = ",RSA1_5,RSA-OAEP") [ Deprecated ];\n'})}),"\n",(0,i.jsx)(t.p,{children:"**** Replaced by OAuth2.Client.Metadata properties when dynamic client support introduced"}),"\n",(0,i.jsx)(t.h3,{id:"metadata",children:"Metadata"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property Metadata As OAuth2.Client.Metadata;\n"})}),"\n",(0,i.jsx)(t.p,{children:"The meta data which describes this client."}),"\n",(0,i.jsx)(t.h3,{id:"acceptnonstandardimplicitidtoken",children:"AcceptNonStandardImplicitIdToken"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Property AcceptNonStandardImplicitIdToken As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,i.jsx)(t.p,{children:"If AcceptNonStandardImplicitIdToken is true, then this client will accept requested id tokens even when the server response they are sent in does not contain the openid scope."}),"\n",(0,i.jsx)(t.h3,{id:"serverdefinition",children:"ServerDefinition"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Relationship ServerDefinition As OAuth2.ServerDefinition [ Cardinality = one, Inverse = Clients ];\n"})}),"\n",(0,i.jsx)(t.p,{children:"ServerDefinition is the reference to the OAuth2.ServerDefinition object which describes the authorization server to be used for this client."}),"\n",(0,i.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(t.h3,{id:"jwtintervalget",children:"JWTIntervalGet"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method JWTIntervalGet() As %Integer [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Use a getter method to force default value for existing client configurations."}),"\n",(0,i.jsx)(t.h3,{id:"jwtaudienceget",children:"JWTAudienceGet"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method JWTAudienceGet() As %String\n"})}),"\n",(0,i.jsx)(t.h3,{id:"authenticationtypeset",children:"AuthenticationTypeSet"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method AuthenticationTypeSet(authenticationType As %String) As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Store value in metadata for compatibility"}),"\n",(0,i.jsx)(t.h3,{id:"authenticationtypeget",children:"AuthenticationTypeGet"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method AuthenticationTypeGet() As %String [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Get value from metadata for compatibility"}),"\n",(0,i.jsx)(t.h3,{id:"signingalgorithmset",children:"SigningAlgorithmSet"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method SigningAlgorithmSet(signingAlgorithm As %String) As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Store value in metadata for compatibility"}),"\n",(0,i.jsx)(t.h3,{id:"signingalgorithmget",children:"SigningAlgorithmGet"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method SigningAlgorithmGet() As %String [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"No value for kinds of JWTs"}),"\n",(0,i.jsx)(t.h3,{id:"encryptionalgorithmset",children:"EncryptionAlgorithmSet"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method EncryptionAlgorithmSet(encryptionAlgorithm As %String) As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Store value in metadata for compatibility"}),"\n",(0,i.jsx)(t.h3,{id:"encryptionalgorithmget",children:"EncryptionAlgorithmGet"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method EncryptionAlgorithmGet() As %String [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"No value for kinds of JWTs"}),"\n",(0,i.jsx)(t.h3,{id:"keyalgorithmset",children:"KeyAlgorithmSet"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method KeyAlgorithmSet(keyAlgorithm As %String) As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Store value in metadata for compatibility"}),"\n",(0,i.jsx)(t.h3,{id:"keyalgorithmget",children:"KeyAlgorithmGet"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method KeyAlgorithmGet() As %String [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"No value for kinds of JWTs"}),"\n",(0,i.jsx)(t.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnNew() As %Status [ Internal, Private ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Get a new OAuth2.Client instance."}),"\n",(0,i.jsx)(t.h3,{id:"open",children:"Open"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod Open(applicationName As %String, Output sc As %Status) As OAuth2.Client\n"})}),"\n",(0,i.jsx)(t.p,{children:"Open an OAuth2.Client instance based on the applicationName ID property"}),"\n",(0,i.jsx)(t.h3,{id:"upgrade",children:"Upgrade"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method Upgrade() As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Upgrade OAuth2.Client instance when dynamic client support introduced"}),"\n",(0,i.jsx)(t.h3,{id:"updatemetadata",children:"UpdateMetadata"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method UpdateMetadata() As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Update the client metadata. This method is called before creating the JSON string needed for dynamic client registration to update the metadata properties which can be changed after compile time."}),"\n",(0,i.jsx)(t.h3,{id:"getreturnedmetadata",children:"GetReturnedMetadata"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method GetReturnedMetadata() [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Update the client configuration based on the metadata response returned during dynamic registration."}),"\n",(0,i.jsx)(t.h3,{id:"registerclient",children:"RegisterClient"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method RegisterClient() As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Register this client using OpenID Connect Dynamic Client Registration. If successful, this client instance will be updated based on the registration."}),"\n",(0,i.jsx)(t.h3,{id:"readclient",children:"ReadClient"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method ReadClient() As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Read the client metadata for this client using OpenID Connect Dynamic Client Registration. If successful, this client instance will be updated based on the registration."}),"\n",(0,i.jsx)(t.h3,{id:"updateclient",children:"UpdateClient"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method UpdateClient() As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Read the client metadata for this client using OpenID Connect Dynamic Client Registration. If successful, this client instance will be updated based on the registration."}),"\n",(0,i.jsx)(t.h3,{id:"deleteclientregistration",children:"DeleteClientRegistration"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method DeleteClientRegistration() As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Delete the client metadata stored on the server using Dynamic Client Registration. The metadata for the client registration is removed, but the client itself is not deleted."}),"\n",(0,i.jsx)(t.h3,{id:"getmetadatafromrequest",children:"GetMetadataFromRequest"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method GetMetadataFromRequest(httpRequest As %Net.HttpRequest, jsonObject As %DynamicAbstractObject, updateClient) As %Status [ Private ]\n"})}),"\n",(0,i.jsx)(t.h3,{id:"rotatekeys",children:"RotateKeys"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method RotateKeys() As %Status\n"})}),"\n",(0,i.jsx)(t.p,{children:"Rotate the client's public/private key pairs by adding a new key pair to the JWKS and saving the JWKS. At this time, all private keys are kept. In the future only a limited set of private keys will be kept."}),"\n",(0,i.jsx)(t.h3,{id:"refreshjwks",children:"RefreshJWKS"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method RefreshJWKS(force As %Boolean = 0, save As %Boolean = 1, Output sc As %Status) As %Boolean\n"})}),"\n",(0,i.jsx)(t.p,{children:"If the server's public JWKS was specified using the jwks_uri metadata parameter, this method will fetch the jwks if it has expired."}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Parameters"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"force"})," - refresh the jwks even if the cached version is still valid (default is 0)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"save"})," - save the client definition (default is 1)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"sc"})," (output) - Status code structure containing any errors\n",(0,i.jsx)(t.strong,{children:"Returns"}),":"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"1"})," - if the jwks was updated"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"0"})," - if the cached version was still valid"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"onvalidateobject",children:"%OnValidateObject"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnValidateObject() As %Status [ Internal, Private ]\n"})}),"\n",(0,i.jsx)(t.h3,{id:"onaddtosaveset",children:"%OnAddToSaveSet"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnAddToSaveSet(depth As %Integer = 3, insert As %Integer = 0, callcount As %Integer = 0) As %Status [ Internal, Private, ServerOnly = 1 ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"This callback method is invoked when the current object is added to the SaveSet, either because %Save() was invoked on this object or on an object that references this object. %OnAddToSaveSet can modify the current object. It can also add other objects to the current SaveSet by invoking %AddToSaveSet or remove objects by calling %RemoveFromSaveSet."}),"\n",(0,i.jsx)(t.p,{children:"If this method returns an error status then %Save() will fail and the transaction will be rolled back."}),"\n",(0,i.jsx)(t.h3,{id:"onbeforesave",children:"%OnBeforeSave"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnBeforeSave(insert As %Boolean) As %Status [ Internal, Private ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"This callback method is invoked by the %Save method to provide notification that the object is being saved. It is called before any data is written to disk."}),"\n",(0,i.jsx)(t.p,{children:"insert will be set to 1 if this object is being saved for the first time."}),"\n",(0,i.jsx)(t.p,{children:"If this method returns an error then the call to %Save will fail."}),"\n",(0,i.jsx)(t.h3,{id:"deleteid",children:"DeleteId"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod DeleteId(id As %String) As %Status\n"})}),"\n",(0,i.jsx)(t.p,{children:"Delete this client configuration."}),"\n",(0,i.jsx)(t.h3,{id:"ondelete",children:"%OnDelete"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %OnDelete(oid As %ObjectIdentity) As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"This callback method is invoked by the %Delete method to provide notification that the object specified by oid is being deleted."}),"\n",(0,i.jsx)(t.p,{children:"If this method returns an error then the object will not be deleted. [Previously private]"})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>l});var i=n(96540);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);