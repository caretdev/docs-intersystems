"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[38368],{10379:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>o,default:()=>l,frontMatter:()=>a,toc:()=>i});var s=t(74848),r=t(28453);const a={pagination_prev:null,pagination_next:null},o="MonitorTools.SNMP",i=[{value:"Methods",id:"methods",level:2},{value:"CreateMIB",id:"createmib",level:3},{value:"DeleteMIB",id:"deletemib",level:3},{value:"Debug",id:"debug",level:3},{value:"Ask",id:"ask",level:3}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"monitortoolssnmp",children:"MonitorTools.SNMP"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Class MonitorTools.SNMP Extends %RegisteredObject [ System = 4 ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"System class methods to support SNMP. Allow users to extend the InterSystems IRIS MIB and use the SNMP agent for their own MIBs, using the definitions created by the %Monitor framework."}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h3,{id:"createmib",children:"CreateMIB"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod CreateMIB(AppName As %String = "IRIS", Namespace As %String = "%SYS", EntID As %Integer = 16563, AppID As %Integer = 1, Company As %String = "intersystems", Prefix As %String = "iris", CompanyShort As %String = "isc", MIBname As %String = "ISC-IRIS", Contact As %String = "1 Memorial Drive, Cambridge MA 02142, Subject: ISC-IRIS.mib", List As %Boolean = 1) As %Status\n'})}),"\n",(0,s.jsx)(n.p,{children:"Create a MIB file (and an internal SNMP reference structure) for an Extension Application, based on the Monitor Framework metadata."}),"\n",(0,s.jsx)(n.p,{children:"All MIB definitions are modeled after the InterSystems IRIS MIB. That is, the standard iso.org.dod.internet.private.enterprises subtree (i.e. 1.3.6.1.4.1), followed by the enterprise specific hierarchy entID.appID.objects.table.row.item.config.index. For example, the size of a database would be encoded as: 1.3.6.1.4.1.16563.4.1.3.1.6.4.84.69.83.84.1 iso.org.dod.internet.private.enterprises.intersystems.iscIRIS .objects.DBtab.DBrow.DBsize.TEST(config).1(DBindex)"}),"\n",(0,s.jsx)(n.p,{children:"Note that most of the default parameter values reflect the actual InterSystems IRIS MIB. They are supplied as examples and should not be used for Extension Applications."}),"\n",(0,s.jsx)(n.p,{children:"Parameters are:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"AppName"})," - the Application name as defined in the Monitor Framework. Used as the MIB Module name, it must begin with an uppercase letter and contain no punctuation.",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Namespace"})," - the namespace where the application exists",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"EntID"})," - the company ID number as assigned by the IANA",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"AppID"})," - the application ID number as assigned by the company",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Company"})," - the company name (lower case and no spaces or punctuation) associated with the IANA number. This is used as the identifier for the 'enterprises' object.",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Prefix"})," - a short, 3 to 5 character, lower case (no spaces or punctuation) prefix to be used for all SNMP objects",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"CompanyShort"})," - a short, lower case (no spaces or punctuation) prefix for the company name. This is appended to the AppName to create a product OID name",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"MIBname"})," - the name of the MIB. This is also used as the file name (with .mib)",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"Contact"})," - comma-delimited string(s) containing address and contact info.",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.strong,{children:"List"})," - flag which causes progress information to be output."]}),"\n",(0,s.jsx)(n.h3,{id:"deletemib",children:"DeleteMIB"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod DeleteMIB(EntID As %Integer, AppID As %Integer) As %Status\n"})}),"\n",(0,s.jsx)(n.p,{children:"Delete the internal representation of the MIB for an Extension Application. This will cause the InterSystems IRIS SNMP agent to no longer register and support the MIB for this application."}),"\n",(0,s.jsx)(n.p,{children:"Parameters are:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"EntID"})," - the IANA enterprise ID number for the company (e.g. 16536 for Intersystems)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"AppID"})," - the application ID number assigned by the company (e.g. 1 for InterSystems IRIS)."]}),"\n",(0,s.jsx)(n.h3,{id:"debug",children:"Debug"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Debug(Flag As %Integer) As %Integer [ Internal ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Turn on debug mode for InterSystems IRIS SNMP sub-agent Output detailed transaction messages to the SNMP log file Normal value should be 1, but a higher value (2) will show some more detail. Return value is previous value of debug flag."}),"\n",(0,s.jsx)(n.h3,{id:"ask",children:"Ask"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Ask() As %Status [ Internal ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Prompt for input and run CreateMIB"})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var s=t(96540);const r={},a=s.createContext(r);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);