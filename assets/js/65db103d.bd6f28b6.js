"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[26656],{89225:(e,n,r)=>{r.r(n),r.d(n,{contentTitle:()=>c,default:()=>d,frontMatter:()=>l,toc:()=>i});var s=r(74848),t=r(28453);const l={pagination_prev:null,pagination_next:null},c="SYS.Stats.Buffer",i=[{value:"Properties",id:"properties",level:2},{value:"Size",id:"size",level:3},{value:"NumSize",id:"numsize",level:3},{value:"BatchQ",id:"batchq",level:3},{value:"Interact",id:"interact",level:3},{value:"MaxInteract",id:"maxinteract",level:3},{value:"MinReQ",id:"minreq",level:3},{value:"MinReQB",id:"minreqb",level:3},{value:"ReQCnt",id:"reqcnt",level:3},{value:"ReQCntB",id:"reqcntb",level:3},{value:"WrtQSz",id:"wrtqsz",level:3},{value:"OffLRUCnt",id:"offlrucnt",level:3},{value:"WrtSz",id:"wrtsz",level:3},{value:"WrtMax",id:"wrtmax",level:3},{value:"Avail",id:"avail",level:3},{value:"Min",id:"min",level:3},{value:"MinB",id:"minb",level:3},{value:"Methods",id:"methods",level:2},{value:"SampleExecute",id:"sampleexecute",level:3},{value:"SampleClose",id:"sampleclose",level:3},{value:"SampleFetch",id:"samplefetch",level:3},{value:"Sample",id:"sample",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"sysstatsbuffer",children:"SYS.Stats.Buffer"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Class SYS.Stats.Buffer Extends SYS.WSMon.wsResource [ System = 4 ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"This class represents detailed system metrics captured for global buffering. Each instance of the class represents a different buffer size, e.g. 2k, 8k, etc."}),"\n",(0,s.jsx)(n.p,{children:"The current values for each class instance may be fetched using the Query 'Sample', and then the current value of each property can be accessed."}),"\n",(0,s.jsxs)(n.p,{children:["For example: ",(0,s.jsx)(n.code,{children:' s prop="Size,NumSize,BatchQ,Interact,MaxInteract,MinReQ,MinReQB,ReQCnt,ReQCntB,WrtQSz,OffLRUCnt,WrtSz,WrtMax,Avail,Min,MinB" ; list of properties s rset=##class(%ResultSet).%New("SYS.Stats.Buffer:Sample") d rset.Execute() s len=$l(prop,",") ; list all resources and related seize counts while rset.Next() { f i=1:1:len w rset.Data($p(prop,",",i)) w:i     Global buffer metrics with instances for different buffer sizes, 2k, 8k etc.'})]}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(n.h3,{id:"size",children:"Size"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Size As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The buffer size for this queue, e.g. 2K, 8K, etc."}),"\n",(0,s.jsx)(n.h3,{id:"numsize",children:"NumSize"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property NumSize As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The number of buffers of this size"}),"\n",(0,s.jsx)(n.h3,{id:"batchq",children:"BatchQ"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property BatchQ As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The offset to the start of the LRU queue"}),"\n",(0,s.jsx)(n.h3,{id:"interact",children:"Interact"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Interact As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The current number of buffers in interactive portion of LRU queue"}),"\n",(0,s.jsx)(n.h3,{id:"maxinteract",children:"MaxInteract"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property MaxInteract As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The max number of buffers in interactive portion of LRU queue"}),"\n",(0,s.jsx)(n.h3,{id:"minreq",children:"MinReQ"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property MinReQ As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The threshold for re-queueing a buffer (interactive)"}),"\n",(0,s.jsx)(n.h3,{id:"minreqb",children:"MinReQB"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property MinReQB As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The threshold for re-queueing a buffer (batch)"}),"\n",(0,s.jsx)(n.h3,{id:"reqcnt",children:"ReQCnt"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property ReQCnt As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The number of buffers requeued in the interactive LRU queue"}),"\n",(0,s.jsx)(n.h3,{id:"reqcntb",children:"ReQCntB"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property ReQCntB As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The number of buffers requeued in the batch LRU queue"}),"\n",(0,s.jsx)(n.h3,{id:"wrtqsz",children:"WrtQSz"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property WrtQSz As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The current number of interactive buffers queued to be written"}),"\n",(0,s.jsx)(n.h3,{id:"offlrucnt",children:"OffLRUCnt"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property OffLRUCnt As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The number of buffers removed from LRU queue"}),"\n",(0,s.jsx)(n.h3,{id:"wrtsz",children:"WrtSz"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property WrtSz As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The Number of buffers in current write cycle"}),"\n",(0,s.jsx)(n.h3,{id:"wrtmax",children:"WrtMax"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property WrtMax As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The threshold for waking write demon (interactive)"}),"\n",(0,s.jsx)(n.h3,{id:"avail",children:"Avail"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Avail As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The current number of available buffers (interactive)"}),"\n",(0,s.jsx)(n.h3,{id:"min",children:"Min"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Min As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The threshold for no updaters to enter global module (interactive)"}),"\n",(0,s.jsx)(n.h3,{id:"minb",children:"MinB"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property MinB As %Integer;\n"})}),"\n",(0,s.jsx)(n.p,{children:"The threshold for no updaters to enter global module (batch)"}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h3,{id:"sampleexecute",children:"SampleExecute"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod SampleExecute(ByRef qHandle As %Binary) As %Status\n"})}),"\n",(0,s.jsx)(n.p,{children:"Sample counters for all Buffer sizes"}),"\n",(0,s.jsx)(n.h3,{id:"sampleclose",children:"SampleClose"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod SampleClose(ByRef qHandle As %Binary) As %Status [ PlaceAfter = SampleExecute ]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"samplefetch",children:"SampleFetch"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod SampleFetch(ByRef qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status [ PlaceAfter = SampleExecute ]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sample",children:"Sample"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Sample(Size As %Integer) As SYS.Stats.Buffer\n"})}),"\n",(0,s.jsx)(n.p,{children:"Instantiate the class for a particular size and fill in current values for all properties. 'Size' should be one of 8192, 16384, 32768, 65536 If there are no buffers of the requested size, then NumSize will be zero."}),"\n",(0,s.jsx)(n.p,{children:"Allows for XML output of a single Buffer instance."})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>i});var s=r(96540);const t={},l=s.createContext(t);function c(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);