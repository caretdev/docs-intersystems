"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[72164],{17686:(e,n,a)=>{a.r(n),a.d(n,{contentTitle:()=>i,default:()=>o,frontMatter:()=>r,toc:()=>l});var t=a(74848),s=a(28453);const r={pagination_prev:null,pagination_next:null},i="%ZEN.ComponentEx.scribbleArea",l=[{value:"Parameters",id:"parameters",level:2},{value:"DEFAULTCONTROLCLASS",id:"defaultcontrolclass",level:3},{value:"INCLUDEFILES",id:"includefiles",level:3},{value:"Properties",id:"properties",level:2},{value:"controlClass",id:"controlclass",level:3},{value:"smoothness",id:"smoothness",level:3},{value:"culling",id:"culling",level:3},{value:"nib",id:"nib",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"Style",id:"style",level:3},{value:"Methods",id:"methods",level:2},{value:"%DrawHTML",id:"drawhtml",level:3},{value:"supportsCanvasAPI",id:"supportscanvasapi",level:3},{value:"initialize",id:"initialize",level:3},{value:"extractInkColor",id:"extractinkcolor",level:3},{value:"clearCanvas",id:"clearcanvas",level:3},{value:"clear",id:"clear",level:3},{value:"showSource",id:"showsource",level:3},{value:"smoothSignature",id:"smoothsignature",level:3},{value:"trimSignature",id:"trimsignature",level:3},{value:"renderSignatureCVS",id:"rendersignaturecvs",level:3},{value:"renderSignatureVML",id:"rendersignaturevml",level:3},{value:"renderSignature",id:"rendersignature",level:3},{value:"exportSignature",id:"exportsignature",level:3},{value:"exportAsPath",id:"exportaspath",level:3},{value:"addLine",id:"addline",level:3},{value:"addStroke",id:"addstroke",level:3},{value:"track",id:"track",level:3},{value:"touchStart",id:"touchstart",level:3},{value:"touchMove",id:"touchmove",level:3},{value:"touchEnd",id:"touchend",level:3},{value:"updateControlValue",id:"updatecontrolvalue",level:3},{value:"parseValue",id:"parsevalue",level:3},{value:"onRefreshContents",id:"onrefreshcontents",level:3},{value:"onloadHandler",id:"onloadhandler",level:3},{value:"getProperty",id:"getproperty",level:3},{value:"setProperty",id:"setproperty",level:3},{value:"Export",id:"export",level:3},{value:"ValidateDestination",id:"validatedestination",level:3},{value:"ValidateDataStream",id:"validatedatastream",level:3}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"zencomponentexscribblearea",children:"%ZEN.ComponentEx.scribbleArea"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %ZEN.ComponentEx.scribbleArea Extends %ZEN.Component.control [ Deprecated, System = 3 ]\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Free pen input control.",(0,t.jsx)(n.br,{}),'\nThis input control is intended for capturing free pen gestures such as signatures and "initial here" marks']}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(n.h3,{id:"defaultcontrolclass",children:"DEFAULTCONTROLCLASS"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter DEFAULTCONTROLCLASS = "text";\n'})}),"\n",(0,t.jsx)(n.h3,{id:"includefiles",children:"INCLUDEFILES"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter INCLUDEFILES = "zenCSLM.js";\n'})}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h3,{id:"controlclass",children:"controlClass"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property controlClass As %ZEN.Datatype.cssClass [ InitialExpression = "scribbleArea" ];\n'})}),"\n",(0,t.jsx)(n.h3,{id:"smoothness",children:"smoothness"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property smoothness As %ZEN.Datatype.integer [ InitialExpression = 1 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"The level of post processing smoothing to apply to the input curve. A setting of zero indicate no smoothing. Smoothing is achieved by applying weighted averages to the sampled data points in an effort to reduce jitter resulting from certain input devices. When set to a small value (1 or 2) this can help curves entered with a bulky device (such as an optical mouse) more closely approximate those of a more precise input device (such as a tablet). This is, however, only an approximation and the original data is lost in the conversion."}),"\n",(0,t.jsx)(n.h3,{id:"culling",children:"culling"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property culling As %ZEN.Datatype.integer [ InitialExpression = 0 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"The level of post processing culling to apply to the input curve. A setting of zero indicates that all non-colinear data points should be retained. Higher values allow the system to cull additional points based on how much information they actually contain (information in this case being a function of change in slope of the curve at the given point) Raising the culling level reduces the memory requirements for the control's value but does so at the risk of exaggerating cusps and jitter."}),"\n",(0,t.jsx)(n.h3,{id:"nib",children:"nib"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property nib As %ZEN.Datatype.integer [ InitialExpression = 2 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"The thickness of the virtual pen point. The higher the nib number the bolder the input curve will appear."}),"\n",(0,t.jsx)(n.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,t.jsx)(n.h3,{id:"style",children:"Style"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"XData Style\n"})}),"\n",(0,t.jsx)(n.p,{children:"defines style sheet used by this component"}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"drawhtml",children:"%DrawHTML"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method %DrawHTML()\n"})}),"\n",(0,t.jsx)(n.h3,{id:"supportscanvasapi",children:"supportsCanvasAPI"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod supportsCanvasAPI() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"initialize",children:"initialize"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod initialize() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"extractinkcolor",children:"extractInkColor"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod extractInkColor(div) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"clearcanvas",children:"clearCanvas"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod clearCanvas() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"clear",children:"clear"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod clear() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"showsource",children:"showSource"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod showSource() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"smoothsignature",children:"smoothSignature"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod smoothSignature(s) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"trimsignature",children:"trimSignature"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod trimSignature(s, cull) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"rendersignaturecvs",children:"renderSignatureCVS"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod renderSignatureCVS(s) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Render the given curve using HTML 5 canvas tag methods"}),"\n",(0,t.jsx)(n.h3,{id:"rendersignaturevml",children:"renderSignatureVML"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod renderSignatureVML(s) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Render the given curve using IE's VML technology"}),"\n",(0,t.jsx)(n.h3,{id:"rendersignature",children:"renderSignature"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod renderSignature(s, smoothingLevel, compressionLevel) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Render the given curve, s, in the drawing area"}),"\n",(0,t.jsx)(n.h3,{id:"exportsignature",children:"exportSignature"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod exportSignature(s, smoothingLevel, compressionLevel) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Return the structure of the given curve, s, as a JSON object"}),"\n",(0,t.jsx)(n.h3,{id:"exportaspath",children:"exportAsPath"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod exportAsPath(s, smoothingLevel, compressionLevel, showSize) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Return the structure of the given curve, s, as a turtle graphics-ish path string where data points take the form of penCommand x y. The penCommand is either moveTo (m) or lineTo (l). The x value is measured with respect to the left-most side of the control's bounds and increases to the right. The y value is measured with respect to the top edge of the control and increases down the screen. This format is also used as the nominal value of the control."}),"\n",(0,t.jsx)(n.h3,{id:"addline",children:"addLine"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod addLine(sx, sy, ex, ey) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Add a line segment to the drawing area"}),"\n",(0,t.jsx)(n.h3,{id:"addstroke",children:"addStroke"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod addStroke(c, x, y) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Start or extend a given stroke for the current curve"}),"\n",(0,t.jsx)(n.h3,{id:"track",children:"track"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod track(who, event) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Track pointer gestures and generate curve data"}),"\n",(0,t.jsx)(n.h3,{id:"touchstart",children:"touchStart"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod touchStart(node, event) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"touchmove",children:"touchMove"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod touchMove(node, event) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Track touch gestures and generate curve data for mobile devices"}),"\n",(0,t.jsx)(n.h3,{id:"touchend",children:"touchEnd"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod touchEnd(node, event) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Commit the latest gesture to the signature curve"}),"\n",(0,t.jsx)(n.h3,{id:"updatecontrolvalue",children:"updateControlValue"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod updateControlValue() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Extract current rendering information and abstract it into the nominal value of this control"}),"\n",(0,t.jsx)(n.h3,{id:"parsevalue",children:"parseValue"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod parseValue() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Parse a new nominal value into the graphical context"}),"\n",(0,t.jsx)(n.h3,{id:"onrefreshcontents",children:"onRefreshContents"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod onRefreshContents() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onloadhandler",children:"onloadHandler"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod onloadHandler() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getproperty",children:"getProperty"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod getProperty(property, key) As %String [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Override to get current value of control."}),"\n",(0,t.jsx)(n.h3,{id:"setproperty",children:"setProperty"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod setProperty(property, value, value2) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Set the value of a named property."}),"\n",(0,t.jsx)(n.h3,{id:"export",children:"Export"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Export(fileName As %ZEN.Datatype.string, vector As %ZEN.Datatype.string) As %ZEN.Datatype.integer [ ZenMethod ]\n"})}),"\n",(0,t.jsx)(n.p,{children:'Export the vector description of the scribble to an external file The data stream, vector, may be either a JSON string (as returned from exportSignature() or in the internal format returned by exportAsPath(). The provided filename should be a fully qualified path-filename where the directory is either the temp directory for the instance or one of the custom whitelisted directories given in ^%SYS("ZEN","fsDirectoryWhitelist")'}),"\n",(0,t.jsx)(n.h3,{id:"validatedestination",children:"ValidateDestination"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod ValidateDestination(fileName As %ZEN.Datatype.string) As %Boolean\n"})}),"\n",(0,t.jsx)(n.h3,{id:"validatedatastream",children:"ValidateDataStream"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod ValidateDataStream(vector As %ZEN.Datatype.string) As %Boolean\n"})})]})}function o(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>l});var t=a(96540);const s={},r=t.createContext(s);function i(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);