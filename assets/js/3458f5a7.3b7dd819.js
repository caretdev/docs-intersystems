"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[98606],{95304:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>a,default:()=>c,frontMatter:()=>r,toc:()=>l});var t=s(74848),i=s(28453);const r={pagination_prev:null,pagination_next:null},a="%SYS.ML.Configuration",l=[{value:"Parameters",id:"parameters",level:2},{value:"SQLPUBLICSECURITY",id:"sqlpublicsecurity",level:3},{value:"Properties",id:"properties",level:2},{value:"Name",id:"name",level:3},{value:"Type",id:"type",level:3},{value:"Description",id:"description",level:3},{value:"Using",id:"using",level:3},{value:"Owner",id:"owner",level:3},{value:"Triggers",id:"triggers",level:2},{value:"%NoSQLFiling",id:"nosqlfiling",level:3},{value:"Methods",id:"methods",level:2},{value:"%Create",id:"create",level:3},{value:"%Modify",id:"modify",level:3},{value:"%SQLAlter",id:"sqlalter",level:3},{value:"%Remove",id:"remove",level:3},{value:"%CreateDefaults",id:"createdefaults",level:3},{value:"%SetSystemDefault",id:"setsystemdefault",level:3},{value:"%GetSystemDefault",id:"getsystemdefault",level:3},{value:"%SetDefault",id:"setdefault",level:3},{value:"%GetDefault",id:"getdefault",level:3},{value:"%SetDefaultSQL",id:"setdefaultsql",level:3},{value:"%GetOwner",id:"getowner",level:3},{value:"%GetProviderFromName",id:"getproviderfromname",level:3},{value:"%GetUsingFromName",id:"getusingfromname",level:3},{value:"%GetListOfAllConfigNames",id:"getlistofallconfignames",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"sysmlconfiguration",children:"%SYS.ML.Configuration"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %SYS.ML.Configuration Extends %Persistent [ SqlRowIdPrivate, System = 4 ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"ML Configuration Definitions. This super class should be extended by different providers to allow for custom configurations. Any configuration settings common to all providers should be defined in this class."}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(n.h3,{id:"sqlpublicsecurity",children:"SQLPUBLICSECURITY"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter SQLPUBLICSECURITY = "{""%GetDefault"":""E""}";\n'})}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h3,{id:"name",children:"Name"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Name As %String(MAXLEN = 256) [ Required ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Configuration name"}),"\n",(0,t.jsx)(n.h3,{id:"type",children:"Type"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property Type As %EnumString(DISPLAYLIST = ",AutoML,H2O,DataRobot,PMML", VALUELIST = ",0,1,2,3") [ InitialExpression = 0, Required ];\n'})}),"\n",(0,t.jsx)(n.p,{children:"Provider 0 = AutoML, 1 = H2O, 2 = DataRobot, 3 = PMML"}),"\n",(0,t.jsx)(n.h3,{id:"description",children:"Description"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Description As %String(MAXLEN = 256);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Description of this Configurtion"}),"\n",(0,t.jsx)(n.h3,{id:"using",children:"Using"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Using As %String(MAXLEN = 4096);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Default USING clause for the provider"}),"\n",(0,t.jsx)(n.h3,{id:"owner",children:"Owner"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Owner As %String(MAXLEN = 160);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Username/Rolename that is the owner of this ML Configuration The owner will always implicitly have USE privilege for the configuration"}),"\n",(0,t.jsx)(n.h2,{id:"triggers",children:"Triggers"}),"\n",(0,t.jsx)(n.h3,{id:"nosqlfiling",children:"%NoSQLFiling"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Trigger %NoSQLFiling [ Event = INSERT/UPDATE/DELETE, Foreach = row, Language = objectscript ]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"create",children:"%Create"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod %Create(name As %String(MAXLEN=256), desc As %String(MAXLEN=256) = "", using As %String(MAXLEN=4096) = "", owner As %String(MAXLEN=160) = "") As %Status\n'})}),"\n",(0,t.jsx)(n.p,{children:"Create default ML configuration name - Name of the configuration, required, must be unique. String with MAXLEN=256 desc - Optional description for the configuration using - default USING clause for the configuration. This is a JSON string of key:value pairs (See CREATE MODEL for examples)"}),"\n",(0,t.jsx)(n.h3,{id:"modify",children:"%Modify"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %Modify(name As %String(MAXLEN=256), desc As %String(MAXLEN=256), using As %String(MAXLEN=4096), owner As %String(MAXLEN=160)) As %Status\n"})}),"\n",(0,t.jsx)(n.p,{children:'Modify an ML configuration name - Name of the configuration to modify desc - Description for the configuration using - default USING clause for the configuration. This is a JSON string of key:value pairs (See CREATE MODEL for examples) owner - Username/Rolename that owns this ML Configuration To change Description, Using, or Owner, supply a new value (including "" to set the new value to null). To leave the value alone, don\'t pass any value for the parameter Name and Type cannot be modified'}),"\n",(0,t.jsx)(n.h3,{id:"sqlalter",children:"%SQLAlter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %SQLAlter(name As %String(MAXLEN=256), provider As %String, desc As %String(MAXLEN=256), using As %String(MAXLEN=4096), javaTlsConfigFile As %String, ByRef url As %String, ByRef apiToken As %String, ByRef owner As %String, ByRef %msg As %String) As %Integer [ Final, Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:'Modify an ML configuration from an SQL ALTER ML CONFIGURATION Statement Internal method only, called from ALTER ML CONFIGURATION execution and from SMP %CSP.UI.Portal.ML.Configuration.SaveData() name - Name of the configuration to modify desc - Description for the configuration using - New using clause javaTlsConfigFile - New Java TLS configuration file, H2O only url - New url value, DataRobot only apiToken - New apiToken value, DataRobot only owner - New owner name %msg - Byref, Error string returned to SQL To change Provider, Description, Using, javaTlsConfigFile, Url, or apiToken, supply a new value (including "" to set the new value to null). To leave the value alone, don\'t pass any value for the parameter Name cannot be modified RETURNS SQLCODE'}),"\n",(0,t.jsx)(n.h3,{id:"remove",children:"%Remove"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %Remove(name As %String(MAXLEN=256), tempDrop As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(n.p,{children:"Remove configuration"}),"\n",(0,t.jsx)(n.h3,{id:"createdefaults",children:"%CreateDefaults"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %CreateDefaults() As %Status [ Final, Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Create default configurations for all providers"}),"\n",(0,t.jsx)(n.h3,{id:"setsystemdefault",children:"%SetSystemDefault"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %SetSystemDefault(name As %String(MAXLEN=256)) As %Status [ Final ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Sets the system-wide default ML Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"getsystemdefault",children:"%GetSystemDefault"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %GetSystemDefault() As %String(MAXLEN=256) [ Final ]\n"})}),"\n",(0,t.jsx)(n.p,{children:'Returns the system-wide default ML Configuration if no system wide default is defined (which really should not happen), "" is returned'}),"\n",(0,t.jsx)(n.h3,{id:"setdefault",children:"%SetDefault"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %SetDefault(name As %String(MAXLEN=256)) As %Status [ Final ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Sets the current process's default ML Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"getdefault",children:"%GetDefault"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %GetDefault() As %String(MAXLEN=256) [ Final, SqlName = %GetDefault, SqlProc ]\n"})}),"\n",(0,t.jsx)(n.p,{children:'Returns the current process\'s default ML Configuration Returns "" if an error or the ML Configuration no longer exists and there is no system default'}),"\n",(0,t.jsx)(n.h3,{id:"setdefaultsql",children:"%SetDefaultSQL"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod %SetDefaultSQL(name As %String(MAXLEN=256), ByRef SQLCODE As %Integer, ByRef %msg As %String = "") [ Final, Internal ]\n'})}),"\n",(0,t.jsx)(n.p,{children:"Sets the current process's default ML Configuration, called from SET ML CONFIGURATION"}),"\n",(0,t.jsx)(n.h3,{id:"getowner",children:"%GetOwner"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %GetOwner(name As %String(MAXLEN=256)) As %String(MAXLEN=160) [ Final, Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:'Given an ML Configuration name, get the owner of the configuration If ML Configuration does not exist or any other error, return "" Called from %SYS.SQLSEC'}),"\n",(0,t.jsx)(n.h3,{id:"getproviderfromname",children:"%GetProviderFromName"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %GetProviderFromName(name As %String(MAXLEN=256), ByRef sc As %Status) As %String(MAXLEN=256) [ Final ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Given the name of a ML Configuration, return the name of the provider"}),"\n",(0,t.jsx)(n.h3,{id:"getusingfromname",children:"%GetUsingFromName"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %GetUsingFromName(name As %String(MAXLEN=256)) As %Library.DynamicObject [ Final ]\n"})}),"\n",(0,t.jsx)(n.p,{children:'Given the name of a ML Configuration, return the using property value "" returned upon error'}),"\n",(0,t.jsx)(n.h3,{id:"getlistofallconfignames",children:"%GetListOfAllConfigNames"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %GetListOfAllConfigNames(ByRef SQLCODE As %Integer, ByRef %msg As %String) As %Library.List [ Final, Internal, PublicList = (SQLCODE, names) ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Return a $list of all ML Configuration names Called from %SYS.SQLSEC for granting USE Privilege to all ML Configurations If there is an error, SQLCODE and %msg implicitly returned"})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var t=s(96540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);