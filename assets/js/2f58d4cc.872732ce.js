"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[31918],{26270:(e,n,r)=>{r.r(n),r.d(n,{contentTitle:()=>l,default:()=>c,frontMatter:()=>s,toc:()=>i});var t=r(74848),a=r(28453);const s={pagination_prev:null,pagination_next:null},l="%JSON.Generator",i=[{value:"Methods",id:"methods",level:2},{value:"GenerateMapping",id:"generatemapping",level:3},{value:"GetMemberInfo",id:"getmemberinfo",level:3},{value:"LeftSequenceClass",id:"leftsequenceclass",level:3},{value:"GenerateMappingFromXdata",id:"generatemappingfromxdata",level:3},{value:"GenerateMappingFromClass",id:"generatemappingfromclass",level:3},{value:"%JSONGenerate",id:"jsongenerate",level:3},{value:"JSONImportInternal",id:"jsonimportinternal",level:3},{value:"JSONExportInternal",id:"jsonexportinternal",level:3},{value:"JSONExportToStringInternal",id:"jsonexporttostringinternal",level:3},{value:"JSONNew",id:"jsonnew",level:3},{value:"GenerateAllImportInternal",id:"generateallimportinternal",level:3},{value:"GenerateImportInternal",id:"generateimportinternal",level:3},{value:"GenImportList",id:"genimportlist",level:3},{value:"GenImportArray",id:"genimportarray",level:3},{value:"GenImportField",id:"genimportfield",level:3},{value:"GenImportID",id:"genimportid",level:3},{value:"GenImportOID",id:"genimportoid",level:3},{value:"GenImportGUID",id:"genimportguid",level:3},{value:"GenImportObject",id:"genimportobject",level:3},{value:"GenImportBinaryStream",id:"genimportbinarystream",level:3},{value:"GenImportCharacterStream",id:"genimportcharacterstream",level:3},{value:"GenImportLiteral",id:"genimportliteral",level:3},{value:"GenerateAllExportInternal",id:"generateallexportinternal",level:3},{value:"GenerateExportInternal",id:"generateexportinternal",level:3},{value:"GenExportList",id:"genexportlist",level:3},{value:"GenExportArray",id:"genexportarray",level:3},{value:"GenExportField",id:"genexportfield",level:3},{value:"GenExportID",id:"genexportid",level:3},{value:"GenExportOID",id:"genexportoid",level:3},{value:"GenExportGUID",id:"genexportguid",level:3},{value:"GenExportObject",id:"genexportobject",level:3},{value:"GenExportBinaryStream",id:"genexportbinarystream",level:3},{value:"GenExportCharacterStream",id:"genexportcharacterstream",level:3},{value:"GenExportLiteral",id:"genexportliteral",level:3},{value:"GenWriteField",id:"genwritefield",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"jsongenerator",children:"%JSON.Generator"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %JSON.Generator [ Abstract, System = 2 ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generator methods for %JSON.Adaptor."}),"\n",(0,t.jsx)(n.p,{children:"This class is used internally by InterSystems IRIS. You should not make direct use of it within your applications. There is no guarantee made about either the behavior or future operation of this class."}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"generatemapping",children:"GenerateMapping"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenerateMapping(class As %String, Output mapping) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getmemberinfo",children:"GetMemberInfo"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetMemberInfo(class As %String, property As %String, ByRef includeProperty As %Boolean, Output type As %String, Output membercat As %String) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Return member type information about a property"}),"\n",(0,t.jsx)(n.p,{children:'includeProperty is set if passed in as "" which means not specified member cat is defined by     = "LITERAL" | "OBJPERSISTENT" | "OBJSERIAL" | "OBJREGISTERED" | "CSTREAM" | "BSTREAM"    If RELATIONSHIP MANY|CHILDREN, then ListCollectionOBJPERSISTENT    If List Of, then { ArrayCollection | ListCollection }     If %ListOf... or %ArrayOf... { ArrayCollection | ListCollection }     Otherwis  type is the type referenced by the property.'}),"\n",(0,t.jsx)(n.h3,{id:"leftsequenceclass",children:"LeftSequenceClass"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod LeftSequenceClass(class As %String, ByRef seqArray)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Return all super classes in sequence of left to right with super class immediately following its child."}),"\n",(0,t.jsx)(n.h3,{id:"generatemappingfromxdata",children:"GenerateMappingFromXdata"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenerateMappingFromXdata(class As %String, ByRef mapping) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get the JSON adaptor configuration information from class and property parameters."}),"\n",(0,t.jsx)(n.h3,{id:"generatemappingfromclass",children:"GenerateMappingFromClass"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenerateMappingFromClass(class As %String, name As %String, obj As %JSON.Mapping, ByRef mapping) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate mapping based on imported configuration info from Xdata block"}),"\n",(0,t.jsx)(n.h3,{id:"jsongenerate",children:"%JSONGenerate"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %JSONGenerate(%mode, %class, %property, %method, %parameter, %codemode, %code, %classmodify, %context) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"%JSONGenerate creates thee metadata structure and generates the code for all methods."}),"\n",(0,t.jsx)(n.h3,{id:"jsonimportinternal",children:"JSONImportInternal"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod JSONImportInternal(%mode, %class, %property, %method, %parameter, %codemode, %code, %classmodify, %context) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get the code for the %JSONImportInternal method to actually do the method generation"}),"\n",(0,t.jsx)(n.h3,{id:"jsonexportinternal",children:"JSONExportInternal"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod JSONExportInternal(%mode, %class, %property, %method, %parameter, %codemode, %code, %classmodify, %context) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get the code for the %JSONExportInternal method to actually do the method generation"}),"\n",(0,t.jsx)(n.h3,{id:"jsonexporttostringinternal",children:"JSONExportToStringInternal"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod JSONExportToStringInternal(%mode, %class, %property, %method, %parameter, %codemode, %code, %classmodify, %context) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get the code for the %JSONExportToStringInternal method to actually do the method generation"}),"\n",(0,t.jsx)(n.h3,{id:"jsonnew",children:"JSONNew"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod JSONNew(%mode, %class, %property, %method, %parameter, %codemode, %code, %classmodify, %context) As %Status\n"})}),"\n",(0,t.jsx)(n.h3,{id:"generateallimportinternal",children:"GenerateAllImportInternal"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenerateAllImportInternal(class As %String, ByRef mapping As %String) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate the code for the %JSONImportInternal method"}),"\n",(0,t.jsx)(n.h3,{id:"generateimportinternal",children:"GenerateImportInternal"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenerateImportInternal(class As %String, indent As %String, mappingName As %String, ByRef mapping As %String, ByRef needRequired As %Boolean, ByRef needTestInvalidField As %Boolean) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate the code for the %JSONImportInternal method for the specified mappingName."}),"\n",(0,t.jsx)(n.h3,{id:"genimportlist",children:"GenImportList"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenImportList(class As %String, propertyMap As %List, indent As %String) As %Boolean [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for importing a JSON array as a List collection."}),"\n",(0,t.jsx)(n.h3,{id:"genimportarray",children:"GenImportArray"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenImportArray(class As %String, propertyMap As %List, indent As %String) As %Boolean [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:'Generate code for importing an array value from JSON object of the form {"key":value,...}'}),"\n",(0,t.jsx)(n.h3,{id:"genimportfield",children:"GenImportField"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenImportField(class As %String, propertyMap As %List, indent As %String, isCollectionValue As %Integer) As %Boolean [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for importing a single field value."}),"\n",(0,t.jsx)(n.h3,{id:"genimportid",children:"GenImportID"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenImportID(class As %String, propertyMap As %List, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for importing an object ID and storing the object reference in variable named data."}),"\n",(0,t.jsx)(n.h3,{id:"genimportoid",children:"GenImportOID"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenImportOID(class As %String, propertyMap As %List, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for importing an object OID and storing the object reference in variable named data."}),"\n",(0,t.jsx)(n.h3,{id:"genimportguid",children:"GenImportGUID"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenImportGUID(class As %String, propertyMap As %List, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for importing an object GUID and storing the object reference in variable named data."}),"\n",(0,t.jsx)(n.h3,{id:"genimportobject",children:"GenImportObject"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenImportObject(class As %String, propertyMap As %List, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for importing a referenced object and storing in variable named data."}),"\n",(0,t.jsx)(n.h3,{id:"genimportbinarystream",children:"GenImportBinaryStream"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenImportBinaryStream(class As %String, propertyMap As %List, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for getting the field value from a binary stream and storing in variable named data."}),"\n",(0,t.jsx)(n.h3,{id:"genimportcharacterstream",children:"GenImportCharacterStream"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenImportCharacterStream(class As %String, propertyMap As %List, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for getting the field value from a character stream and storing in variable named data."}),"\n",(0,t.jsx)(n.h3,{id:"genimportliteral",children:"GenImportLiteral"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenImportLiteral(class As %String, propertyMap As %List, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for getting the field value and storing in variable named data."}),"\n",(0,t.jsx)(n.h3,{id:"generateallexportinternal",children:"GenerateAllExportInternal"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenerateAllExportInternal(class As %String, ByRef mapping As %String, useWrite As %Boolean) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate the code for the %JSONExportInternal method"}),"\n",(0,t.jsx)(n.h3,{id:"generateexportinternal",children:"GenerateExportInternal"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenerateExportInternal(class As %String, indent As %String, mappingName As %String, ByRef mapping As %String) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate the code for the specified mapping of %JSONExportInternal method"}),"\n",(0,t.jsx)(n.h3,{id:"genexportlist",children:"GenExportList"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenExportList(class As %String, propertyMap As %List, indent As %String) As %Boolean [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for exporting a List collection as a JSON array."}),"\n",(0,t.jsx)(n.h3,{id:"genexportarray",children:"GenExportArray"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenExportArray(class As %String, propertyMap As %List, indent As %String) As %Boolean [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:'Generate code for exporting an array collection value from JSON object of the form {"key":value,...}'}),"\n",(0,t.jsx)(n.h3,{id:"genexportfield",children:"GenExportField"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenExportField(class As %String, propertyMap As %List, fieldName As %String, indent As %String, isCollectionValue As %Integer) As %Integer [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for exporting a single field value."}),"\n",(0,t.jsx)(n.h3,{id:"genexportid",children:"GenExportID"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenExportID(class As %String, propertyMap As %List, fieldName As %String, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for exporting an object ID as JSON."}),"\n",(0,t.jsx)(n.h3,{id:"genexportoid",children:"GenExportOID"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenExportOID(class As %String, propertyMap As %List, fieldName As %String, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for exporting an object OID as JSON."}),"\n",(0,t.jsx)(n.h3,{id:"genexportguid",children:"GenExportGUID"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenExportGUID(class As %String, propertyMap As %List, fieldName As %String, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for exporting an object GUID as JSON."}),"\n",(0,t.jsx)(n.h3,{id:"genexportobject",children:"GenExportObject"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenExportObject(class As %String, propertyMap As %List, fieldName As %String, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for exporting a referenced object as JSON."}),"\n",(0,t.jsx)(n.h3,{id:"genexportbinarystream",children:"GenExportBinaryStream"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenExportBinaryStream(class As %String, propertyMap As %List, fieldName As %String, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for exporting a binary stream as JSON."}),"\n",(0,t.jsx)(n.h3,{id:"genexportcharacterstream",children:"GenExportCharacterStream"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenExportCharacterStream(class As %String, propertyMap As %List, fieldName As %String, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for exporting a character stream as JSON."}),"\n",(0,t.jsx)(n.h3,{id:"genexportliteral",children:"GenExportLiteral"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenExportLiteral(class As %String, propertyMap As %List, fieldName As %String, indent As %String, isCollectionValue As %Integer) [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code for exporting a literal value as JSON."}),"\n",(0,t.jsx)(n.h3,{id:"genwritefield",children:"GenWriteField"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GenWriteField(fieldName As %String, indent As %String, valueText As %String)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Generate code to write out the field name and value"})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>i});var t=r(96540);const a={},s=t.createContext(a);function l(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);