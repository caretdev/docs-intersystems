"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[50521],{17786:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>a,default:()=>l,frontMatter:()=>c,toc:()=>i});var n=t(74848),r=t(28453);const c={pagination_prev:null,pagination_next:null},a="%Api.DeepSee",i=[{value:"Parameters",id:"parameters",level:2},{value:"CHARSET",id:"charset",level:3},{value:"CONTENTTYPE",id:"contenttype",level:3},{value:"HandleCorsRequest",id:"handlecorsrequest",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"UrlMap",id:"urlmap",level:3},{value:"Methods",id:"methods",level:2},{value:"OnPreDispatch",id:"onpredispatch",level:3},{value:"AccessCheck",id:"accesscheck",level:3}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"apideepsee",children:"%Api.DeepSee"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Class %Api.DeepSee Extends %CSP.REST\n"})}),"\n",(0,n.jsx)(s.p,{children:"Routing class for the DeepSee REST services"}),"\n",(0,n.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(s.h3,{id:"charset",children:"CHARSET"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter CHARSET = "utf-8";\n'})}),"\n",(0,n.jsxs)(s.p,{children:["Specifies the default character set for the page. This can be overriden using the <CSP:CONTENT CHARSET=> tag, or by setting the ",(0,n.jsx)(s.strong,{children:"%response"}),".CharSet property in the OnPreHTTP method. If this parameter is not specified, then for the default charset is utf-8."]}),"\n",(0,n.jsx)(s.h3,{id:"contenttype",children:"CONTENTTYPE"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter CONTENTTYPE = "application/json";\n'})}),"\n",(0,n.jsxs)(s.p,{children:["Specifies the default content type for the page. This can be overriden using the <CSP:CONTENT TYPE=> tag, or by setting the ",(0,n.jsx)(s.strong,{children:"%response"}),".ContentType property in the OnPreHTTP method. The default value if this parameter is not set is text/html."]}),"\n",(0,n.jsx)(s.h3,{id:"handlecorsrequest",children:"HandleCorsRequest"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter HandleCorsRequest = 1;\n"})}),"\n",(0,n.jsx)(s.p,{children:"This parameter influences the CORS support. The default is an empty string meaning 'not specified'. If set to true (1) then CORS processing is ON. If set to false (0) then CORS processing is OFF. If left unset \"\" then the decision to process CORS is delegated to the setting on the URL map route."}),"\n",(0,n.jsx)(s.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,n.jsx)(s.h3,{id:"urlmap",children:"UrlMap"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"XData UrlMap\n"})}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(s.h3,{id:"onpredispatch",children:"OnPreDispatch"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod OnPreDispatch(pUrl As %String, pMethod As %String, ByRef pContinue As %Boolean) As %Status\n"})}),"\n",(0,n.jsx)(s.p,{children:"This method Gets called prior to dispatch of the request. Put any common code here that you want to be executed for EVERY request. If pContinue is set to 0, the request will NOT be dispatched according to the UrlMap. If this case it's the responsibility of the user to return a response."}),"\n",(0,n.jsx)(s.h3,{id:"accesscheck",children:"AccessCheck"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod AccessCheck(Output pAuthorized As %Boolean = 0) As %Status\n"})}),"\n",(0,n.jsx)(s.p,{children:"This method performs a basic access check. You can override this to add additional checks"})]})}function l(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>i});var n=t(96540);const r={},c=n.createContext(r);function a(e){const s=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(c.Provider,{value:s},e.children)}}}]);