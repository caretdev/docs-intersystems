"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[28243],{6570:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>a,default:()=>o,frontMatter:()=>r,toc:()=>l});var n=t(74848),i=t(28453);const r={pagination_prev:null,pagination_next:null},a="Security.Services",l=[{value:"Parameters",id:"parameters",level:2},{value:"SOURCECONTROL",id:"sourcecontrol",level:3},{value:"EMSSERVICE",id:"emsservice",level:3},{value:"VERSION",id:"version",level:3},{value:"Properties",id:"properties",level:2},{value:"AutheEnabled",id:"autheenabled",level:3},{value:"AutheEnabledCapabilities",id:"autheenabledcapabilities",level:3},{value:"Capabilities",id:"capabilities",level:3},{value:"ClientSystems",id:"clientsystems",level:3},{value:"Description",id:"description",level:3},{value:"Enabled",id:"enabled",level:3},{value:"HttpOnlyCookies",id:"httponlycookies",level:3},{value:"Name",id:"name",level:3},{value:"NameLowerCase",id:"namelowercase",level:3},{value:"TwoFactorEnabled",id:"twofactorenabled",level:3},{value:"Version",id:"version-1",level:3},{value:"Methods",id:"methods",level:2},{value:"CheckOneIPAddress",id:"checkoneipaddress",level:3},{value:"CheckValidIPAddress",id:"checkvalidipaddress",level:3},{value:"ComputeAccessControlList",id:"computeaccesscontrollist",level:3},{value:"Create",id:"create",level:3},{value:"EMSOpen",id:"emsopen",level:3},{value:"Exists",id:"exists",level:3},{value:"Export",id:"export",level:3},{value:"Get",id:"get",level:3},{value:"GetPasswordAutheEnabled",id:"getpasswordautheenabled",level:3},{value:"GetProperties",id:"getproperties",level:3},{value:"Import",id:"import",level:3},{value:"IsPublic",id:"ispublic",level:3},{value:"InitAccessControlList",id:"initaccesscontrollist",level:3},{value:"Initialize",id:"initialize",level:3},{value:"IsEnabled",id:"isenabled",level:3},{value:"Modify",id:"modify",level:3},{value:"ModifyOne",id:"modifyone",level:3},{value:"RemoveRoleFromAllServices",id:"removerolefromallservices",level:3},{value:"Start",id:"start",level:3},{value:"StartTerminal",id:"startterminal",level:3},{value:"StartEMS",id:"startems",level:3},{value:"StartStopTerminalDaemon",id:"startstopterminaldaemon",level:3},{value:"JobTerminalDaemonStart",id:"jobterminaldaemonstart",level:3},{value:"UpdateAccessControlList",id:"updateaccesscontrollist",level:3},{value:"ValidateClientSystemsIP",id:"validateclientsystemsip",level:3},{value:"%OnAfterSave",id:"onaftersave",level:3},{value:"%OnBeforeSave",id:"onbeforesave",level:3},{value:"%OnDelete",id:"ondelete",level:3},{value:"%OnValidateObject",id:"onvalidateobject",level:3},{value:"DetailExecute",id:"detailexecute",level:3},{value:"DetailFetch",id:"detailfetch",level:3},{value:"DetailClose",id:"detailclose",level:3},{value:"ListExecute",id:"listexecute",level:3},{value:"ListFetch",id:"listfetch",level:3},{value:"ListClose",id:"listclose",level:3}];function c(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"securityservices",children:"Security.Services"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Class Security.Services Extends (%Persistent, %XML.Adaptor, %SYSTEM.Help) [ Inheritance = right, System = 4 ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Services defined for the system."}),"\n",(0,n.jsx)(s.p,{children:"The table for this class should be manipulated only through object access, the published API's or through the System Management Portal. It should not be updated through direct SQL access."}),"\n",(0,n.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(s.h3,{id:"sourcecontrol",children:"SOURCECONTROL"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter SOURCECONTROL [ Internal ] = {"Revision path: $Id: //iris/2024.3.0/databases/sys/cls/Security/Services.xml#1 $"_$c(13,10)_"Last Change:   $DateTime: 2024/10/02 10:58:11 $"_$c(13,10)_"Changelist #:  $Change: 7247250 $"};\n'})}),"\n",(0,n.jsx)(s.h3,{id:"emsservice",children:"EMSSERVICE"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter EMSSERVICE [ Internal ] = "Security";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"version",children:"VERSION"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter VERSION [ Internal ] = 2;\n"})}),"\n",(0,n.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(s.h3,{id:"autheenabled",children:"AutheEnabled"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property AutheEnabled As Security.Datatype.Authentication [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Authentication methods enabled for the service",(0,n.jsx)(s.br,{}),"\nBit 0 = AutheK5CCache",(0,n.jsx)(s.br,{}),"\nBit 1 = AutheK5Prompt",(0,n.jsx)(s.br,{}),"\nBit 2 = AutheK5API",(0,n.jsx)(s.br,{}),"\nBit 3 = AutheK5KeyTab",(0,n.jsx)(s.br,{}),"\nBit 4 = AutheOS",(0,n.jsx)(s.br,{}),"\nBit 5 - AuthePassword",(0,n.jsx)(s.br,{}),"\nBit 6 = AutheUnauthenticated",(0,n.jsx)(s.br,{}),"\nBit 7 = AutheKB",(0,n.jsx)(s.br,{}),"\nBit 8 = AutheKBEncryption",(0,n.jsx)(s.br,{}),"\nBit 9 = AutheKBIntegrity",(0,n.jsx)(s.br,{}),"\nBit 10 = AutheSystem",(0,n.jsx)(s.br,{}),"\nBit 11 = AutheLDAP",(0,n.jsx)(s.br,{}),"\nBit 13 = AutheDelegated",(0,n.jsx)(s.br,{}),"\nBit 14 = AutheLoginToken",(0,n.jsx)(s.br,{}),"\nBits 15-19 reserved",(0,n.jsx)(s.br,{}),"\nBit 20 = TwoFactorSMS",(0,n.jsx)(s.br,{}),"\nBit 21 = TwoFactorPW",(0,n.jsx)(s.br,{}),"\nBits 22-24 reserved",(0,n.jsx)(s.br,{}),"\nBit 25 = MutualTLS"]}),"\n",(0,n.jsx)(s.h3,{id:"autheenabledcapabilities",children:"AutheEnabledCapabilities"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property AutheEnabledCapabilities As Security.Datatype.Authentication [ InitialExpression = 0, Internal ];\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Authentication capabilities of the service.",(0,n.jsx)(s.br,{}),"\nSee the AutheEnabled property for legal bit values."]}),"\n",(0,n.jsx)(s.h3,{id:"capabilities",children:"Capabilities"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property Capabilities As Security.Datatype.ServiceCapabilities [ InitialExpression = 0, Internal ];\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Other Capabilities of the service.",(0,n.jsx)(s.br,{}),"\nBit 0 - Enable Enabled property to be modified",(0,n.jsx)(s.br,{}),"\nBit 1 - Enable USE check on resource",(0,n.jsx)(s.br,{}),"\nBit 2 - Enable Privilege based security",(0,n.jsx)(s.br,{}),"\nBit 3 - Enable Client System Security",(0,n.jsx)(s.br,{}),"\nBit 4 - Enable Client System Security with role restriction",(0,n.jsx)(s.br,{}),"\nBit 5 - Enable Client Application Security",(0,n.jsx)(s.br,{}),"\nBit 6 - Disable display and modification of properties",(0,n.jsx)(s.br,{}),"\nBit 7 - Enabled for Windows platforms",(0,n.jsx)(s.br,{}),"\nBit 8 - Enabled for Unix platforms",(0,n.jsx)(s.br,{}),"\nBit 9 - Enabled for VMS platforms"]}),"\n",(0,n.jsx)(s.h3,{id:"clientsystems",children:"ClientSystems"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property ClientSystems As list Of %String(MAXLEN = 32767);\n"})}),"\n",(0,n.jsx)(s.p,{children:"List of valid IP addresses allowed to connect for this service."}),"\n",(0,n.jsx)(s.h3,{id:"description",children:"Description"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property Description As %String(MAXLEN = 256, MINLEN = 1) [ Required ];\n"})}),"\n",(0,n.jsx)(s.p,{children:"Full name of the service"}),"\n",(0,n.jsx)(s.h3,{id:"enabled",children:"Enabled"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property Enabled As Security.Datatype.BooleanYN [ InitialExpression = 0, Required ];\n"})}),"\n",(0,n.jsx)(s.p,{children:"Service enabled"}),"\n",(0,n.jsx)(s.h3,{id:"httponlycookies",children:"HttpOnlyCookies"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property HttpOnlyCookies As Security.Datatype.BooleanYN [ InitialExpression = 0, Internal ];\n"})}),"\n",(0,n.jsx)(s.p,{children:"Indicates if the Session Cookie and the Login Cookie for the CSP system should use the HttpOnly property"}),"\n",(0,n.jsx)(s.h3,{id:"name",children:"Name"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Property Name As %String(COLLATION = "Exact", MAXLEN = 64, MINLEN = 1) [ Required ];\n'})}),"\n",(0,n.jsx)(s.p,{children:"Name of the service"}),"\n",(0,n.jsx)(s.h3,{id:"namelowercase",children:"NameLowerCase"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Property NameLowerCase As %String(MAXLEN = 64, MINLEN = 1, XMLPROJECTION = "NONE") [ Internal, ReadOnly, Required ];\n'})}),"\n",(0,n.jsxs)(s.p,{children:["Service Name in Lowercase",(0,n.jsx)(s.br,{}),"\nUsed for indexing, not to be displayed or modified"]}),"\n",(0,n.jsx)(s.h3,{id:"twofactorenabled",children:"TwoFactorEnabled"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property TwoFactorEnabled As Security.Datatype.BooleanYN [ InitialExpression = 0, Internal ];\n"})}),"\n",(0,n.jsx)(s.p,{children:"Enable two-factor authentication for this service"}),"\n",(0,n.jsx)(s.h3,{id:"version-1",children:"Version"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property Version As %Decimal(SCALE = 1) [ Internal ];\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Version number of the record.",(0,n.jsx)(s.br,{}),"\nUsed for Export/Import."]}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(s.h3,{id:"checkoneipaddress",children:"CheckOneIPAddress"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CheckOneIPAddress(Name As %String, IP As %String, ByRef Status As %Status) As %Boolean [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Validate an IP address of an incoming connection against the list of Valid IP Addresses of this Service. This is an internal method that is called as part of accepting a connection for this service."}),"\n",(0,n.jsx)(s.h3,{id:"checkvalidipaddress",children:"CheckValidIPAddress"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CheckValidIPAddress(Name As %String, IP As %String, ByRef Status As %Status) As %Boolean [ Internal ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"computeaccesscontrollist",children:"ComputeAccessControlList"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ComputeAccessControlList(Name As %String, ByRef ref As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Compile the list of Valid IP addresses from the class into an active list that can be used efficiently as new connections are received."}),"\n",(0,n.jsx)(s.h3,{id:"create",children:"Create"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Create(Name As %String, Description As %String, AutheEnabled As %Integer, AutheEnabledCapabilities As %Integer, Capabilities As %Integer, Enabled As %Boolean) As %Status [ Internal ]\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Create a Service.",(0,n.jsx)(s.br,{}),"\nCreate a Service in the Security database. This is for internal use only to initialize the services when the system is installed.",(0,n.jsx)(s.br,{}),"\nParameters:",(0,n.jsx)(s.br,{}),"\nName - Name of the Service to create",(0,n.jsx)(s.br,{}),"\nAutheEnabled - Bit string of authentication options enabled",(0,n.jsx)(s.br,{}),"\nAutheEnabledCapabilities - Bit string of authentication options allowed",(0,n.jsx)(s.br,{}),"\nDescription - Full name of the service",(0,n.jsx)(s.br,{}),"\nCapabilities - Bit string of additional capabilities for the service"]}),"\n",(0,n.jsx)(s.h3,{id:"emsopen",children:"EMSOpen"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod EMSOpen(id As %String, concurrency As %Integer = -1, ByRef sc As %Status) As %RegisteredObject [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Handle %OpenId for EMS update. Check for non-existant, OS-specific Services and ignore them. This happens primarily if we have mixed OS Instances in a Group."}),"\n",(0,n.jsx)(s.h3,{id:"exists",children:"Exists"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Exists(Name As %String, ByRef Service As %ObjectHandle, ByRef Status As %Status) As %Boolean\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Service exists.",(0,n.jsx)(s.br,{}),"\nThis method checks for the existence of a Service in the security database.",(0,n.jsx)(s.br,{}),"\nParameters:",(0,n.jsx)(s.br,{}),"\nName - Name of the Service to check existence of",(0,n.jsx)(s.br,{}),"\nReturn values:",(0,n.jsx)(s.br,{}),"\nIf Value of the method = 0 (Service does not exist, or some error occured)",(0,n.jsx)(s.br,{}),"\nService = Null",(0,n.jsx)(s.br,{}),'\nStatus = Service "x" does not exist, or other error message']}),"\n",(0,n.jsxs)(s.p,{children:["If Value of the method = 1 (Service exists)",(0,n.jsx)(s.br,{}),"\nService = Object handle to Service",(0,n.jsx)(s.br,{}),"\nStatus = $$$OK"]}),"\n",(0,n.jsx)(s.h3,{id:"export",children:"Export"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod Export(FileName As %String = "ServicesExport.xml", ByRef NumExported As %Integer, Services As %String = "*") As %Status\n'})}),"\n",(0,n.jsxs)(s.p,{children:["This method exports Service records to a file in xml format.",(0,n.jsx)(s.br,{}),"\nParameters:",(0,n.jsx)(s.br,{}),"\nFilename - Output file name",(0,n.jsx)(s.br,{}),"\nNumExported (byref) - Returns number of records exported.",(0,n.jsx)(s.br,{}),'\nServices - Comma separated list of Services to export, "*" = All']}),"\n",(0,n.jsx)(s.h3,{id:"get",children:"Get"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Get(Name As %String, ByRef Properties As %String) As %Status\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Get a service's properties.",(0,n.jsx)(s.br,{}),"\nGets a service's properties from the security database.",(0,n.jsx)(s.br,{}),"\nParameters:",(0,n.jsx)(s.br,{}),"\nName - Name of the Service to get",(0,n.jsx)(s.br,{}),"\nReturn values:",(0,n.jsx)(s.br,{}),"\nProperties - Array of properties",(0,n.jsx)(s.br,{}),'\nProperties("AutheEnabled") - Enabled authentication options',(0,n.jsx)(s.br,{}),'\nProperties("AutheEnabledCapabilities") - Allowed authentication options (Internal use only)',(0,n.jsx)(s.br,{}),'\nProperties("Capabilities") - Additional capability options (Internal use only)',(0,n.jsx)(s.br,{}),'\nProperties("Enabled") - Service is enabled',(0,n.jsx)(s.br,{}),'\nProperties("Description") - Full name of the service',(0,n.jsx)(s.br,{}),'\nProperties("ClientSystems") - Semicolon separated list of allowed IP connections, "ipsec1;ipspec2;ipspec3" (On some services, an ipspec can be ip|role1,role2,etc.)']}),"\n",(0,n.jsx)(s.h3,{id:"getpasswordautheenabled",children:"GetPasswordAutheEnabled"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetPasswordAutheEnabled(ByRef Enabled As %Boolean) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Returns 0/1 if any Services or CSP applications have Password authentication enabled"}),"\n",(0,n.jsx)(s.h3,{id:"getproperties",children:"GetProperties"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetProperties(Service As %ObjectHandle, ByRef Properties As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Get a services's properties.",(0,n.jsx)(s.br,{}),"\nGets a services's properties from the security database.",(0,n.jsx)(s.br,{}),"\nParameters:",(0,n.jsx)(s.br,{}),"\nService - Object handle to a Service record",(0,n.jsx)(s.br,{}),"\nReturn values:",(0,n.jsx)(s.br,{}),"\nProperties - See the Get method for more information on properties returned"]}),"\n",(0,n.jsx)(s.h3,{id:"import",children:"Import"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod Import(FileName As %String = "ServicesExport.xml", ByRef NumImported As %Integer, Flags As %Integer = 0) As %Status\n'})}),"\n",(0,n.jsxs)(s.p,{children:["Import Service records from an xml file.",(0,n.jsx)(s.br,{}),"\nParameters:",(0,n.jsx)(s.br,{}),"\nFileName - Filename to import Service records from",(0,n.jsx)(s.br,{}),"\nNumImported (byref) - Returns number of records imported",(0,n.jsx)(s.br,{}),"\nFlags - Control import",(0,n.jsx)(s.br,{}),"\nBit 0 - Do not import records, just return count",(0,n.jsx)(s.br,{}),"\nNote: On failure, no records will be imported"]}),"\n",(0,n.jsx)(s.h3,{id:"ispublic",children:"IsPublic"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Method IsPublic() As %Boolean\n"})}),"\n",(0,n.jsx)(s.p,{children:"Service is public."}),"\n",(0,n.jsx)(s.h3,{id:"initaccesscontrollist",children:"InitAccessControlList"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod InitAccessControlList(Name As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Called at Startup time to activate the access control list from the ClientSystems field of this Service."}),"\n",(0,n.jsx)(s.h3,{id:"initialize",children:"Initialize"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod Initialize(SecuritySetting As %String = "Normal", Flag As %Integer = 0) As %Status [ Internal, ProcedureBlock = 0 ]\n'})}),"\n",(0,n.jsx)(s.p,{children:"Initialize all the services for the first time."}),"\n",(0,n.jsx)(s.h3,{id:"isenabled",children:"IsEnabled"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsEnabled(ServiceName As %String) As %Boolean [ Internal ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"modify",children:"Modify"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Modify(Name As %String, ByRef Properties As %String) As %Status\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Modify a Service's properties.",(0,n.jsx)(s.br,{}),"\nModifies a Service's properties from the security database.",(0,n.jsx)(s.br,{}),"\nParameters:",(0,n.jsx)(s.br,{}),"\nName - Name of the service to modify",(0,n.jsx)(s.br,{}),"\nProperties - Array of properties to modify.",(0,n.jsx)(s.br,{}),"\nSee the Get() method for a description of the Properties parameter.",(0,n.jsx)(s.br,{}),"\nIf a specific property is not passed in the properties array, the value is not modified. Note that some system defined properties are not changeable."]}),"\n",(0,n.jsx)(s.h3,{id:"modifyone",children:"ModifyOne"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ModifyOne(ByRef Properties As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"removerolefromallservices",children:"RemoveRoleFromAllServices"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod RemoveRoleFromAllServices(RoleName As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:'When a role is being deleted, remove it from the "list of allowed IP addresses" of all services.'}),"\n",(0,n.jsx)(s.h3,{id:"start",children:"Start"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Start() As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Initialize the system services list of allowed IP addresses"}),"\n",(0,n.jsx)(s.h3,{id:"startterminal",children:"StartTerminal"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod StartTerminal() As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Initialize the in-system memory for unix and VMS terminals, and windows telnet and console which determines what authentication methods are available."}),"\n",(0,n.jsx)(s.h3,{id:"startems",children:"StartEMS"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod StartEMS() [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Initialize an EMS client when a service changes"}),"\n",(0,n.jsx)(s.h3,{id:"startstopterminaldaemon",children:"StartStopTerminalDaemon"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Method StartStopTerminalDaemon() [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Start or stop telnet daemon on windows."}),"\n",(0,n.jsx)(s.h3,{id:"jobterminaldaemonstart",children:"JobTerminalDaemonStart"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod JobTerminalDaemonStart(cmd As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"updateaccesscontrollist",children:"UpdateAccessControlList"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod UpdateAccessControlList(Name As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:'Compute the new AccessControlList from the ClientSystems property of this Service, and use "hot-patching" to update the active table of IP addresses that we check for access.'}),"\n",(0,n.jsx)(s.h3,{id:"validateclientsystemsip",children:"ValidateClientSystemsIP"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ValidateClientSystemsIP(addr As %String) As %String [ Internal ]\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Validate the IP/Hostname for the ClientSystems access control list. Return: 0 - valid. 1 - IP range is invalid. 2 - hostname is invalid.",(0,n.jsx)(s.br,{}),"\n3 - error trapped. 4 - hostname can't be resolved to IP.",(0,n.jsx)(s.br,{}),"\nOnly error code 4 could be recovered, other errors is fatal and can't proceed."]}),"\n",(0,n.jsx)(s.h3,{id:"onaftersave",children:"%OnAfterSave"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Method %OnAfterSave(insert As %Boolean) As %Status [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This callback method is invoked by the %Save method to provide notification that the object is being saved. It is called after the object's data has been successfully written to disk."}),"\n",(0,n.jsx)(s.p,{children:"insert will be set to 1 if this object is being saved for the first time."}),"\n",(0,n.jsx)(s.p,{children:"If this method returns an error then the call to %Save will fail. If the service name is %Service Terminal, reinitialize the memory which depends on it."}),"\n",(0,n.jsx)(s.h3,{id:"onbeforesave",children:"%OnBeforeSave"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Method %OnBeforeSave(insert As %Boolean) As %Status [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This callback method is invoked by the %Save method to provide notification that the object is being saved. It is called before any data is written to disk."}),"\n",(0,n.jsx)(s.p,{children:"insert will be set to 1 if this object is being saved for the first time."}),"\n",(0,n.jsx)(s.p,{children:"If this method returns an error then the call to %Save will fail."}),"\n",(0,n.jsx)(s.h3,{id:"ondelete",children:"%OnDelete"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %OnDelete(oid As %ObjectIdentity) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This callback method is invoked by the %Delete method to provide notification that the object specified by oid is being deleted."}),"\n",(0,n.jsx)(s.p,{children:"If this method returns an error then the object will not be deleted. [Previously private]"}),"\n",(0,n.jsx)(s.h3,{id:"onvalidateobject",children:"%OnValidateObject"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Method %OnValidateObject() As %Status [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This callback method is invoked by the %ValidateObject method to provide notification that the current object is being validated."}),"\n",(0,n.jsx)(s.p,{children:"If this method returns an error then %ValidateObject will fail."}),"\n",(0,n.jsx)(s.h3,{id:"detailexecute",children:"DetailExecute"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod DetailExecute(ByRef %qHandle As %Binary, Names As %String = "*") As %Status [ Internal ]\n'})}),"\n",(0,n.jsxs)(s.p,{children:["Detail list of services.",(0,n.jsx)(s.br,{}),'\nNames - Comma separated list of Service names, "*" = All',(0,n.jsx)(s.br,{}),"\nNote: This query may change in future versions"]}),"\n",(0,n.jsx)(s.h3,{id:"detailfetch",children:"DetailFetch"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod DetailFetch(ByRef %qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status [ Internal, PlaceAfter = DetailExecute ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"detailclose",children:"DetailClose"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod DetailClose(ByRef %qHandle As %Binary) As %Status [ Internal, PlaceAfter = DetailExecute ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"listexecute",children:"ListExecute"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod ListExecute(ByRef %qHandle As %Binary, Names As %String = "*") As %Status [ Internal ]\n'})}),"\n",(0,n.jsxs)(s.p,{children:["List of services.",(0,n.jsx)(s.br,{}),'\nNames - Comma separated list of Service names, "*" = All',(0,n.jsx)(s.br,{}),"\nNote: This query may change in future versions"]}),"\n",(0,n.jsx)(s.h3,{id:"listfetch",children:"ListFetch"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ListFetch(ByRef %qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status [ Internal, PlaceAfter = ListExecute ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"listclose",children:"ListClose"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ListClose(ByRef %qHandle As %Binary) As %Status [ Internal, PlaceAfter = ListExecute ]\n"})})]})}function o(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>l});var n=t(96540);const i={},r=n.createContext(i);function a(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);