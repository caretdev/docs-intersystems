"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[30320],{71568:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>c,default:()=>i,frontMatter:()=>d,toc:()=>l});var s=t(74848),r=t(28453);const d={pagination_prev:null,pagination_next:null},c="%CSP.Document",l=[{value:"Properties",id:"properties",level:2},{value:"NeedBroker",id:"needbroker",level:3},{value:"NeedJSBroker",id:"needjsbroker",level:3},{value:"NeedJS",id:"needjs",level:3},{value:"Methods",id:"methods",level:2},{value:"%OnClose",id:"onclose",level:3},{value:"RenderStartTag",id:"renderstarttag",level:3},{value:"RenderEndTag",id:"renderendtag",level:3},{value:"ProcessSection",id:"processsection",level:3},{value:"cbdelta",id:"cbdelta",level:3},{value:"indentdelta",id:"indentdelta",level:3},{value:"AddSectionMethod",id:"addsectionmethod",level:3},{value:"AddEventBroker",id:"addeventbroker",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cspdocument",children:"%CSP.Document"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Class %CSP.Document Extends %CSP.Rule [ Not ProcedureBlock, System = 3 ]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"%CSP.Document"})," class is the server-side representation of a CSP page."]}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(n.h3,{id:"needbroker",children:"NeedBroker"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property NeedBroker As %Boolean [ Deprecated, InitialExpression = 0 ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Deprecated property for #server that is kept for compatibility. Now has the same effect as NeedJS property. If true, JavaScript for #server applet HyperEvent should included in the CSP page."}),"\n",(0,s.jsx)(n.h3,{id:"needjsbroker",children:"NeedJSBroker"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property NeedJSBroker As %Boolean [ Deprecated, InitialExpression = 0 ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Deprecated property for #call that is kept for compatibility. Now has the same effect as NeedJS property. If true, JavaScript for #call iframe HyperEventshould included in the CSP page."}),"\n",(0,s.jsx)(n.h3,{id:"needjs",children:"NeedJS"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property NeedJS As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"If true, JavaScript for HyperEvent should included in the CSP page."}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h3,{id:"onclose",children:"%OnClose"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method %OnClose() As %Status\n"})}),"\n",(0,s.jsx)(n.p,{children:"Make sure that we are cleaned up."}),"\n",(0,s.jsx)(n.h3,{id:"renderstarttag",children:"RenderStartTag"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method RenderStartTag() As %Status\n"})}),"\n",(0,s.jsx)(n.p,{children:"The document tag for CSP acts to compile this document to a class that will render it on demand."}),"\n",(0,s.jsx)(n.h3,{id:"renderendtag",children:"RenderEndTag"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method RenderEndTag() As %Status\n"})}),"\n",(0,s.jsx)(n.p,{children:"The document tag for CSP acts to compile this document. Finish building the class and cleanup."}),"\n",(0,s.jsx)(n.h3,{id:"processsection",children:"ProcessSection"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method ProcessSection(section As %CSP.PageSection, handle As %String, methodname As %String) As %Status [ Internal ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Process all sections of this CSP or CSR class."}),"\n",(0,s.jsx)(n.h3,{id:"cbdelta",children:"cbdelta"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method cbdelta(line) As %Integer [ Internal, Private ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"This method parses a line, and return the changes in curly brace level. This method does not handle multi-line comment yet."}),"\n",(0,s.jsx)(n.h3,{id:"indentdelta",children:"indentdelta"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method indentdelta(line As %String) As %Integer [ Internal, Private ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"This method scans a line and returns the change in indent level for this line. This line's indent may only be changed by leading left curly brace, otherwise the indent is adjusted on the next line."}),"\n",(0,s.jsx)(n.h3,{id:"addsectionmethod",children:"AddSectionMethod"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod AddSectionMethod(handle As %String, name As %String, return As %String = "%Boolean", args As %String = "", language As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,s.jsx)(n.p,{children:"Add method for section or part of a section"}),"\n",(0,s.jsx)(n.h3,{id:"addeventbroker",children:"AddEventBroker"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddEventBroker() As %Status [ ProcedureBlock = 1 ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Insert event broker code into the head section to load hyperevent .js files."})]})}function i(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>l});var s=t(96540);const r={},d=s.createContext(r);function c(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);