"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[62328],{83994:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>c,default:()=>l,frontMatter:()=>r,toc:()=>o});var a=n(74848),s=n(28453);const r={pagination_prev:null,pagination_next:null},c="SYS.Database.BackgroundDefragment",o=[{value:"Parameters",id:"parameters",level:2},{value:"CANCELDISPOSITION",id:"canceldisposition",level:3},{value:"Properties",id:"properties",level:2},{value:"Database",id:"database",level:3},{value:"Methods",id:"methods",level:2},{value:"Execute",id:"execute",level:3},{value:"OnStarting",id:"onstarting",level:3},{value:"GetDisplayInfo",id:"getdisplayinfo",level:3}];function i(e){const t={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"sysdatabasebackgrounddefragment",children:"SYS.Database.BackgroundDefragment"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Class SYS.Database.BackgroundDefragment Extends %SYS.BackgroundTask\n"})}),"\n",(0,a.jsx)(t.p,{children:"Class to start, monitor and control the Database Defragmentation utiltity running in the background. The method run in the background is the Defragment method of SYS.Database."}),"\n",(0,a.jsx)(t.p,{children:"To start it"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"set oref=##class(SYS.Database.BackgroundDefragment).Start(Directory)\n"})}),"\n",(0,a.jsx)(t.p,{children:"See the FileCompact method of SYS.Database for description of the parameters above."}),"\n",(0,a.jsx)(t.p,{children:"Start returns an oref to an object of this class that can be inspected and reloaded to get status and progress updates. See superclass %SYS.BackgroundTask for detailed information on features of this object."}),"\n",(0,a.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(t.h3,{id:"canceldisposition",children:"CANCELDISPOSITION"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Parameter CANCELDISPOSITION = -1;\n"})}),"\n",(0,a.jsx)(t.p,{children:"Disposition for cancel requests."}),"\n",(0,a.jsxs)(t.p,{children:["0 - not allowed",(0,a.jsx)(t.br,{}),"\n1 - polls for cancel requests",(0,a.jsx)(t.br,{}),"\n-1 - directly terminate the process"]}),"\n",(0,a.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,a.jsx)(t.h3,{id:"database",children:"Database"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Property Database As %SysPath;\n"})}),"\n",(0,a.jsx)(t.p,{children:"Database directory on which to operate"}),"\n",(0,a.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,a.jsx)(t.h3,{id:"execute",children:"Execute"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method Execute(dir) As %Status [ Internal, Private ]\n"})}),"\n",(0,a.jsx)(t.h3,{id:"onstarting",children:"OnStarting"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method OnStarting(dir) As %Status [ Internal, Private ]\n"})}),"\n",(0,a.jsx)(t.h3,{id:"getdisplayinfo",children:"GetDisplayInfo"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetDisplayInfo(Output array) As %List [ Internal ]\n"})})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>o});var a=n(96540);const s={},r=a.createContext(s);function c(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);