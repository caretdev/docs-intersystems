"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[75332],{70500:(e,s,r)=>{r.r(s),r.d(s,{contentTitle:()=>i,default:()=>o,frontMatter:()=>a,toc:()=>l});var t=r(74848),n=r(28453);const a={pagination_prev:null,pagination_next:null},i="%WebStress.Control",l=[{value:"Properties",id:"properties",level:2},{value:"RunNumber",id:"runnumber",level:3},{value:"Test",id:"test",level:3},{value:"Status",id:"status",level:3},{value:"ErrorText",id:"errortext",level:3},{value:"Progress",id:"progress",level:3},{value:"AppServerStatus",id:"appserverstatus",level:3},{value:"ProcessStatus",id:"processstatus",level:3},{value:"GeneratorStatus",id:"generatorstatus",level:3},{value:"Jobs",id:"jobs",level:3},{value:"MonitorJob",id:"monitorjob",level:3},{value:"SystemIdentifier",id:"systemidentifier",level:3},{value:"TimeDiff",id:"timediff",level:3},{value:"TimeStart",id:"timestart",level:3},{value:"TimeStop",id:"timestop",level:3},{value:"RunDescription",id:"rundescription",level:3},{value:"Methods",id:"methods",level:2},{value:"StartPrepare",id:"startprepare",level:3},{value:"Prepare",id:"prepare",level:3},{value:"CheckGeneratorRunStatus",id:"checkgeneratorrunstatus",level:3},{value:"CheckGeneratorIsRunning",id:"checkgeneratorisrunning",level:3},{value:"GetGeneratorDetails",id:"getgeneratordetails",level:3},{value:"GeneratorRunStatus",id:"generatorrunstatus",level:3},{value:"GeneratorIsRunning",id:"generatorisrunning",level:3},{value:"SetAppEncrypt",id:"setappencrypt",level:3},{value:"GetAppServerStats",id:"getappserverstats",level:3},{value:"SetError",id:"seterror",level:3},{value:"SetProgress",id:"setprogress",level:3},{value:"GeneratorProcs",id:"generatorprocs",level:3},{value:"StartProcs",id:"startprocs",level:3},{value:"StartMonitor",id:"startmonitor",level:3},{value:"Monitor",id:"monitor",level:3},{value:"RunningCount",id:"runningcount",level:3},{value:"GetMaxRunNumber",id:"getmaxrunnumber",level:3},{value:"TestStart",id:"teststart",level:3},{value:"TestStop",id:"teststop",level:3},{value:"SystemID",id:"systemid",level:3},{value:"AnyTestsRunning",id:"anytestsrunning",level:3},{value:"GetErrors",id:"geterrors",level:3},{value:"BuildResultIterations",id:"buildresultiterations",level:3},{value:"SavePage",id:"savepage",level:3},{value:"Clean",id:"clean",level:3}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"webstresscontrol",children:"%WebStress.Control"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Class %WebStress.Control Extends (%Persistent, %XML.Adaptor) [ Inheritance = right, System = 4 ]\n"})}),"\n",(0,t.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(s.h3,{id:"runnumber",children:"RunNumber"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property RunNumber As %Integer;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Incremental number associated with each test"}),"\n",(0,t.jsx)(s.h3,{id:"test",children:"Test"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property Test As %String(TRUNCATE = 1);\n"})}),"\n",(0,t.jsx)(s.p,{children:"The test identifier"}),"\n",(0,t.jsx)(s.h3,{id:"status",children:"Status"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'Property Status As %String(DISPLAYLIST = ",Unknown,Preparing,Waiting,Warmup,Recording,Cooldown,Stopping,Stopped,Error", TRUNCATE = 1, VALUELIST = ",0,1,2,3,4,5,6,7,8") [ InitialExpression = 0 ];\n'})}),"\n",(0,t.jsx)(s.p,{children:"The status code associated with the test"}),"\n",(0,t.jsx)(s.h3,{id:"errortext",children:"ErrorText"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property ErrorText As %String(MAXLEN = 255, TRUNCATE = 1);\n"})}),"\n",(0,t.jsx)(s.p,{children:"A description of the last error"}),"\n",(0,t.jsx)(s.h3,{id:"progress",children:"Progress"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property Progress As array Of %WebStress.Control.Progress;\n"})}),"\n",(0,t.jsx)(s.p,{children:"An array containing the progress of the test preparation"}),"\n",(0,t.jsx)(s.h3,{id:"appserverstatus",children:"AppServerStatus"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property AppServerStatus As array Of %WebStress.Control.AppServers;\n"})}),"\n",(0,t.jsx)(s.p,{children:"An array constructed when the encryption flag is being changed on the application servers"}),"\n",(0,t.jsx)(s.h3,{id:"processstatus",children:"ProcessStatus"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property ProcessStatus As array Of %WebStress.Control.Processes;\n"})}),"\n",(0,t.jsx)(s.p,{children:"An array showing the number of processes started on each generator"}),"\n",(0,t.jsx)(s.h3,{id:"generatorstatus",children:"GeneratorStatus"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property GeneratorStatus As array Of %WebStress.Control.GeneratorStatus;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Shows the control status on each generator"}),"\n",(0,t.jsx)(s.h3,{id:"jobs",children:"Jobs"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property Jobs As array Of %String(TRUNCATE = 1);\n"})}),"\n",(0,t.jsx)(s.p,{children:"The list of jobs running on a generator"}),"\n",(0,t.jsx)(s.h3,{id:"monitorjob",children:"MonitorJob"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property MonitorJob As %String(TRUNCATE = 1);\n"})}),"\n",(0,t.jsx)(s.p,{children:"The job number of the monitor process"}),"\n",(0,t.jsx)(s.h3,{id:"systemidentifier",children:"SystemIdentifier"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property SystemIdentifier As %String(TRUNCATE = 1);\n"})}),"\n",(0,t.jsx)(s.p,{children:"A string uniquely identifying this system (hostname_namespace_manager's directory)"}),"\n",(0,t.jsx)(s.h3,{id:"timediff",children:"TimeDiff"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property TimeDiff As %Integer;\n"})}),"\n",(0,t.jsx)(s.p,{children:"The time difference (secs) between the starting machine and the other generators"}),"\n",(0,t.jsx)(s.h3,{id:"timestart",children:"TimeStart"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property TimeStart As %TimeStamp;\n"})}),"\n",(0,t.jsx)(s.h3,{id:"timestop",children:"TimeStop"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property TimeStop As %TimeStamp;\n"})}),"\n",(0,t.jsx)(s.h3,{id:"rundescription",children:"RunDescription"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property RunDescription As %String(TRUNCATE = 1);\n"})}),"\n",(0,t.jsx)(s.p,{children:"A description of this run"}),"\n",(0,t.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(s.h3,{id:"startprepare",children:"StartPrepare"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod StartPrepare(testID As %String, runDescription As %String) As %String\n"})}),"\n",(0,t.jsx)(s.h3,{id:"prepare",children:"Prepare"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Prepare(testID As %String, runDescription As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"checkgeneratorrunstatus",children:"CheckGeneratorRunStatus"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CheckGeneratorRunStatus(testID) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"checkgeneratorisrunning",children:"CheckGeneratorIsRunning"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CheckGeneratorIsRunning(testID As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"getgeneratordetails",children:"GetGeneratorDetails"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetGeneratorDetails(testID As %String, ByRef generators As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"generatorrunstatus",children:"GeneratorRunStatus"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GeneratorRunStatus(testID As %String, senderID As %String) As %WebStress.Control.GeneratorStatus\n"})}),"\n",(0,t.jsx)(s.h3,{id:"generatorisrunning",children:"GeneratorIsRunning"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GeneratorIsRunning(testID As %String, senderID As %String) As %WebStress.Control.GeneratorStatus\n"})}),"\n",(0,t.jsx)(s.h3,{id:"setappencrypt",children:"SetAppEncrypt"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SetAppEncrypt(testID As %String, value As %Integer) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"getappserverstats",children:"GetAppServerStats"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetAppServerStats(testID As %Integer, runID As %Integer, ByRef appServerStats As %String)\n"})}),"\n",(0,t.jsx)(s.h3,{id:"seterror",children:"SetError"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SetError(testID As %String, status As %String, message As %String)\n"})}),"\n",(0,t.jsx)(s.h3,{id:"setprogress",children:"SetProgress"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SetProgress(testID As %String, message As %String)\n"})}),"\n",(0,t.jsx)(s.h3,{id:"generatorprocs",children:"GeneratorProcs"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GeneratorProcs(testID As %String, runNumber As %Integer, runDescription As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"startprocs",children:"StartProcs"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod StartProcs(testID As %String, runNumber As %Integer, param As %Integer, senderID As %String, senderTime As %Integer) As %WebStress.Control\n"})}),"\n",(0,t.jsx)(s.p,{children:"This prepares all the background processes ready for the test"}),"\n",(0,t.jsx)(s.h3,{id:"startmonitor",children:"StartMonitor"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod StartMonitor(runNumber As %Integer, testID As %String, senderID As %String, runDescription As %String) As %String\n"})}),"\n",(0,t.jsx)(s.h3,{id:"monitor",children:"Monitor"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Monitor(runNumber As %Integer, testID As %String, senderID As %String, runDescription As %String)\n"})}),"\n",(0,t.jsx)(s.p,{children:"This is the background process that will monitor the progress of the run"}),"\n",(0,t.jsx)(s.h3,{id:"runningcount",children:"RunningCount"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod RunningCount(testID) As %Integer\n"})}),"\n",(0,t.jsx)(s.h3,{id:"getmaxrunnumber",children:"GetMaxRunNumber"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetMaxRunNumber(testID As %String) As %Integer\n"})}),"\n",(0,t.jsx)(s.h3,{id:"teststart",children:"TestStart"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod TestStart(testID As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"teststop",children:"TestStop"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod TestStop(testID As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"systemid",children:"SystemID"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SystemID() As %String\n"})}),"\n",(0,t.jsx)(s.h3,{id:"anytestsrunning",children:"AnyTestsRunning"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod AnyTestsRunning() As %Integer\n"})}),"\n",(0,t.jsx)(s.h3,{id:"geterrors",children:"GetErrors"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetErrors(testID As %String, runID As %Integer, scriptID As %String) As %GlobalCharacterStream\n"})}),"\n",(0,t.jsx)(s.h3,{id:"buildresultiterations",children:"BuildResultIterations"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod BuildResultIterations(TestID As %Integer, RunID As %Integer, desc As %String = "")\n'})}),"\n",(0,t.jsx)(s.h3,{id:"savepage",children:"SavePage"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SavePage(saveDir As %String, scriptID As %Integer, iteration As %Integer, url As %String, response As %Stream.GlobalCharacter)\n"})}),"\n",(0,t.jsx)(s.h3,{id:"clean",children:"Clean"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Clean() As %Status\n"})})]})}function o(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>i,x:()=>l});var t=r(96540);const n={},a=t.createContext(n);function i(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);