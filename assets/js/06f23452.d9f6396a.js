"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[20853],{91979:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>r,default:()=>c,frontMatter:()=>a,toc:()=>l});var s=n(74848),i=n(28453);const a={pagination_prev:null,pagination_next:null},r="%ZEN.SVGComponent.timeLine",l=[{value:"Properties",id:"properties",level:2},{value:"startTime",id:"starttime",level:3},{value:"endTime",id:"endtime",level:3},{value:"birthDate",id:"birthdate",level:3},{value:"selectedId",id:"selectedid",level:3},{value:"title",id:"title",level:3},{value:"dateFormat",id:"dateformat",level:3},{value:"spanHeight",id:"spanheight",level:3},{value:"marginLeft",id:"marginleft",level:3},{value:"marginRight",id:"marginright",level:3},{value:"ongetdata",id:"ongetdata",level:3},{value:"onselect",id:"onselect",level:3},{value:"onrenderitem",id:"onrenderitem",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"SVGStyle",id:"svgstyle",level:3},{value:"Methods",id:"methods",level:2},{value:"setTimeRange",id:"settimerange",level:3},{value:"renderContents",id:"rendercontents",level:3},{value:"renderTimeCells",id:"rendertimecells",level:3},{value:"renderData",id:"renderdata",level:3},{value:"renderOneItem",id:"renderoneitem",level:3},{value:"getCellInfo",id:"getcellinfo",level:3},{value:"getModel",id:"getmodel",level:3},{value:"setProperty",id:"setproperty",level:3},{value:"sortModel",id:"sortmodel",level:3},{value:"itemClick",id:"itemclick",level:3},{value:"selectItem",id:"selectitem",level:3},{value:"computeAge",id:"computeage",level:3},{value:"dragThumb",id:"dragthumb",level:3}];function d(e){const t={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"zensvgcomponenttimeline",children:"%ZEN.SVGComponent.timeLine"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Class %ZEN.SVGComponent.timeLine Extends svgComponent [ Deprecated, System = 3 ]\n"})}),"\n",(0,s.jsx)(t.p,{children:'SVG TimeLine component. This displays a series of "events" along a time line.'}),"\n",(0,s.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(t.h3,{id:"starttime",children:"startTime"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property startTime As %ZEN.Datatype.string;\n"})}),"\n",(0,s.jsx)(t.p,{children:"Earliest displayed time (as YYYY-MM-DD HH:MM:SS)."}),"\n",(0,s.jsx)(t.h3,{id:"endtime",children:"endTime"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property endTime As %ZEN.Datatype.string;\n"})}),"\n",(0,s.jsx)(t.p,{children:"Latest displayed time (as YYYY-MM-DD HH:MM:SS)."}),"\n",(0,s.jsx)(t.h3,{id:"birthdate",children:"birthDate"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property birthDate As %ZEN.Datatype.string;\n"})}),"\n",(0,s.jsx)(t.p,{children:'"Birth date" (as YYYY-MM-DD HH:MM:SS). If provided, then a time bar showing current age is also displayed.'}),"\n",(0,s.jsx)(t.h3,{id:"selectedid",children:"selectedId"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property selectedId As %ZEN.Datatype.string;\n"})}),"\n",(0,s.jsx)(t.p,{children:"Id of selected item."}),"\n",(0,s.jsx)(t.h3,{id:"title",children:"title"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property title As %ZEN.Datatype.string;\n"})}),"\n",(0,s.jsx)(t.p,{children:"Chart title."}),"\n",(0,s.jsx)(t.h3,{id:"dateformat",children:"dateFormat"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Property dateFormat As %ZEN.Datatype.string(MAXLEN = 3, VALUELIST = ",MDY,DMY,YMD") [ InitialExpression = "YMD" ];\n'})}),"\n",(0,s.jsx)(t.p,{children:"Optional. Specifies the display format used for this component. (Note that the internal value of this control is always YYYY-MM-DD). Possible values are:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:'"YMD" - Year,Month,Day'}),"\n",(0,s.jsx)(t.li,{children:'"MDY" - Month,Day,Year'}),"\n",(0,s.jsx)(t.li,{children:'"DMY" - Day,Month,Year'}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"spanheight",children:"spanHeight"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property spanHeight As %ZEN.Datatype.integer [ InitialExpression = 20 ];\n"})}),"\n",(0,s.jsx)(t.p,{children:"Height (in pixels) of a time span box on the time line."}),"\n",(0,s.jsx)(t.h3,{id:"marginleft",children:"marginLeft"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property marginLeft As %ZEN.Datatype.integer [ InitialExpression = 20 ];\n"})}),"\n",(0,s.jsx)(t.p,{children:"Left margin (in pixels)."}),"\n",(0,s.jsx)(t.h3,{id:"marginright",children:"marginRight"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property marginRight As %ZEN.Datatype.integer [ InitialExpression = 20 ];\n"})}),"\n",(0,s.jsx)(t.p,{children:"Right margin (in pixels)."}),"\n",(0,s.jsx)(t.h3,{id:"ongetdata",children:"ongetdata"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property ongetdata As %ZEN.Datatype.eventHandler;\n"})}),"\n",(0,s.jsx)(t.p,{children:"ongetdata event handler: This defines the client-side code that returns an graph of javascript objects used to provide the contents of this view."}),"\n",(0,s.jsx)(t.h3,{id:"onselect",children:"onselect"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property onselect As %ZEN.Datatype.eventHandler;\n"})}),"\n",(0,s.jsx)(t.p,{children:"onselect event handler: This event handler is called when the user selects a new item within the timeline."}),"\n",(0,s.jsx)(t.h3,{id:"onrenderitem",children:"onrenderitem"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property onrenderitem As %ZEN.Datatype.eventHandler;\n"})}),"\n",(0,s.jsx)(t.p,{children:"onrenderitem event handler: This event handler is called when an event is plotted and makes it possible to plot custom content on the time line."}),"\n",(0,s.jsx)(t.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,s.jsx)(t.h3,{id:"svgstyle",children:"SVGStyle"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"XData SVGStyle\n"})}),"\n",(0,s.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(t.h3,{id:"settimerange",children:"setTimeRange"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod setTimeRange(startTime, endTime, reset, which) [ Language = javascript ]\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Set the timeline start and end dates and update. Time values are in 'yyyy-mm-dd' format. This prevents the repaint that would happen if start and end dates are set separately. If endTime is not provided, update it to preserve the current time range using startTime as a new starting time.",(0,s.jsx)(t.br,{}),"\nIf reset is true, clear the internal structures used to compute the locations of the time events.",(0,s.jsx)(t.br,{}),'\nIf which is provided, it specifies whether the change is "translate" or "scale" (to make it easy to connect to a timeRange controller).']}),"\n",(0,s.jsx)(t.h3,{id:"rendercontents",children:"renderContents"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod renderContents() [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Render the inner SVG contents of this component."}),"\n",(0,s.jsx)(t.h3,{id:"rendertimecells",children:"renderTimeCells"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod renderTimeCells() [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Render the time cells on the top/bottom."}),"\n",(0,s.jsx)(t.h3,{id:"renderdata",children:"renderData"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod renderData(dataGroup, marginTop) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Render the actual time line data."}),"\n",(0,s.jsx)(t.h3,{id:"renderoneitem",children:"renderOneItem"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod renderOneItem(group, item, length, size) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Render one item on the timeline. group is the svg group to append to. length is the length (in pixels) of the time range to plot.. Return the size of the rendered item via size."}),"\n",(0,s.jsx)(t.h3,{id:"getcellinfo",children:"getCellInfo"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod getCellInfo(cell, majorUnits, minorUnits, index) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Return information about a cell within the grid line."}),"\n",(0,s.jsx)(t.h3,{id:"getmodel",children:"getModel"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod getModel() [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Get the model used to drive the user portion of the time line."}),"\n",(0,s.jsx)(t.h3,{id:"setproperty",children:"setProperty"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod setProperty(property, value, value2) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Set the value of a named property."}),"\n",(0,s.jsx)(t.h3,{id:"sortmodel",children:"sortModel"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod sortModel(model, range) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Take the user-supplied data model and sort it by time. Return a sorted and decorated model. Also find earliest and latest times and return via range object."}),"\n",(0,s.jsx)(t.h3,{id:"itemclick",children:"itemClick"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod itemClick(evt, newId) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Click on item."}),"\n",(0,s.jsx)(t.h3,{id:"selectitem",children:"selectItem"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod selectItem(newId) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Select an item."}),"\n",(0,s.jsx)(t.h3,{id:"computeage",children:"computeAge"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod computeAge(birthDate, currDate) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Compute the age between currDate and birthDate, return it as an object."}),"\n",(0,s.jsx)(t.h3,{id:"dragthumb",children:"dragThumb"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"ClientMethod dragThumb(evt) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"Drag handler for vertical scrollbar thumb."})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>l});var s=n(96540);const i={},a=s.createContext(i);function r(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);