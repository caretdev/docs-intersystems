"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[11870],{40331:(e,a,s)=>{s.r(a),s.d(a,{contentTitle:()=>i,default:()=>o,frontMatter:()=>l,toc:()=>r});var n=s(74848),t=s(28453);const l={pagination_prev:null,pagination_next:null},i="%ZEN.Component.dateText",r=[{value:"Parameters",id:"parameters",level:2},{value:"DEFAULTCONTROLCLASS",id:"defaultcontrolclass",level:3},{value:"DOMAIN",id:"domain",level:3},{value:"Properties",id:"properties",level:2},{value:"invalidDateMessage",id:"invaliddatemessage",level:3},{value:"size",id:"size",level:3},{value:"minDate",id:"mindate",level:3},{value:"maxDate",id:"maxdate",level:3},{value:"showTime",id:"showtime",level:3},{value:"defaultTime",id:"defaulttime",level:3},{value:"dayList",id:"daylist",level:3},{value:"monthList",id:"monthlist",level:3},{value:"timeCaption",id:"timecaption",level:3},{value:"firstDayOfWeek",id:"firstdayofweek",level:3},{value:"onshowPopup",id:"onshowpopup",level:3},{value:"format",id:"format",level:3},{value:"separator",id:"separator",level:3},{value:"image",id:"image",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"Style",id:"style",level:3},{value:"Methods",id:"methods",level:2},{value:"%DrawHTML",id:"drawhtml",level:3},{value:"ondatechangeHandler",id:"ondatechangehandler",level:3},{value:"formatValue",id:"formatvalue",level:3},{value:"unformatValue",id:"unformatvalue",level:3},{value:"showDateSelector",id:"showdateselector",level:3},{value:"applyDate",id:"applydate",level:3},{value:"setProperty",id:"setproperty",level:3},{value:"isValid",id:"isvalid",level:3},{value:"onloadHandler",id:"onloadhandler",level:3},{value:"onRefreshContents",id:"onrefreshcontents",level:3},{value:"keydownHandler",id:"keydownhandler",level:3},{value:"onDisplayHandler",id:"ondisplayhandler",level:3},{value:"adjustSize",id:"adjustsize",level:3}];function d(e){const a={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.header,{children:(0,n.jsx)(a.h1,{id:"zencomponentdatetext",children:"%ZEN.Component.dateText"})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Class %ZEN.Component.dateText Extends control [ Deprecated, System = 3 ]\n"})}),"\n",(0,n.jsxs)(a.p,{children:["Input control specialized for handling date values.",(0,n.jsx)(a.br,{}),"\nThis displays a text box as well as a button that displays a popup calendar.",(0,n.jsx)(a.br,{}),"\nWhen the user enters a value into this control, it will be converted into the closest matching date value or and invalid date message.",(0,n.jsx)(a.br,{}),"\nSetting the value property of this control, will bypass date matching.",(0,n.jsx)(a.br,{}),"\nThe value of this control is always in the canonical form: YYYY-MM-DD, you can, however, ",(0,n.jsx)(a.em,{children:"display"})," a different format by setting the format property."]}),"\n",(0,n.jsx)(a.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(a.h3,{id:"defaultcontrolclass",children:"DEFAULTCONTROLCLASS"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'Parameter DEFAULTCONTROLCLASS = "dateTextInput";\n'})}),"\n",(0,n.jsx)(a.h3,{id:"domain",children:"DOMAIN"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'Parameter DOMAIN = "%ZEN";\n'})}),"\n",(0,n.jsx)(a.p,{children:"Localization domain"}),"\n",(0,n.jsx)(a.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(a.h3,{id:"invaliddatemessage",children:"invalidDateMessage"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'Property invalidDateMessage As %ZEN.Datatype.caption [ InitialExpression = {$$$Text("Invalid Date","%ZEN")} ];\n'})}),"\n",(0,n.jsx)(a.p,{children:'Localized "invalid date" message displayed by control.'}),"\n",(0,n.jsx)(a.h3,{id:"size",children:"size"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property size As %ZEN.Datatype.integer(MINVAL = 0) [ InitialExpression = 15 ];\n"})}),"\n",(0,n.jsx)(a.p,{children:"Size of the input area for this control."}),"\n",(0,n.jsx)(a.h3,{id:"mindate",children:"minDate"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property minDate As %ZEN.Datatype.string(ZENEXPRESSION = 1);\n"})}),"\n",(0,n.jsx)(a.p,{children:'Optional. If specified, this is the earliest date allowed by the calendar. This is a date in the form "YYYY-MM-DD".'}),"\n",(0,n.jsx)(a.h3,{id:"maxdate",children:"maxDate"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property maxDate As %ZEN.Datatype.string(ZENEXPRESSION = 1);\n"})}),"\n",(0,n.jsx)(a.p,{children:'Optional. If specified, this is the latest date allowed by the calendar. This is a date in the form "YYYY-MM-DD".'}),"\n",(0,n.jsx)(a.h3,{id:"showtime",children:"showTime"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property showTime As %ZEN.Datatype.boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(a.p,{children:"If true, then this calendar will also display and allow the user to edit the time of day portion of a date. In this case, the value used by this control will be in xDBC timestamp format: YYYY-MM-DD HH:MM:SS"}),"\n",(0,n.jsx)(a.h3,{id:"defaulttime",children:"defaultTime"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property defaultTime As %ZEN.Datatype.string(ZENEXPRESSION = 1);\n"})}),"\n",(0,n.jsx)(a.p,{children:"If specified and showTime is true, and the value supplied does not include a time portion, this will be used as the initial time displayed in the popup calendar."}),"\n",(0,n.jsx)(a.h3,{id:"daylist",children:"dayList"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property dayList As %ZEN.Datatype.csv(ZENLOCALIZE = 1);\n"})}),"\n",(0,n.jsx)(a.p,{children:"List of localized day abbreviations shown at top of calendar. If specified, this is passed on the popup calendar."}),"\n",(0,n.jsx)(a.h3,{id:"monthlist",children:"monthList"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property monthList As %ZEN.Datatype.csv(ZENLOCALIZE = 1);\n"})}),"\n",(0,n.jsx)(a.p,{children:"List of localized month names shown at top of calendar. If specified, this is passed on the popup calendar."}),"\n",(0,n.jsx)(a.h3,{id:"timecaption",children:"timeCaption"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property timeCaption As %ZEN.Datatype.caption;\n"})}),"\n",(0,n.jsx)(a.p,{children:"Localized caption for time input box (see showTime). If specified, this is passed on the popup calendar."}),"\n",(0,n.jsx)(a.h3,{id:"firstdayofweek",children:"firstDayOfWeek"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property firstDayOfWeek As %ZEN.Datatype.integer(MAXVAL = 6, MINVAL = 0) [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsxs)(a.p,{children:["Specified which day of the week (Sunday=0, Saturday = 6) is displayed as the starting day of the week.",(0,n.jsx)(a.br,{}),"\nThis allows for customizing the calendar for locales where weeks start with other days of the week. This is passed on the popup calendar."]}),"\n",(0,n.jsx)(a.h3,{id:"onshowpopup",children:"onshowPopup"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property onshowPopup As %ZEN.Datatype.eventHandler;\n"})}),"\n",(0,n.jsxs)(a.p,{children:["onshowPopup event handler: This event is fired just before the popup calendar is displayed. It provides an opportunity to pass additional settings to the popup calendar.",(0,n.jsx)(a.br,{}),"\nThe argument, settings, passed to this callback, is an object (associative array). Property values within this object are passed on as setting to the calendar control.",(0,n.jsx)(a.br,{}),"\nFor example:",(0,n.jsx)(a.br,{}),"\nsettings['gapWidth'] = '100px';"]}),"\n",(0,n.jsx)(a.h3,{id:"format",children:"format"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'Property format As %ZEN.Datatype.string(MAXLEN = 3, VALUELIST = ",MDY,DMY,YMD", ZENEXPRESSION = 1) [ InitialExpression = "YMD" ];\n'})}),"\n",(0,n.jsx)(a.p,{children:"Optional. Specifies the display format used for this component. (Note that the internal value of this control is always YYYY-MM-DD). Possible values are:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:'"YMD" - Year,Month,Day'}),"\n",(0,n.jsx)(a.li,{children:'"MDY" - Month,Day,Year'}),"\n",(0,n.jsx)(a.li,{children:'"DMY" - Day,Month,Year'}),"\n"]}),"\n",(0,n.jsx)(a.h3,{id:"separator",children:"separator"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'Property separator As %ZEN.Datatype.string(MAXLEN = 1, VALUELIST = ",-,/,., ", ZENEXPRESSION = 1) [ InitialExpression = "-" ];\n'})}),"\n",(0,n.jsxs)(a.p,{children:["Optional. Specifies the separator character used between date segments. Note, if time is also displayed, the time separator is ",(0,n.jsx)(a.em,{children:"always"}),' ":".']}),"\n",(0,n.jsx)(a.h3,{id:"image",children:"image"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'Property image As %ZEN.Datatype.uri [ InitialExpression = "portal/calendar_48.gif" ];\n'})}),"\n",(0,n.jsx)(a.p,{children:'Optional. URL of the "show calendar" icon displayed within this control.'}),"\n",(0,n.jsx)(a.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,n.jsx)(a.h3,{id:"style",children:"Style"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"XData Style\n"})}),"\n",(0,n.jsx)(a.p,{children:"defines style sheet used by this component"}),"\n",(0,n.jsx)(a.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(a.h3,{id:"drawhtml",children:"%DrawHTML"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Method %DrawHTML()\n"})}),"\n",(0,n.jsx)(a.h3,{id:"ondatechangehandler",children:"ondatechangeHandler"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod ondatechangeHandler() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"onchange handler for this component."}),"\n",(0,n.jsx)(a.h3,{id:"formatvalue",children:"formatValue"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod formatValue(val) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Apply formatting to get displayed date value."}),"\n",(0,n.jsx)(a.h3,{id:"unformatvalue",children:"unformatValue"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod unformatValue(val) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Remove formatting to get logical date value."}),"\n",(0,n.jsx)(a.h3,{id:"showdateselector",children:"showDateSelector"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod showDateSelector(defaultTime) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Display date selector for this control."}),"\n",(0,n.jsx)(a.h3,{id:"applydate",children:"applyDate"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod applyDate(group) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Apply the value from the popup to the input control."}),"\n",(0,n.jsx)(a.h3,{id:"setproperty",children:"setProperty"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod setProperty(property, value, value2) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Set the value of a named property."}),"\n",(0,n.jsx)(a.h3,{id:"isvalid",children:"isValid"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod isValid() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"This method is called by the form validation mechanism to test if the current contents of this control are valid."}),"\n",(0,n.jsx)(a.h3,{id:"onloadhandler",children:"onloadHandler"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod onloadHandler() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Make sure that value is formatted correctly."}),"\n",(0,n.jsx)(a.h3,{id:"onrefreshcontents",children:"onRefreshContents"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod onRefreshContents() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"This client callback is called just from refreshContents just after the new HTML is delivered from the server."}),"\n",(0,n.jsx)(a.h3,{id:"keydownhandler",children:"keydownHandler"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod keydownHandler(evt) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"ondisplayhandler",children:"onDisplayHandler"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod onDisplayHandler() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Key down handler; trap ESC to avoid IE issues. This client event, if present, is fired when the containing group is made visible."}),"\n",(0,n.jsx)(a.h3,{id:"adjustsize",children:"adjustSize"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod adjustSize() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Adjust size of control."})]})}function o(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,a,s)=>{s.d(a,{R:()=>i,x:()=>r});var n=s(96540);const t={},l=n.createContext(t);function i(e){const a=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),n.createElement(l.Provider,{value:a},e.children)}}}]);