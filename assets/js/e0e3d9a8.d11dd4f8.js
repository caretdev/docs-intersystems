"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[23366],{44383:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>l,default:()=>o,frontMatter:()=>i,toc:()=>a});var s=t(74848),r=t(28453);const i={pagination_prev:null,pagination_next:null},l="%Monitor.Alert",a=[{value:"Properties",id:"properties",level:2},{value:"ApplicationName",id:"applicationname",level:3},{value:"Name",id:"name",level:3},{value:"NotifyOnce",id:"notifyonce",level:3},{value:"Notified",id:"notified",level:3},{value:"Activated",id:"activated",level:3},{value:"AlertAction",id:"alertaction",level:3},{value:"MetricClass",id:"metricclass",level:3},{value:"MetricApp",id:"metricapp",level:3},{value:"MetricGroup",id:"metricgroup",level:3},{value:"PropertyList",id:"propertylist",level:3},{value:"EvalMethod",id:"evalmethod",level:3},{value:"EvalClass",id:"evalclass",level:3},{value:"NotifyMethod",id:"notifymethod",level:3},{value:"Expression",id:"expression",level:3},{value:"NotifyClass",id:"notifyclass",level:3},{value:"ItemGroup",id:"itemgroup",level:3},{value:"Application",id:"application",level:3},{value:"Methods",id:"methods",level:2},{value:"Create",id:"create",level:3},{value:"Delete",id:"delete",level:3},{value:"Check",id:"check",level:3},{value:"GetId",id:"getid",level:3},{value:"External",id:"external",level:3}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"monitoralert",children:"%Monitor.Alert"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Class %Monitor.Alert Extends (%Persistent, %CSP.Page) [ Not Hidden, Inheritance = right, System = 3 ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"This class allows user applications to generate an alert using one of the supported external monitoring protocols. See the External() class method for details."}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(n.h3,{id:"applicationname",children:"ApplicationName"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property ApplicationName As %String(TRUNCATE = 1) [ Internal, Required ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Alert application"}),"\n",(0,s.jsx)(n.h3,{id:"name",children:"Name"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Name As %String(TRUNCATE = 1) [ Internal, Required ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Alert name"}),"\n",(0,s.jsx)(n.h3,{id:"notifyonce",children:"NotifyOnce"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property NotifyOnce As %Boolean [ InitialExpression = 0, Internal ];\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Alert once",(0,s.jsx)(n.br,{}),"\nIf FALSE (the default) the alert is notified each time the alert is signalled.",(0,s.jsx)(n.br,{}),"\nIf TRUE the alert is only notified once."]}),"\n",(0,s.jsx)(n.h3,{id:"notified",children:"Notified"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Notified As %Boolean [ InitialExpression = 0, Internal, Transient ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"If TRUE the alert has been notified."}),"\n",(0,s.jsx)(n.h3,{id:"activated",children:"Activated"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Activated As %Boolean [ InitialExpression = 1, Internal ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Flag indicating if this alert is active"}),"\n",(0,s.jsx)(n.h3,{id:"alertaction",children:"AlertAction"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property AlertAction As %Integer [ InitialExpression = 0, Internal ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Alert action"}),"\n",(0,s.jsx)(n.h3,{id:"metricclass",children:"MetricClass"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property MetricClass As %String [ Internal ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Metrics class"}),"\n",(0,s.jsx)(n.h3,{id:"metricapp",children:"MetricApp"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property MetricApp As %String [ Internal ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Metric application"}),"\n",(0,s.jsx)(n.h3,{id:"metricgroup",children:"MetricGroup"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property MetricGroup As %String [ Internal ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Metric group"}),"\n",(0,s.jsx)(n.h3,{id:"propertylist",children:"PropertyList"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property PropertyList As %String(MAXLEN = 132) [ Internal ];\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Metrics property list",(0,s.jsx)(n.br,{}),"\nA comma-separted string of property names whose values are passed as a list to the evaluation method"]}),"\n",(0,s.jsx)(n.h3,{id:"evalmethod",children:"EvalMethod"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property EvalMethod As %String [ Internal ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Method to be invoked during sampling to determine if an alert should be raised"}),"\n",(0,s.jsx)(n.h3,{id:"evalclass",children:"EvalClass"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property EvalClass As %String [ Internal ];\n"})}),"\n",(0,s.jsx)(n.h3,{id:"notifymethod",children:"NotifyMethod"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property NotifyMethod As %String [ Internal ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Method to be invoked if notify type = METHOD [optional]"}),"\n",(0,s.jsx)(n.h3,{id:"expression",children:"Expression"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Expression As %String(MAXLEN = 132) [ Internal ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Expression to be evaluated [optional]"}),"\n",(0,s.jsx)(n.h3,{id:"notifyclass",children:"NotifyClass"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property NotifyClass As %String [ Internal ];\n"})}),"\n",(0,s.jsx)(n.h3,{id:"itemgroup",children:"ItemGroup"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property ItemGroup As %Monitor.ItemGroup [ Internal, Transient ];\n"})}),"\n",(0,s.jsx)(n.h3,{id:"application",children:"Application"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Relationship Application As %Monitor.Application [ Cardinality = parent, Internal, Inverse = Alert ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"The application definition for this group"}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h3,{id:"create",children:"Create"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod Create(name As %String = "", appname As %String = "", action As %Integer = 0, nmethod As %String = "", nclass As %String = "", mclass As %String = "", prop As %String = "", expr As %String = "", once As %Boolean = 0, evalmethod As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,s.jsx)(n.p,{children:"Unique key index for alert"}),"\n",(0,s.jsx)(n.h3,{id:"delete",children:"Delete"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod Delete(name As %String = "", appname As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,s.jsx)(n.p,{children:"Delete an alert"}),"\n",(0,s.jsx)(n.h3,{id:"check",children:"Check"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method Check() As %Status [ Internal ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Validate the alert definition"}),"\n",(0,s.jsx)(n.h3,{id:"getid",children:"GetId"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetId(name As %String, ByRef id As %String) As %Status [ Internal ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Returns the object id for the alert"}),"\n",(0,s.jsx)(n.h3,{id:"external",children:"External"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod External(type As %String = "SNMP", appname As %String = "", severity As %Integer = 0, msg As %String = "") As %Status\n'})}),"\n",(0,s.jsx)(n.p,{children:"This class method allows a application to send an alert using an external monitoring or management interface, currently just SNMP. This call may be used within the Alert Evaluation Method to forward alerts generated by the Monitor, or from anywhere within the application itself to simply create an SNMP Trap."}),"\n",(0,s.jsx)(n.p,{children:"The parameters used are:"}),"\n",(0,s.jsx)(n.p,{children:"type = use 'SNMP' to indicate how to send the alert"}),"\n",(0,s.jsx)(n.p,{children:"appname = a brief string (MAXLEN=20) to identify the source or application creating the alert"}),"\n",(0,s.jsx)(n.p,{children:"severity = a severity code where 0=info, 1=warning, 2=severe, 3=fatal"}),"\n",(0,s.jsx)(n.p,{children:"msg = a text message (MAXLEN=1024) which describes the problem or event"}),"\n",(0,s.jsx)(n.p,{children:"For SNMP, the alert is sent using the cacheAppAlert trap, with each of the parameters attached as auxiliary objects (see the ISC-CACHE.MIB)."})]})}function o(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>a});var s=t(96540);const r={},i=s.createContext(r);function l(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);