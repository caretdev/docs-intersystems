"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[37765],{20443:(e,s,n)=>{n.r(s),n.d(s,{contentTitle:()=>l,default:()=>c,frontMatter:()=>r,toc:()=>i});var a=n(74848),t=n(28453);const r={pagination_prev:null,pagination_next:null},l="%SYS.Task.CleanSourceJournal",i=[{value:"Parameters",id:"parameters",level:2},{value:"TaskName",id:"taskname",level:3},{value:"Properties",id:"properties",level:2},{value:"KeepDays",id:"keepdays",level:3},{value:"Methods",id:"methods",level:2},{value:"KeepDaysIsValid",id:"keepdaysisvalid",level:3},{value:"OnTask",id:"ontask",level:3}];function o(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"systaskcleansourcejournal",children:"%SYS.Task.CleanSourceJournal"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Class %SYS.Task.CleanSourceJournal Extends %SYS.Task.Definition\n"})}),"\n",(0,a.jsxs)(s.p,{children:["This task removes entries in the source journal global that are older than the configured value.",(0,a.jsx)(s.br,{}),"\nIt is normally run nightly."]}),"\n",(0,a.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(s.h3,{id:"taskname",children:"TaskName"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter TaskName = "CleanSourceJournal";\n'})}),"\n",(0,a.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,a.jsx)(s.h3,{id:"keepdays",children:"KeepDays"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Property KeepDays As %Integer [ InitialExpression = 60 ];\n"})}),"\n",(0,a.jsx)(s.p,{children:"Default purge of 2 months"}),"\n",(0,a.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,a.jsx)(s.h3,{id:"keepdaysisvalid",children:"KeepDaysIsValid"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod KeepDaysIsValid(KeepDays As %Integer) As %Status\n"})}),"\n",(0,a.jsx)(s.p,{children:"Validate KeepDays value"}),"\n",(0,a.jsx)(s.h3,{id:"ontask",children:"OnTask"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method OnTask() As %Status\n"})}),"\n",(0,a.jsxs)(s.p,{children:["This method is responsible for executing the task.",(0,a.jsx)(s.br,{}),'\nAt the scheduled time, the Task Manager creates an instance of this object, sets any property values using the stored "settings" for the task, and then invokes this method to execute the task.']})]})}function c(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>i});var a=n(96540);const t={},r=a.createContext(t);function l(e){const s=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),a.createElement(r.Provider,{value:s},e.children)}}}]);