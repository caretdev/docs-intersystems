"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[22873],{68538:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>a,default:()=>i,frontMatter:()=>n,toc:()=>d});var l=t(74848),r=t(28453);const n={pagination_prev:null,pagination_next:null},a="%SQL.Diag.Result",d=[{value:"Parameters",id:"parameters",level:2},{value:"USEEXTENTSET",id:"useextentset",level:3},{value:"DEFAULTGLOBAL",id:"defaultglobal",level:3},{value:"SQLPUBLICSECURITY",id:"sqlpublicsecurity",level:3},{value:"Properties",id:"properties",level:2},{value:"resultId",id:"resultid",level:3},{value:"user",id:"user",level:3},{value:"processId",id:"processid",level:3},{value:"namespace",id:"namespace",level:3},{value:"createTime",id:"createtime",level:3},{value:"sqlcode",id:"sqlcode",level:3},{value:"inputRecordCount",id:"inputrecordcount",level:3},{value:"errorCount",id:"errorcount",level:3},{value:"maxErrorCount",id:"maxerrorcount",level:3},{value:"status",id:"status",level:3},{value:"statement",id:"statement",level:3},{value:"Methods",id:"methods",level:2},{value:"addDiagResult",id:"adddiagresult",level:3},{value:"addDiagMessage",id:"adddiagmessage",level:3},{value:"updateInputCount",id:"updateinputcount",level:3},{value:"updateStatus",id:"updatestatus",level:3},{value:"updateStatement",id:"updatestatement",level:3},{value:"updateResult",id:"updateresult",level:3},{value:"getLastResultId",id:"getlastresultid",level:3},{value:"%ToJSON",id:"tojson",level:3}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"sqldiagresult",children:"%SQL.Diag.Result"})}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Class %SQL.Diag.Result Extends %Library.Persistent [ Final, StorageStrategy = diagStorage, System = 4 ]\n"})}),"\n",(0,l.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,l.jsx)(s.h3,{id:"useextentset",children:"USEEXTENTSET"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter USEEXTENTSET = 1;\n"})}),"\n",(0,l.jsx)(s.h3,{id:"defaultglobal",children:"DEFAULTGLOBAL"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter DEFAULTGLOBAL = "^IRIS.sql.diag.result";\n'})}),"\n",(0,l.jsx)(s.h3,{id:"sqlpublicsecurity",children:"SQLPUBLICSECURITY"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter SQLPUBLICSECURITY = "{""Result"":""S"",""add_diag_result"":""E"",""add_diag_message"":""E""}";\n'})}),"\n",(0,l.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,l.jsx)(s.h3,{id:"resultid",children:"resultId"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property resultId As %Library.Integer [ Identity, SqlColumnNumber = 2 ];\n"})}),"\n",(0,l.jsx)(s.h3,{id:"user",children:"user"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property user As %String [ SqlColumnNumber = 6 ];\n"})}),"\n",(0,l.jsx)(s.h3,{id:"processid",children:"processId"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property processId As %String [ SqlColumnNumber = 5 ];\n"})}),"\n",(0,l.jsx)(s.h3,{id:"namespace",children:"namespace"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property namespace As %String [ SqlColumnNumber = 4 ];\n"})}),"\n",(0,l.jsx)(s.h3,{id:"createtime",children:"createTime"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property createTime As %PosixTime [ ReadOnly, SqlColumnNumber = 3, SqlComputeCode = { set {*}=##class(%PosixTime).CurrentUTCTimeStamp()}, SqlComputed, SqlComputeOnChange = %%INSERT ];\n"})}),"\n",(0,l.jsx)(s.h3,{id:"sqlcode",children:"sqlcode"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property sqlcode As %Integer [ SqlColumnNumber = 7 ];\n"})}),"\n",(0,l.jsx)(s.h3,{id:"inputrecordcount",children:"inputRecordCount"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property inputRecordCount As %Integer [ SqlColumnNumber = 8 ];\n"})}),"\n",(0,l.jsx)(s.h3,{id:"errorcount",children:"errorCount"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property errorCount As %Integer [ SqlColumnNumber = 9 ];\n"})}),"\n",(0,l.jsx)(s.h3,{id:"maxerrorcount",children:"maxErrorCount"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property maxErrorCount As %Integer [ SqlColumnNumber = 10 ];\n"})}),"\n",(0,l.jsx)(s.h3,{id:"status",children:"status"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property status As %String(MAXLEN = 20) [ SqlColumnNumber = 11 ];\n"})}),"\n",(0,l.jsx)(s.h3,{id:"statement",children:"statement"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property statement As %String(MAXLEN = 32768) [ SqlColumnNumber = 12 ];\n"})}),"\n",(0,l.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,l.jsx)(s.h3,{id:"adddiagresult",children:"addDiagResult"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod addDiagResult(maxErrorCount As %Integer = 0) As %Integer [ SqlName = add_diag_result, SqlProc ]\n"})}),"\n",(0,l.jsx)(s.h3,{id:"adddiagmessage",children:"addDiagMessage"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod addDiagMessage(resultId As %Integer, actor As %String, sqlcode As %Integer, message As %String(MAXLEN=""), severity As %Integer) [ SqlName = add_diag_message, SqlProc ]\n'})}),"\n",(0,l.jsx)(s.p,{children:"SEVERITY_COMPLETED = 0; SEVERITY_INFO = 1; SEVERITY_WARNING = 2; SEVERITY_ERROR = 3; SEVERITY_ABORT = 4;"}),"\n",(0,l.jsx)(s.h3,{id:"updateinputcount",children:"updateInputCount"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod updateInputCount(resultId As %Integer, inputCount As %Integer)\n"})}),"\n",(0,l.jsx)(s.h3,{id:"updatestatus",children:"updateStatus"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod updateStatus(resultId As %Integer, status As %String)\n"})}),"\n",(0,l.jsx)(s.h3,{id:"updatestatement",children:"updateStatement"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod updateStatement(resultId As %Integer, ByRef statement As %String(MAXLEN=32768))\n"})}),"\n",(0,l.jsx)(s.h3,{id:"updateresult",children:"updateResult"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod updateResult(resultId As %Integer, inputCount As %Integer, sqlcode As %Integer)\n"})}),"\n",(0,l.jsx)(s.h3,{id:"getlastresultid",children:"getLastResultId"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod getLastResultId() As %SQL.Diag.Result [ SqlName = get_last_result_id, SqlProc ]\n"})}),"\n",(0,l.jsx)(s.h3,{id:"tojson",children:"%ToJSON"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'Method %ToJSON() As %String(MAXLEN="")\n'})})]})}function i(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>d});var l=t(96540);const r={},n=l.createContext(r);function a(e){const s=l.useContext(n);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),l.createElement(n.Provider,{value:s},e.children)}}}]);