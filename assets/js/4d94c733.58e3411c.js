"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[87915],{55928:(e,t,i)=>{i.r(t),i.d(t,{contentTitle:()=>a,default:()=>c,frontMatter:()=>n,toc:()=>l});var r=i(74848),s=i(28453);const n={pagination_prev:null,pagination_next:null},a="%SYS.X509Credentials",l=[{value:"Parameters",id:"parameters",level:2},{value:"DOMAIN",id:"domain",level:3},{value:"VERSION",id:"version",level:3},{value:"SOURCECONTROL",id:"sourcecontrol",level:3},{value:"Properties",id:"properties",level:2},{value:"Alias",id:"alias",level:3},{value:"OwnerList",id:"ownerlist",level:3},{value:"Certificate",id:"certificate",level:3},{value:"PrivateKeyType",id:"privatekeytype",level:3},{value:"PrivateKey",id:"privatekey",level:3},{value:"PrivateKeyPassword",id:"privatekeypassword",level:3},{value:"PrivateKeyExport",id:"privatekeyexport",level:3},{value:"PrivateKeyPasswordExport",id:"privatekeypasswordexport",level:3},{value:"HasPrivateKey",id:"hasprivatekey",level:3},{value:"CAFile",id:"cafile",level:3},{value:"PeerNames",id:"peernames",level:3},{value:"SubjectKeyIdentifier",id:"subjectkeyidentifier",level:3},{value:"Thumbprint",id:"thumbprint",level:3},{value:"SerialNumber",id:"serialnumber",level:3},{value:"IssuerDN",id:"issuerdn",level:3},{value:"SubjectDN",id:"subjectdn",level:3},{value:"ValidityNotBefore",id:"validitynotbefore",level:3},{value:"ValidityNotAfter",id:"validitynotafter",level:3},{value:"Version",id:"version-1",level:3},{value:"Methods",id:"methods",level:2},{value:"CertificateSet",id:"certificateset",level:3},{value:"PrivateKeySet",id:"privatekeyset",level:3},{value:"PrivateKeyGet",id:"privatekeyget",level:3},{value:"PrivateKeyPasswordSet",id:"privatekeypasswordset",level:3},{value:"PrivateKeyPasswordGet",id:"privatekeypasswordget",level:3},{value:"PrivateKeyExportGet",id:"privatekeyexportget",level:3},{value:"PrivateKeyExportSet",id:"privatekeyexportset",level:3},{value:"PrivateKeyPasswordExportGet",id:"privatekeypasswordexportget",level:3},{value:"PrivateKeyPasswordExportSet",id:"privatekeypasswordexportset",level:3},{value:"SubjectKeyIdentifierSet",id:"subjectkeyidentifierset",level:3},{value:"ThumbprintSet",id:"thumbprintset",level:3},{value:"SerialNumberSet",id:"serialnumberset",level:3},{value:"IssuerDNSet",id:"issuerdnset",level:3},{value:"SubjectDNSet",id:"subjectdnset",level:3},{value:"ValidityNotBeforeGet",id:"validitynotbeforeget",level:3},{value:"ValidityNotBeforeSet",id:"validitynotbeforeset",level:3},{value:"ValidityNotAfterGet",id:"validitynotafterget",level:3},{value:"ValidityNotAfterSet",id:"validitynotafterset",level:3},{value:"Equals",id:"equals",level:3},{value:"Save",id:"save",level:3},{value:"%OnAfterSave",id:"onaftersave",level:3},{value:"%OnValidateObject",id:"onvalidateobject",level:3},{value:"%OnBeforeSave",id:"onbeforesave",level:3},{value:"%OnOpen",id:"onopen",level:3},{value:"BinaryToHexString",id:"binarytohexstring",level:3},{value:"LoadCertificate",id:"loadcertificate",level:3},{value:"LoadPrivateKey",id:"loadprivatekey",level:3},{value:"Delete",id:"delete",level:3},{value:"%OnDelete",id:"ondelete",level:3},{value:"FieldNumber",id:"fieldnumber",level:3},{value:"GetByAlias",id:"getbyalias",level:3},{value:"GetBySubjectKeyIdentifier",id:"getbysubjectkeyidentifier",level:3},{value:"GetByThumbprint",id:"getbythumbprint",level:3},{value:"GetByCertificate",id:"getbycertificate",level:3},{value:"GetByCertificateWithPrivateKey",id:"getbycertificatewithprivatekey",level:3},{value:"GetByRSAKeyValue",id:"getbyrsakeyvalue",level:3},{value:"GetByField",id:"getbyfield",level:3},{value:"GetByFieldNumber",id:"getbyfieldnumber",level:3},{value:"CheckFieldName",id:"checkfieldname",level:3},{value:"FindByField",id:"findbyfield",level:3},{value:"FindByFieldNumber",id:"findbyfieldnumber",level:3},{value:"CheckPeerName",id:"checkpeername",level:3},{value:"GetNext",id:"getnext",level:3},{value:"NormalizeDN",id:"normalizedn",level:3},{value:"Exists",id:"exists",level:3},{value:"Export",id:"export",level:3},{value:"GetProperties",id:"getproperties",level:3},{value:"Import",id:"import",level:3},{value:"Modify",id:"modify",level:3},{value:"RSADecrypt",id:"rsadecrypt",level:3},{value:"RSASize",id:"rsasize",level:3},{value:"RSASHASign",id:"rsashasign",level:3},{value:"SetHasPrivateKeyWhereUnset",id:"sethasprivatekeywhereunset",level:3}];function d(e){const t={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"sysx509credentials",children:"%SYS.X509Credentials"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Class %SYS.X509Credentials Extends (%Persistent, %XML.Adaptor, %SYSTEM.Help) [ Final, System = 4 ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"The %SYS.X509Credentials class defines the X.509 credentials which consist of an X.509 certificate and an optionally associated private key. An optional OwnerList may be specified to restrict which users have access to these credentials. The normal ObjectScript and SQL methods for accessing this data should not be used and will not work with normal security in order to maintain the security of the credentials."}),"\n",(0,r.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(t.h3,{id:"domain",children:"DOMAIN"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Parameter DOMAIN = "%Utility";\n'})}),"\n",(0,r.jsx)(t.p,{children:"Default Localization Domain"}),"\n",(0,r.jsx)(t.h3,{id:"version",children:"VERSION"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Parameter VERSION [ Internal ] = 1;\n"})}),"\n",(0,r.jsx)(t.h3,{id:"sourcecontrol",children:"SOURCECONTROL"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Parameter SOURCECONTROL [ Internal ] = {"Revision path: $Id: //iris/2024.3.0/databases/sys/cls/SYS/X509Credentials.xml#1 $"_$c(13,10)_"Last Change:   $DateTime: 2024/10/02 10:58:11 $"_$c(13,10)_"Changelist #:  $Change: 7247250 $"};\n'})}),"\n",(0,r.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(t.h3,{id:"alias",children:"Alias"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Property Alias As %String(MAXLEN = 150) [ Required ];\n"})}),"\n",(0,r.jsx)(t.p,{children:"The IDKEY for the credentials is a unique user defined alias. The Alias is defined on import and identifies the X.509 certificate and private key."}),"\n",(0,r.jsx)(t.h3,{id:"ownerlist",children:"OwnerList"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property OwnerList As %String(MAXLEN = "");\n'})}),"\n",(0,r.jsx)(t.p,{children:"The optional comma separated list of usernames which may access these credentials. If no OwnerList is specified, the credentials are available to any user."}),"\n",(0,r.jsx)(t.h3,{id:"certificate",children:"Certificate"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property Certificate As %Binary(MAXLEN = "") [ Required ];\n'})}),"\n",(0,r.jsx)(t.p,{children:"The X.509 certificate."}),"\n",(0,r.jsx)(t.h3,{id:"privatekeytype",children:"PrivateKeyType"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property PrivateKeyType As %String(VALUELIST = ",RSA,DSA") [ InitialExpression = "RSA", Required ];\n'})}),"\n",(0,r.jsx)(t.p,{children:"The type of the associated private key. Only RSA is supported initially."}),"\n",(0,r.jsx)(t.h3,{id:"privatekey",children:"PrivateKey"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property PrivateKey As %String(MAXLEN = "", XMLIO = "IN") [ Transient ];\n'})}),"\n",(0,r.jsx)(t.p,{children:"The private key associated with the certificate stored as PEM encoded text. The private key will be in memory only when set before save. The private key will not be loaded from global during open since transient."}),"\n",(0,r.jsx)(t.h3,{id:"privatekeypassword",children:"PrivateKeyPassword"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property PrivateKeyPassword As %String(MAXLEN = 128, XMLIO = "IN") [ Transient ];\n'})}),"\n",(0,r.jsx)(t.p,{children:"Optional password for the private key. The private key password will be in memory only when set before save. The private key password will not be loaded from global during open since transient."}),"\n",(0,r.jsx)(t.h3,{id:"privatekeyexport",children:"PrivateKeyExport"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property PrivateKeyExport As %String(MAXLEN = "", XMLIO = "OUT", XMLNAME = "PrivateKey") [ Internal, Transient ];\n'})}),"\n",(0,r.jsx)(t.p,{children:"This property is used internally by InterSystems IRIS. You should not make direct use of it within your applications."}),"\n",(0,r.jsx)(t.h3,{id:"privatekeypasswordexport",children:"PrivateKeyPasswordExport"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property PrivateKeyPasswordExport As %String(MAXLEN = 128, XMLIO = "OUT", XMLNAME = "PrivateKeyPassword") [ Internal, Transient ];\n'})}),"\n",(0,r.jsx)(t.p,{children:"This property is used internally by InterSystems IRIS. You should not make direct use of it within your applications."}),"\n",(0,r.jsx)(t.h3,{id:"hasprivatekey",children:"HasPrivateKey"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Property HasPrivateKey As %Boolean [ InitialExpression = 0, Internal ];\n"})}),"\n",(0,r.jsx)(t.p,{children:"Returns if a private key is present even if no privileges."}),"\n",(0,r.jsx)(t.h3,{id:"cafile",children:"CAFile"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Property CAFile As %String(MAXLEN = 255);\n"})}),"\n",(0,r.jsxs)(t.p,{children:["File containing X.509 certificate(s) of trusted Certificate Authorities.",(0,r.jsx)(t.br,{}),"\nCan be an absolute pathname or a pathname relative to the manager's directory.",(0,r.jsx)(t.br,{}),"\nWhen WS-Security validates a Signature where the certificate is not included in the SOAP message, the certificate is found in an %SYS.X509Credentials object. If the CAFile property is specified in the %SYS.X509Credentials object, CAFile gives the path of the CA file. If the CAFile property is not specified, then iris.cer in the mgr directory is used as the CA file."]}),"\n",(0,r.jsx)(t.h3,{id:"peernames",children:"PeerNames"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property PeerNames As %String(MAXLEN = "");\n'})}),"\n",(0,r.jsx)(t.p,{children:"PeerNames is an optional comma separated list of peers which expect this certificate to be used. Each peer name will normally be a DNS name. However, any application defined name may be used."}),"\n",(0,r.jsx)(t.h3,{id:"subjectkeyidentifier",children:"SubjectKeyIdentifier"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Property SubjectKeyIdentifier As %Binary;\n"})}),"\n",(0,r.jsx)(t.p,{children:"X.509 SubjectKeyIdentifier from the certificate. This property is only set via the LoadCertificate method."}),"\n",(0,r.jsx)(t.h3,{id:"thumbprint",children:"Thumbprint"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Property Thumbprint As %Binary;\n"})}),"\n",(0,r.jsx)(t.p,{children:"SHA1 Thumbprint of the certificate This property is only set via the LoadCertificate method."}),"\n",(0,r.jsx)(t.h3,{id:"serialnumber",children:"SerialNumber"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Property SerialNumber As %String;\n"})}),"\n",(0,r.jsx)(t.p,{children:"SerialNumber of the certificate -- unique for the Issuer. This property is only set via the LoadCertificate method."}),"\n",(0,r.jsx)(t.h3,{id:"issuerdn",children:"IssuerDN"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property IssuerDN As %String(MAXLEN = "");\n'})}),"\n",(0,r.jsx)(t.p,{children:"Issuer DistinguishedName of the certificate. This property is only set via the LoadCertificate method."}),"\n",(0,r.jsx)(t.h3,{id:"subjectdn",children:"SubjectDN"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property SubjectDN As %String(MAXLEN = "");\n'})}),"\n",(0,r.jsx)(t.p,{children:"Subject DistinguishedName of the certificate. This property is only set via the LoadCertificate method."}),"\n",(0,r.jsx)(t.h3,{id:"validitynotbefore",children:"ValidityNotBefore"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property ValidityNotBefore As %TimeStamp [ Calculated, ReadOnly, SqlComputeCode = { Set {ValidityNotBefore} = $select({Certificate}="":"",1:$System.Encryption.X509GetField({Certificate},"ValidityNotBefore")) }, SqlComputed, Transient ];\n'})}),"\n",(0,r.jsx)(t.p,{children:"X.509 ValidityNotBefore from the certificate."}),"\n",(0,r.jsx)(t.h3,{id:"validitynotafter",children:"ValidityNotAfter"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'Property ValidityNotAfter As %TimeStamp [ Calculated, ReadOnly, SqlComputeCode = { Set {ValidityNotAfter} = $select({Certificate}="":"",1:$System.Encryption.X509GetField({Certificate},"ValidityNotAfter")) }, SqlComputed, Transient ];\n'})}),"\n",(0,r.jsx)(t.p,{children:"X.509 ValidityNotAfter from the certificate."}),"\n",(0,r.jsx)(t.h3,{id:"version-1",children:"Version"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Property Version As %Decimal(SCALE = 1) [ Internal ];\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Version number of the record.",(0,r.jsx)(t.br,{}),"\nUsed for Export/Import."]}),"\n",(0,r.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(t.h3,{id:"certificateset",children:"CertificateSet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method CertificateSet(certificate As %Binary) As %Status [ Internal ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Setter method for Certificate."}),"\n",(0,r.jsx)(t.h3,{id:"privatekeyset",children:"PrivateKeySet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method PrivateKeySet(privateKey As %String) As %Status [ Internal, PlaceAfter = FieldNumber ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Store private key only if user has %Admin_Secure."}),"\n",(0,r.jsx)(t.h3,{id:"privatekeyget",children:"PrivateKeyGet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method PrivateKeyGet() As %String [ Internal, PlaceAfter = FieldNumber ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Get private key only if user has %Admin_Secure."}),"\n",(0,r.jsx)(t.h3,{id:"privatekeypasswordset",children:"PrivateKeyPasswordSet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method PrivateKeyPasswordSet(privateKeyPassword As %String) As %Status [ Internal, PlaceAfter = FieldNumber ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Set private key password."}),"\n",(0,r.jsx)(t.h3,{id:"privatekeypasswordget",children:"PrivateKeyPasswordGet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method PrivateKeyPasswordGet() As %String [ Internal, PlaceAfter = FieldNumber ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Get private key password only if user has %Admin_Secure."}),"\n",(0,r.jsx)(t.h3,{id:"privatekeyexportget",children:"PrivateKeyExportGet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method PrivateKeyExportGet() As %String [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.h3,{id:"privatekeyexportset",children:"PrivateKeyExportSet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method PrivateKeyExportSet(val As %String) As %Status [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.h3,{id:"privatekeypasswordexportget",children:"PrivateKeyPasswordExportGet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method PrivateKeyPasswordExportGet() As %String [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.h3,{id:"privatekeypasswordexportset",children:"PrivateKeyPasswordExportSet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method PrivateKeyPasswordExportSet(val As %String) As %Status [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.h3,{id:"subjectkeyidentifierset",children:"SubjectKeyIdentifierSet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method SubjectKeyIdentifierSet(value As %Binary) As %Status [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"For SubjectKeyIdentifier to be read-only."}),"\n",(0,r.jsx)(t.h3,{id:"thumbprintset",children:"ThumbprintSet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method ThumbprintSet(value As %Binary) As %Status [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"For Thumbprint to be read-only."}),"\n",(0,r.jsx)(t.h3,{id:"serialnumberset",children:"SerialNumberSet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method SerialNumberSet(value As %Binary) As %Status [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"For SerialNumber to be read-only."}),"\n",(0,r.jsx)(t.h3,{id:"issuerdnset",children:"IssuerDNSet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method IssuerDNSet(value As %String) As %Status [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"For IssuerDN to be read-only."}),"\n",(0,r.jsx)(t.h3,{id:"subjectdnset",children:"SubjectDNSet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method SubjectDNSet(value As %String) As %Status [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"For SubjectDN to be read-only."}),"\n",(0,r.jsx)(t.h3,{id:"validitynotbeforeget",children:"ValidityNotBeforeGet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method ValidityNotBeforeGet() As %TimeStamp [ CodeMode = expression, Internal ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Getter for ValidityNotBefore."}),"\n",(0,r.jsx)(t.h3,{id:"validitynotbeforeset",children:"ValidityNotBeforeSet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method ValidityNotBeforeSet(value As %TimeStamp) As %Status [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"For ValidityNotBefore to be read-only."}),"\n",(0,r.jsx)(t.h3,{id:"validitynotafterget",children:"ValidityNotAfterGet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method ValidityNotAfterGet() As %TimeStamp [ CodeMode = expression, Internal ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Getter for ValidityNotAfter."}),"\n",(0,r.jsx)(t.h3,{id:"validitynotafterset",children:"ValidityNotAfterSet"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method ValidityNotAfterSet(value As %TimeStamp) As %Status [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"For ValidityNotAfter to be read-only."}),"\n",(0,r.jsx)(t.h3,{id:"equals",children:"Equals"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method Equals(credentials As %SYS.X509Credentials) As %Boolean\n"})}),"\n",(0,r.jsx)(t.p,{children:"Return true if the same credentials -- same certificate in this case."}),"\n",(0,r.jsx)(t.h3,{id:"save",children:"Save"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method Save() As %Status\n"})}),"\n",(0,r.jsxs)(t.p,{children:["The Save method saves an X509Credentials object. To save a new X509Credentials object use the following procedure:",(0,r.jsx)(t.br,{}),"\n- get a new object with %New.",(0,r.jsx)(t.br,{}),"\n- set required unique Alias property.",(0,r.jsx)(t.br,{}),"\n- set any needed properties.",(0,r.jsx)(t.br,{}),"\n- load the certificate with the LoadCertificate method.",(0,r.jsx)(t.br,{}),"\n- load the private key with the LoadPrivateKeymethod.",(0,r.jsx)(t.br,{}),"\n- call the Save method."]}),"\n",(0,r.jsx)(t.h3,{id:"onaftersave",children:"%OnAfterSave"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnAfterSave(insert As %Boolean) As %Status [ Internal, PlaceAfter = FieldNumber, Private ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"This callback method is invoked by the %Save method to provide notification that the object is being saved. It is called after the object's data has been successfully written to disk."}),"\n",(0,r.jsx)(t.p,{children:"insert will be set to 1 if this object is being saved for the first time."}),"\n",(0,r.jsx)(t.p,{children:"If this method returns an error then the call to %Save will fail."}),"\n",(0,r.jsx)(t.h3,{id:"onvalidateobject",children:"%OnValidateObject"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnValidateObject(ReadOnly As %Boolean = 0) As %Status [ Private, ServerOnly = 1 ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Validate the object during save. Note that the PrivateKey property is accessed from memory during save."}),"\n",(0,r.jsx)(t.h3,{id:"onbeforesave",children:"%OnBeforeSave"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnBeforeSave(insert As %Boolean) As %Status [ Internal, Private, ServerOnly = 1 ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Caller of %Save must have secureity admin resource."}),"\n",(0,r.jsx)(t.h3,{id:"onopen",children:"%OnOpen"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnOpen() As %Status [ Internal, Private, ServerOnly = 1 ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Make sure that HasPrivateKey is always correctly defined"}),"\n",(0,r.jsx)(t.h3,{id:"binarytohexstring",children:"BinaryToHexString"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod BinaryToHexString(input As %Binary) As %String\n"})}),"\n",(0,r.jsx)(t.p,{children:"Change the binary data (stored in Thumbprint and SubjectKeyIdentifier) into formatted hex string. Like zzdump, 8-bit strings will be displayed in 1-byte words, ziswide() strings will be displayed in 2-byte words."}),"\n",(0,r.jsx)(t.h3,{id:"loadcertificate",children:"LoadCertificate"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method LoadCertificate(filename As %String) As %Status\n"})}),"\n",(0,r.jsx)(t.p,{children:"Load a certificate from a certificate file."}),"\n",(0,r.jsx)(t.h3,{id:"loadprivatekey",children:"LoadPrivateKey"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method LoadPrivateKey(filename As %String) As %Status\n"})}),"\n",(0,r.jsx)(t.p,{children:"Load a private key from a private key file."}),"\n",(0,r.jsx)(t.h3,{id:"delete",children:"Delete"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod Delete(alias As %String) As %Status\n"})}),"\n",(0,r.jsx)(t.p,{children:"The Delete method deletes an existing X509Credentials object specified by its alias."}),"\n",(0,r.jsx)(t.h3,{id:"ondelete",children:"%OnDelete"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %OnDelete(oid As %ObjectIdentity) As %Status [ Internal, Private, ServerOnly = 1 ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Caller of %Delete must have security admin resource."}),"\n",(0,r.jsx)(t.h3,{id:"fieldnumber",children:"FieldNumber"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod FieldNumber(fieldName As %String) As %Integer [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Internal method to return field position based on name."}),"\n",(0,r.jsx)(t.h3,{id:"getbyalias",children:"GetByAlias"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetByAlias(alias As %String, pwd As %String) As %SYS.X509Credentials\n"})}),"\n",(0,r.jsx)(t.p,{children:"Get a X.509 credentials record based on the unique alias. The record must have a null OwnerList or be owned by the current user to be returned."}),"\n",(0,r.jsx)(t.h3,{id:"getbysubjectkeyidentifier",children:"GetBySubjectKeyIdentifier"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetBySubjectKeyIdentifier(searchValue As %Binary) As %SYS.X509Credentials [ PlaceAfter = FieldNumber ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Get a X.509 credentials record based on the unique SubjectKeyIdentifier. The record must have a null OwnerList or be owned by the current user to be returned."}),"\n",(0,r.jsx)(t.h3,{id:"getbythumbprint",children:"GetByThumbprint"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetByThumbprint(searchValue As %Binary) As %SYS.X509Credentials\n"})}),"\n",(0,r.jsx)(t.p,{children:"Get a X.509 credentials record based on the unique SHA1 Thumbprint. The record must have a null OwnerList or be owned by the current user to be returned."}),"\n",(0,r.jsx)(t.h3,{id:"getbycertificate",children:"GetByCertificate"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetByCertificate(searchValue As %Binary) As %SYS.X509Credentials\n"})}),"\n",(0,r.jsx)(t.p,{children:"Get a X.509 credentials record based on the unique X.509 certificate. The record must have a null OwnerList or be owned by the current user to be returned."}),"\n",(0,r.jsx)(t.h3,{id:"getbycertificatewithprivatekey",children:"GetByCertificateWithPrivateKey"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetByCertificateWithPrivateKey(searchValue As %Binary) As %SYS.X509Credentials\n"})}),"\n",(0,r.jsx)(t.p,{children:"Get a X.509 credentials record based on the unique X.509 certificate for use with a private key. The record must have a null OwnerList or be owned by the current user to be returned."}),"\n",(0,r.jsx)(t.h3,{id:"getbyrsakeyvalue",children:"GetByRSAKeyValue"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetByRSAKeyValue(searchValue As %XML.Security.RSAKeyValue) As %SYS.X509Credentials\n"})}),"\n",(0,r.jsx)(t.p,{children:"Get a X.509 credentials record which has a certificate whose public key matches the specified RSAKeyValue. The record must have a null OwnerList or be owned by the current user to be returned."}),"\n",(0,r.jsx)(t.h3,{id:"getbyfield",children:"GetByField"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetByField(fieldName As %Integer, searchValue As %Binary) As %SYS.X509Credentials [ Internal ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Get a X.509 credentials record based on the unique field name of the credentials object. The possible field names are Certificate, SubjectKeyIdentifier, Thumbprint, SerialNumber, IssuerDN, SubjectDN, PeerNames, OwnerList. Note that only Certificate, SubjectKeyIdentifier, Thumbprint are sure to have an exact match. FindByField shold normally be used for the other fields. The match is exact and case sensitive. The first match is returned. The record must have a null OwnerList or be owned by the current user to be returned."}),"\n",(0,r.jsx)(t.h3,{id:"getbyfieldnumber",children:"GetByFieldNumber"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetByFieldNumber(field As %Integer, searchValue As %Binary) As %SYS.X509Credentials [ Internal, Private ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Get a X.509 credentials record based on the unique field number of the credentials object. The record must have a null OwnerList or be owned by the current user to be returned."}),"\n",(0,r.jsx)(t.h3,{id:"checkfieldname",children:"CheckFieldName"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod CheckFieldName(fieldName As %String) As %Boolean [ Internal ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Check that the field name is valid for search by FindByField"}),"\n",(0,r.jsx)(t.h3,{id:"findbyfield",children:"FindByField"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod FindByField(fieldName As %String, searchValue As %String, credentialsList As %ListOfObjects) As %ListOfObjects [ PlaceAfter = FieldNumber ]\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Find the %SYS.X509Credentials instances which have a match in the specified field to the specified value. If the credentialsList property is specified, then only matches from this list are returned. Otherwise all matches from the database are returned.",(0,r.jsx)(t.br,{}),"\nThe following searches are supported:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Alias - Unique, exact match on the Alias"}),"\n",(0,r.jsx)(t.li,{children:"Certificate - Unique, exact match on the certificate"}),"\n",(0,r.jsx)(t.li,{children:"SubjectKeyIdentifier - Unique, exact match to the SubjectKeyIdentifier"}),"\n",(0,r.jsx)(t.li,{children:"Thumbprint - Unique, exact match to the Thumbprint"}),"\n",(0,r.jsx)(t.li,{children:"SerialNumber - Exact match to the serial number"}),"\n",(0,r.jsx)(t.li,{children:"IssuerDN - Case insensitive match to the Issuer DistinguishedName"}),"\n",(0,r.jsx)(t.li,{children:"IssuerName - Case insensitive match to any Issuer DistinguishedName which contains the searchValue."}),"\n",(0,r.jsx)(t.li,{children:"SubjectDN - Case insensitive match to the Subject DistinguishedName"}),"\n",(0,r.jsx)(t.li,{children:"SubjectName - Case insensitive match to any Subject DistinguishedName which contains the searchValue"}),"\n",(0,r.jsx)(t.li,{children:"PeerNames - Case insensitive match to any PeerNames list which contains the searchValue"}),"\n",(0,r.jsx)(t.li,{children:"OwnerList - Case insensitive match to any OwnerList list which contains the searchValue"}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:'A %ListOfObjects is returned containing the matching %SYS.X509Credentials instances. The %ListOfObjects will have no entries if there are no matches. If the field name is not valid, then "" will be returned.'}),"\n",(0,r.jsx)(t.h3,{id:"findbyfieldnumber",children:"FindByFieldNumber"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod FindByFieldNumber(field As %Integer, searchValue As %String, caseSensitive As %Boolean, contains As %Boolean, credentialsList As %ListOfObjects) As %ListOfObjects\n"})}),"\n",(0,r.jsx)(t.p,{children:"Internal function to find the %SYS.X509Credentials instances which have a match in the specified field number to the specified value. If the credentialsList property is specified, then only matches from this list are returned. Otherwise all matches from the database are returned."}),"\n",(0,r.jsx)(t.h3,{id:"checkpeername",children:"CheckPeerName"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method CheckPeerName(peerName As %String) As %Boolean [ CodeMode = expression ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Check if specified peer name is valid for this set of credentials."}),"\n",(0,r.jsx)(t.h3,{id:"getnext",children:"GetNext"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetNext(ByRef alias As %String) As %SYS.X509Credentials\n"})}),"\n",(0,r.jsx)(t.p,{children:'Return the next X.509 credentials object that is accessible to the current user based on the alias argument. Return "" if no more objects available. The alias argument is updated to correspond to the returned object.'}),"\n",(0,r.jsx)(t.h3,{id:"normalizedn",children:"NormalizeDN"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod NormalizeDN(name As %String) As %String\n"})}),"\n",(0,r.jsx)(t.p,{children:"Convert variants of the string representation of a Distinguished Name as defined by section 4 of RFC 2253 to normal form"}),"\n",(0,r.jsx)(t.h3,{id:"exists",children:"Exists"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod Exists(Name As %String, ByRef X509Credential As %ObjectHandle, ByRef Status As %Status) As %Boolean\n"})}),"\n",(0,r.jsxs)(t.p,{children:['Escape special characters in quoted strings, remove quotes Replace unescaped ";" with "," Remove extra space around unescaped ",", "+", and "=" X509Credential exists.',(0,r.jsx)(t.br,{}),"\nThis method checks for the existence of a X509Credential in the security database.",(0,r.jsx)(t.br,{}),"\nParameters:",(0,r.jsx)(t.br,{}),"\nName - Name of the X509Credential to check existence of",(0,r.jsx)(t.br,{}),"\nReturn values:",(0,r.jsx)(t.br,{}),"\nIf Value of the method = 0 (X509Credential does not exist, or some error occurred)",(0,r.jsx)(t.br,{}),"\nX509Credential = Null",(0,r.jsx)(t.br,{}),'\nStatus = X509Credential "x" does not exist, or other error message']}),"\n",(0,r.jsxs)(t.p,{children:["If Value of the method = 1 (X509Credential exists)",(0,r.jsx)(t.br,{}),"\nX509Credential = Object handle to X509Credential",(0,r.jsx)(t.br,{}),"\nStatus = $$$OK"]}),"\n",(0,r.jsx)(t.h3,{id:"export",children:"Export"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod Export(FileName As %String = "X509CredentialsExport.xml", ByRef NumExported As %Integer, X509Credentials As %String = "*", IncludePrivateKey As %Boolean = 0) As %Status\n'})}),"\n",(0,r.jsxs)(t.p,{children:["This method exports X509Credential records to a file in xml format.",(0,r.jsx)(t.br,{}),"\nParameters:",(0,r.jsx)(t.br,{}),"\nFilename - Output file name",(0,r.jsx)(t.br,{}),"\nNumExported (byref) - Returns number of records exported.",(0,r.jsx)(t.br,{}),'\nX509Credentials - Comma separated list of X509Credentials to export, "*" = All',(0,r.jsx)(t.br,{}),"\nIncludePrivateKey - boolean value. If 1 (true), then the private key and password will be included in the export file, otherwise it will be omitted. It is the responsibility of the caller to secure the resulting file."]}),"\n",(0,r.jsx)(t.h3,{id:"getproperties",children:"GetProperties"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetProperties(X509Credential As %ObjectHandle, ByRef Properties As %String) As %Status\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Get a X509Credential's properties.",(0,r.jsx)(t.br,{}),"\nGets a X509Credential's properties from the security database.",(0,r.jsx)(t.br,{}),"\nParameters:",(0,r.jsx)(t.br,{}),"\nX509Credential - Object handle to a X509Credentials record",(0,r.jsx)(t.br,{}),"\nReturn values:",(0,r.jsx)(t.br,{}),"\nProperties - See the Get method for more information on properties returned"]}),"\n",(0,r.jsx)(t.h3,{id:"import",children:"Import"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod Import(FileName As %String = "X509CredentialsExport.xml", ByRef NumImported As %Integer, Flags As %Integer = 0) As %Status\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Import X509Credential records from an xml file.",(0,r.jsx)(t.br,{}),"\nParameters:",(0,r.jsx)(t.br,{}),"\nFileName - Filename to import X509Credential records from",(0,r.jsx)(t.br,{}),"\nNumImported (byref) - Returns number of records imported",(0,r.jsx)(t.br,{}),"\nFlags - Control import",(0,r.jsx)(t.br,{}),"\nBit 0 - Do not import records, just return count",(0,r.jsx)(t.br,{}),"\nNote: On failure, no records will be imported"]}),"\n",(0,r.jsx)(t.h3,{id:"modify",children:"Modify"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod Modify(Name As %String, ByRef Properties As %String) As %Status\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Modify a X509Credential.",(0,r.jsx)(t.br,{}),"\nModify an existing X509Credential's properties in the security database.",(0,r.jsx)(t.br,{}),"\nParameters:",(0,r.jsx)(t.br,{}),"\nName - Name of the X509Credential to modify",(0,r.jsx)(t.br,{}),"\nProperties - Array of properties to modify.",(0,r.jsx)(t.br,{}),"\nSee the Get() method for a description of the Properties parameter.",(0,r.jsx)(t.br,{}),"\nIf a specific property is not passed in the properties array, the value is not modified."]}),"\n",(0,r.jsx)(t.h3,{id:"rsadecrypt",children:"RSADecrypt"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method RSADecrypt(ciphertext As %String, encoding As %Integer) As %String\n"})}),"\n",(0,r.jsx)(t.p,{children:"Decrypt using the private key and password for these credentials"}),"\n",(0,r.jsx)(t.h3,{id:"rsasize",children:"RSASize"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method RSASize() As %Integer\n"})}),"\n",(0,r.jsx)(t.p,{children:"Find the size of the signature using the private key and password for these credentials"}),"\n",(0,r.jsx)(t.h3,{id:"rsashasign",children:"RSASHASign"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Method RSASHASign(bitlength As %Integer, data As %String) As %String\n"})}),"\n",(0,r.jsx)(t.p,{children:"Sign using the private key and password for these credentials"}),"\n",(0,r.jsx)(t.h3,{id:"sethasprivatekeywhereunset",children:"SetHasPrivateKeyWhereUnset"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod SetHasPrivateKeyWhereUnset() As %Status [ Internal ]\n"})})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>l});var r=i(96540);const s={},n=r.createContext(s);function a(e){const t=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(n.Provider,{value:t},e.children)}}}]);