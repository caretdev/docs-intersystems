"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[8706],{63044:(e,s,r)=>{r.r(s),r.d(s,{contentTitle:()=>i,default:()=>a,frontMatter:()=>o,toc:()=>c});var t=r(74848),n=r(28453);const o={pagination_prev:null,pagination_next:null},i="%SYS.Portal.Resources",c=[{value:"Properties",id:"properties",level:2},{value:"Page",id:"page",level:3},{value:"Resource",id:"resource",level:3},{value:"Methods",id:"methods",level:2},{value:"%GetCustomResource",id:"getcustomresource",level:3},{value:"%GetCustomResourceList",id:"getcustomresourcelist",level:3},{value:"%RemoveCustomResource",id:"removecustomresource",level:3},{value:"%SetCustomResource",id:"setcustomresource",level:3},{value:"NormalizePage",id:"normalizepage",level:3},{value:"Export",id:"export",level:3},{value:"Import",id:"import",level:3},{value:"ListExecute",id:"listexecute",level:3},{value:"ListFetch",id:"listfetch",level:3},{value:"ListClose",id:"listclose",level:3}];function l(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"sysportalresources",children:"%SYS.Portal.Resources"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Class %SYS.Portal.Resources Extends (%Persistent, %XML.Adaptor, %SYSTEM.Help) [ Inheritance = right, System = 4 ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"This class will allow a user to associate resources with pages in the system management portal."}),"\n",(0,t.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(s.h3,{id:"page",children:"Page"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property Page As %String(MAXLEN = 256) [ Internal, Required ];\n"})}),"\n",(0,t.jsx)(s.p,{children:"Page identifier."}),"\n",(0,t.jsx)(s.h3,{id:"resource",children:"Resource"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Property Resource As %String(MAXLEN = 64) [ Internal, Required ];\n"})}),"\n",(0,t.jsx)(s.p,{children:"Resource for the page."}),"\n",(0,t.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(s.h3,{id:"getcustomresource",children:"%GetCustomResource"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetCustomResource(Page As %String) As %String [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Return the resource for the URL-encoded page specified in Page."}),"\n",(0,t.jsx)(s.h3,{id:"getcustomresourcelist",children:"%GetCustomResourceList"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetCustomResourceList(ByRef Resources As %String) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Return the list of custom resources used by the portal.",(0,t.jsx)(s.br,{}),"\nParameters:"]}),"\n",(0,t.jsxs)(s.p,{children:["Resources (ByRef) - Array of Resources used by the portal.",(0,t.jsx)(s.br,{}),'\nResources(Resource)=""']}),"\n",(0,t.jsx)(s.h3,{id:"removecustomresource",children:"%RemoveCustomResource"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %RemoveCustomResource(Page As %String) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Remove the custom resource for the URL-encoded page specified in Page."}),"\n",(0,t.jsx)(s.h3,{id:"setcustomresource",children:"%SetCustomResource"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %SetCustomResource(Page As %String, Resource As %String) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Assign the resource specified in Resource to the URL-encoded page supplied in Resource.",(0,t.jsx)(s.br,{}),"\nParameters:"]}),"\n",(0,t.jsxs)(s.p,{children:["Page - Identifier of the page to set the resource for. (Note: this should be in URL-encoded form.)",(0,t.jsx)(s.br,{}),"\nResource - Resource associated with the page.",(0,t.jsx)(s.br,{}),"\nIf Resource is passed as a null String, then the custom resource is removed."]}),"\n",(0,t.jsx)(s.h3,{id:"normalizepage",children:"NormalizePage"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod NormalizePage(Page As %String = "") As %String [ Internal ]\n'})}),"\n",(0,t.jsxs)(s.p,{children:['Normalize a CSP or Zen link to the underlying class name. Returns "" if the target page can\'t be resolved to a class, with the proviso that the method will return "" in many cases where the underlying class is not in the portal.',(0,t.jsx)(s.br,{}),'\nThis method uses $zconvert(Page,"I","URL"), so Page should be supplied in URL-encoded form. In most cases, this will be the same as the classname, but in others, such as %DeepSee classes, the URL-encoded form is required.']}),"\n",(0,t.jsx)(s.h3,{id:"export",children:"Export"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod Export(FileName As %String = "CustomPortalResourcesExport.xml", ByRef NumExported As %Integer, Pages As %String = "*", Resources As %String = "*") As %Status\n'})}),"\n",(0,t.jsxs)(s.p,{children:["Export Custom Resource records to a file in XML format. The user must have USE permissions on the %Admin_Secure resource to perform the export.",(0,t.jsx)(s.br,{}),"\nParameters:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Filename - Output file name."}),"\n",(0,t.jsx)(s.li,{children:"NumExported (ByRef) - Returns the number of records exported."}),"\n",(0,t.jsx)(s.li,{children:"Pages - Mask for the pages to return. See the List query for details on the format."}),"\n",(0,t.jsx)(s.li,{children:"Resources - Mask for the resources to return. See the List query for details on the format."}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"import",children:"Import"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod Import(FileName As %String = "ResourcesExport.xml", ByRef NumImported As %Integer, Flags As %Integer = 0) As %Status\n'})}),"\n",(0,t.jsxs)(s.p,{children:["Import Custom Resource records from an XML file. The user must have USE permissions on the %Admin_Secure resource to perform the import.",(0,t.jsx)(s.br,{}),"\nParameters:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"FileName - Filename to import Custom Resource records from."}),"\n",(0,t.jsx)(s.li,{children:"NumImported (ByRef) - Returns the number of records imported.\nInvalidRecords"}),"\n",(0,t.jsxs)(s.li,{children:["Flags - Control whether to import the records in the file. The supported bit flags at present are:\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Bit 0 - Do not import records, just return the count."}),"\n",(0,t.jsx)(s.li,{children:"Bit 1 - Do not require that the resource exists.\nNote: On failure, no records will be imported."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"listexecute",children:"ListExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod ListExecute(ByRef qHandle As %Binary, Pages As %String = "*", Resources As %String = "*") As %Status [ Internal ]\n'})}),"\n",(0,t.jsxs)(s.p,{children:["List pages and associated resources. Note: the ",(0,t.jsx)(s.strong,{children:"Page"})," column lists the normalized page name.",(0,t.jsx)(s.br,{}),"\nUse the Pages and Resources arguments to restrict the list. The possible inputs for each argument is a comma-separated string with the following rules:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:'"*" - match all records.'}),"\n",(0,t.jsx)(s.li,{children:'"String,String1" - match all records that match an element in the string'}),"\n",(0,t.jsx)(s.li,{children:'"String*" - match all records starting with "String"'}),"\n",(0,t.jsx)(s.li,{children:'"String,String1*,String2" - match any record equal to "String" or "String2", or starting with "String1"\nNote: This query may change in future versions.'}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"listfetch",children:"ListFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ListFetch(ByRef qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status [ Internal, PlaceAfter = ListExecute ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"listclose",children:"ListClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ListClose(ByRef qHandle As %Binary) As %Status [ Internal, PlaceAfter = ListExecute ]\n"})})]})}function a(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>i,x:()=>c});var t=r(96540);const n={},o=t.createContext(n);function i(e){const s=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(o.Provider,{value:s},e.children)}}}]);