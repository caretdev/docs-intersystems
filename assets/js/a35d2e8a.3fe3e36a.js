"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[67622],{77424:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>r,default:()=>c,frontMatter:()=>l,toc:()=>i});var t=s(74848),a=s(28453);const l={pagination_prev:null,pagination_next:null},r="%CSP.Portal.Template",i=[{value:"Parameters",id:"parameters",level:2},{value:"APPLICATION",id:"application",level:3},{value:"PAGENAME",id:"pagename",level:3},{value:"AUTONS",id:"autons",level:3},{value:"PARENTPAGE",id:"parentpage",level:3},{value:"DOMAIN",id:"domain",level:3},{value:"Properties",id:"properties",level:2},{value:"ISREADONLY",id:"isreadonly",level:3},{value:"StdTitle",id:"stdtitle",level:3},{value:"lblTitle",id:"lbltitle",level:3},{value:"LocatorHeader",id:"locatorheader",level:3},{value:"HelpAddress",id:"helpaddress",level:3},{value:"ParentURL",id:"parenturl",level:3},{value:"home",id:"home",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"CSS3Style",id:"css3style",level:3},{value:"Style",id:"style",level:3},{value:"Methods",id:"methods",level:2},{value:"%OnGetTitle",id:"ongettitle",level:3},{value:"%OnGetPageName",id:"ongetpagename",level:3},{value:"showDocumentation",id:"showdocumentation",level:3},{value:"%GetLocatorInfo",id:"getlocatorinfo",level:3},{value:"%AddLocatorLinks",id:"addlocatorlinks",level:3},{value:"CheckAllBlanks",id:"checkallblanks",level:3},{value:"%GetHomeParam",id:"gethomeparam",level:3},{value:"%GetLocatorLinks",id:"getlocatorlinks",level:3},{value:"%GetProductName",id:"getproductname",level:3},{value:"%GetHomePage",id:"gethomepage",level:3},{value:"GetHomePage",id:"gethomepage-1",level:3},{value:"RegisterRecent",id:"registerrecent",level:3},{value:"EvalResult",id:"evalresult",level:3}];function o(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"cspportaltemplate",children:"%CSP.Portal.Template"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %CSP.Portal.Template Extends (%ZEN.Portal.standardPage, %ZEN.Portal.Utils) [ Abstract, System = 4 ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Template for Management Portal."}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(n.h3,{id:"application",children:"APPLICATION"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter APPLICATION = "%CSP.Portal.Application";\n'})}),"\n",(0,t.jsx)(n.p,{children:"Class name of application this page belongs to."}),"\n",(0,t.jsx)(n.h3,{id:"pagename",children:"PAGENAME"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter PAGENAME = "Template for Management Portal";\n'})}),"\n",(0,t.jsx)(n.p,{children:"Displayed name of this page."}),"\n",(0,t.jsx)(n.h3,{id:"autons",children:"AUTONS"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter AUTONS As BOOLEAN = 1;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Allow pages to auto-switch namespaces if $NAMESPACE is specified"}),"\n",(0,t.jsx)(n.h3,{id:"parentpage",children:"PARENTPAGE"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter PARENTPAGE As STRING;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This parameter defines the parent page for this page.",(0,t.jsx)(n.br,{}),"\nIf the name ends in .csp, then the parent is assumed to be an autopage-enabled CSP page.",(0,t.jsx)(n.br,{}),"\nIf the name ends in .cls, then the parent is assumed to be a Zen page.",(0,t.jsx)(n.br,{}),"\nThis is used to automate the construction of the locator bar for this page and to build the index between portal pages and documentation.",(0,t.jsx)(n.br,{}),"\nThe %GetLocatorInfo method is used to get this information."]}),"\n",(0,t.jsx)(n.h3,{id:"domain",children:"DOMAIN"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter DOMAIN = "%Utility";\n'})}),"\n",(0,t.jsx)(n.p,{children:"Domain used for localization."}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h3,{id:"isreadonly",children:"ISREADONLY"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property ISREADONLY As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Indicates whether the page is read only due to EMS control."}),"\n",(0,t.jsx)(n.h3,{id:"stdtitle",children:"StdTitle"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property StdTitle As %ZEN.Datatype.string [ InitialExpression = {..#PAGENAME} ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Text shown on page or browser tab header"}),"\n",(0,t.jsx)(n.h3,{id:"lbltitle",children:"lblTitle"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property lblTitle As %ZEN.Datatype.string [ InitialExpression = {..#PAGENAME} ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Text shown between locator bar and details pane (form or table)"}),"\n",(0,t.jsx)(n.h3,{id:"locatorheader",children:"LocatorHeader"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property LocatorHeader As %ZEN.Datatype.caption;\n"})}),"\n",(0,t.jsx)(n.p,{children:"The text that is shown in TitlePane above the license"}),"\n",(0,t.jsx)(n.h3,{id:"helpaddress",children:"HelpAddress"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property HelpAddress As %ZEN.Datatype.string;\n"})}),"\n",(0,t.jsx)(n.p,{children:'The help address that links to the "Help" (next to the "Logout" link) documentation'}),"\n",(0,t.jsx)(n.h3,{id:"parenturl",children:"ParentURL"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property ParentURL As %String [ InitialExpression = {..Link($ZCVT(..#PARENTPAGE,"O","URL"))} ];\n'})}),"\n",(0,t.jsx)(n.p,{children:"Parent URL that Cancel and Save should return to"}),"\n",(0,t.jsx)(n.h3,{id:"home",children:"home"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property home As %ZEN.Datatype.string(ZENURL = "home");\n'})}),"\n",(0,t.jsx)(n.p,{children:"home value to return to Home page to."}),"\n",(0,t.jsx)(n.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,t.jsx)(n.h3,{id:"css3style",children:"CSS3Style"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"XData CSS3Style\n"})}),"\n",(0,t.jsx)(n.h3,{id:"style",children:"Style"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"XData Style\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"ongettitle",children:"%OnGetTitle"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method %OnGetTitle() As %String\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get the (localized) title string for the page. This should be implemented in a subclass."}),"\n",(0,t.jsx)(n.h3,{id:"ongetpagename",children:"%OnGetPageName"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method %OnGetPageName() As %String\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get the (localized) name of the page. This should be implemented in a subclass."}),"\n",(0,t.jsx)(n.h3,{id:"showdocumentation",children:"showDocumentation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod showDocumentation(topic, anchor, url) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getlocatorinfo",children:"%GetLocatorInfo"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %GetLocatorInfo(Output pInfo) [ CodeMode = objectgenerator, Internal ]\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Return an array of locator info for this page. This takes the form:",(0,t.jsx)(n.br,{}),"\npInfo(n) = $LB(name,url)"]}),"\n",(0,t.jsx)(n.h3,{id:"addlocatorlinks",children:"%AddLocatorLinks"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Method %AddLocatorLinks(pLocator As %ZEN.Component.locatorBar, pLocalize As %String, pParam As %String = "", pIsNew As %Boolean = 0)\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Utility method. Add the locator links defined by the LOCATORINFO parameter to the given locator bar.",(0,t.jsx)(n.br,{}),"\npLocalize is an array from calling DocLocalize for a page. (optional)",(0,t.jsx)(n.br,{}),'\npParam contains extra parameters for the last or current page link. (optional) pIsNew is the flag indicating this page is for "Add" rather than "Edit". If it\'s true then we use a different locator text if defined.']}),"\n",(0,t.jsx)(n.h3,{id:"checkallblanks",children:"CheckAllBlanks"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod CheckAllBlanks(string) As %Boolean [ ZenMethod ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"gethomeparam",children:"%GetHomeParam"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method %GetHomeParam() As %String\n"})}),"\n",(0,t.jsx)(n.p,{children:'Used to return "home" parameter for building return home links in sub-classes.'}),"\n",(0,t.jsx)(n.h3,{id:"getlocatorlinks",children:"%GetLocatorLinks"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method %GetLocatorLinks(Output pLink) As %Status\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Return the array of links to show in the locator bar.",(0,t.jsx)(n.br,{}),"\npLink(n)=$LB(caption,link)",(0,t.jsx)(n.br,{}),'\nSubclasses with extra layers of locator links or other than "Configuration" please override.']}),"\n",(0,t.jsx)(n.h3,{id:"getproductname",children:"%GetProductName"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %GetProductName() As %String\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get the product name for the page.Called from none-Zen classes in SMP."}),"\n",(0,t.jsx)(n.h3,{id:"gethomepage",children:"%GetHomePage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %GetHomePage() As %String\n"})}),"\n",(0,t.jsx)(n.p,{children:"This method is used by SMP to return home page. Set home to %session if not null for later use."}),"\n",(0,t.jsx)(n.h3,{id:"gethomepage-1",children:"GetHomePage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetHomePage() As %String [ ZenMethod ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"This method allows us to get the home page URL from JavaScript."}),"\n",(0,t.jsx)(n.h3,{id:"registerrecent",children:"RegisterRecent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod RegisterRecent(pTitle)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Recent item is only registered at the Home level."}),"\n",(0,t.jsx)(n.h3,{id:"evalresult",children:"EvalResult"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod EvalResult(pSC) As %String\n"})}),"\n",(0,t.jsx)(n.p,{children:"Return tmsg. 1 means success. Otherwise error message in HTML."})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>i});var t=s(96540);const a={},l=t.createContext(a);function r(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);