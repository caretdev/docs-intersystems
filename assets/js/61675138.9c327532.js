"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[98218],{83228:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>i,default:()=>l,frontMatter:()=>a,toc:()=>c});var r=n(74848),s=n(28453);const a={pagination_prev:null,pagination_next:null},i="%Library.Utility",c=[{value:"Methods",id:"methods",level:2},{value:"Center",id:"center",level:3},{value:"Date",id:"date",level:3},{value:"DateTime",id:"datetime",level:3},{value:"Time",id:"time",level:3},{value:"FormatMB",id:"formatmb",level:3},{value:"Replace",id:"replace",level:3},{value:"FormatString",id:"formatstring",level:3},{value:"FormatReference",id:"formatreference",level:3}];function o(e){const t={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"libraryutility",children:"%Library.Utility"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Class %Library.Utility [ Abstract, System = 4 ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Handy utility functions"}),"\n",(0,r.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(t.h3,{id:"center",children:"Center"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod Center(str As %String = "", width As %Integer = 80) As %String\n'})}),"\n",(0,r.jsx)(t.p,{children:"Center text on a line"}),"\n",(0,r.jsx)(t.h3,{id:"date",children:"Date"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod Date(Format As %Integer = 7) As %String\n"})}),"\n",(0,r.jsx)(t.p,{children:"Show the date, for example Sep 26 2003"}),"\n",(0,r.jsx)(t.h3,{id:"datetime",children:"DateTime"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod DateTime(Format As %Integer = 7) As %String\n"})}),"\n",(0,r.jsx)(t.p,{children:"Show date and time, for example: Sep 26 2003 5:39 PM"}),"\n",(0,r.jsx)(t.h3,{id:"time",children:"Time"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod Time() As %String\n"})}),"\n",(0,r.jsx)(t.p,{children:"Show the time, for example 6:33 PM"}),"\n",(0,r.jsx)(t.h3,{id:"formatmb",children:"FormatMB"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod FormatMB(val As %Float) As %String\n"})}),"\n",(0,r.jsx)(t.p,{children:"Used for formatting database and global sizes in MB Returns a minimum of two significant digits"}),"\n",(0,r.jsx)(t.h3,{id:"replace",children:"Replace"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod Replace(Source As %String = "", FindWhat As %String = "", ReplaceWith As %String = "", MatchCase As %Boolean = 1, ByRef OutputString As %String, Start As %Integer = 1, RepeatCount As %Integer = 0, StartMode As %Integer = 0) As %Integer\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Searches in Source the occurrences of FindWhat and replaces them with ReplaceWith.",(0,r.jsx)(t.br,{}),"\nThe Search will be case insensitive if MatchCase=0 (default = 1).",(0,r.jsx)(t.br,{}),"\nThe result of the operation will be placed in OutputString.",(0,r.jsx)(t.br,{}),"\nThe method returns the number of times the replacement occurred.",(0,r.jsx)(t.br,{}),"\nYou can also specify a starting point for the search (Start) and how many occurrences of",(0,r.jsx)(t.br,{}),"\nFindWhat you want replaced (default: 0 = All).",(0,r.jsx)(t.br,{}),"\nIf FindWhat is the empty string, no replacement occurs. StartMode specifies how the Start parameter works. If StartMode=0, Start is a character count like in $Find. If StartMode=1, Start is a FindWhat count. That is, replacing starts at the beginning of the Start-th piece delimited by FindWhat. If Start<0, the find/replace operation works backwards from the end of the string. If Start is passed byref, return value of Start is where next search of the same line should start from, i.e. 1 character after the last replace."]}),"\n",(0,r.jsx)(t.h3,{id:"formatstring",children:"FormatString"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod FormatString(string As %String, Flags As %Integer = 1, ByRef overflow As %Boolean) As %String\n"})}),"\n",(0,r.jsx)(t.p,{children:"Format a string, replacing unprintable characters with $C(nn) and showing $Lists with $LB(). $Bit strings are shown with $C() or $ZWC() and with a comment indicating which bits are set. %Status values are shown with $LB() and a comment describing the error."}),"\n",(0,r.jsxs)(t.p,{children:["Flags contains these options:",(0,r.jsx)(t.br,{}),"\n1 - Do the formatting with $C(), $LB(), and $ZWC(). If this bit is not set, the string is returned unchanged. The formatted value may be used in a SET command to reproduce the string.",(0,r.jsx)(t.br,{}),"\n2 - Add escape sequences to make the added formatting characters Bold.",(0,r.jsx)(t.br,{}),"\n4 - Write the formatted string to the current output device.",(0,r.jsx)(t.br,{}),"\n8 - Do not add a comment to $BIT() strings and %Status values."]}),"\n",(0,r.jsx)(t.p,{children:"The overflow argument is set to 1 if the formatted string has to be truncated because it is too long for a local variable."}),"\n",(0,r.jsx)(t.h3,{id:"formatreference",children:"FormatReference"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod FormatReference(reference As %String, Flags As %Integer = 1, ByRef overflow As %Boolean) As %String\n"})}),"\n",(0,r.jsx)(t.p,{children:"FormatReference performs the same operations as FormatString, except the input is a local or global variable reference, in $NAME() format, and the formatting is applied separately to each subscript value."})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var r=n(96540);const s={},a=r.createContext(s);function i(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);