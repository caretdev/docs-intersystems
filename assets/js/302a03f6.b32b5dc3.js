"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[3930],{92763:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>i,default:()=>o,frontMatter:()=>r,toc:()=>l});var t=s(74848),a=s(28453);const r={pagination_prev:null,pagination_next:null},i="%SYS.Monitor.Reading",l=[{value:"Properties",id:"properties",level:2},{value:"ReadTime",id:"readtime",level:3},{value:"LocalReadTime",id:"localreadtime",level:3},{value:"Value",id:"value",level:3},{value:"Sensor",id:"sensor",level:3},{value:"Methods",id:"methods",level:2},{value:"LocalReadTimeGet",id:"localreadtimeget",level:3},{value:"LocalTime",id:"localtime",level:3},{value:"AddDashboardEntry",id:"adddashboardentry",level:3},{value:"GetCalculatedValues",id:"getcalculatedvalues",level:3},{value:"GetState",id:"getstate",level:3},{value:"Purge",id:"purge",level:3},{value:"GetReadings",id:"getreadings",level:3},{value:"NewInterval",id:"newinterval",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"sysmonitorreading",children:"%SYS.Monitor.Reading"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %SYS.Monitor.Reading Extends %Persistent\n"})}),"\n",(0,t.jsx)(n.p,{children:"A single value for a Dashboard Sensor gathered at a specific time. The collected history of a Sensor is kept as children of %SYS.Monitor.Sensor."}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h3,{id:"readtime",children:"ReadTime"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property ReadTime As %TimeStamp [ InitialExpression = {$zdatetime($ztimestamp,3)}, Internal ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"UTC Timestamp for reading."}),"\n",(0,t.jsx)(n.h3,{id:"localreadtime",children:"LocalReadTime"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property LocalReadTime As %TimeStamp [ Calculated, Internal ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Return Local Time based on UTC ReadTime."}),"\n",(0,t.jsx)(n.h3,{id:"value",children:"Value"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Value As %String;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"sensor",children:"Sensor"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Relationship Sensor As %SYS.Monitor.Sensor [ Cardinality = parent, Inverse = Readings ];\n"})}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"localreadtimeget",children:"LocalReadTimeGet"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method LocalReadTimeGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"localtime",children:"LocalTime"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod LocalTime(time) As %TimeStamp [ Internal, SqlProc ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"adddashboardentry",children:"AddDashboardEntry"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod AddDashboardEntry(Sensor As %String, Value As %String, Item As %String = "", ReadTime As %TimeStamp = "", ByRef Alert As %Integer) As %Integer [ Internal ]\n'})}),"\n",(0,t.jsx)(n.p,{children:"Add sensor history entry for Dashboard"}),"\n",(0,t.jsx)(n.h3,{id:"getcalculatedvalues",children:"GetCalculatedValues"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetCalculatedValues(Sensor As %String, Item As %String, BeginTime As %TimeStamp, ByRef Values As %String) As %Boolean [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Get max, min, mean, stdDev for a Sensor.Item. 'BeginTime' is a UTC TimeStamp. Returns true if data, or false if not."}),"\n",(0,t.jsx)(n.h3,{id:"getstate",children:"GetState"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetState(sid As %String, iid As %String, max As %Integer, min As %Integer) As %Integer [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:'Returns 0:"OK",1:"Warning",2:"Critical".'}),"\n",(0,t.jsx)(n.h3,{id:"purge",children:"Purge"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Purge(Time As %TimeStamp) As %Status\n"})}),"\n",(0,t.jsx)(n.p,{children:"Purge old readings, up to 'Time' argument (in %TimeStamp format)."}),"\n",(0,t.jsx)(n.h3,{id:"getreadings",children:"GetReadings"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod GetReadings(sid As %String = "", iid As %String = "", sPer As %Integer, sTime As %String, ByRef readings As %ListOfObjects) As %Integer\n'})}),"\n",(0,t.jsx)(n.p,{children:"Return the sensor data for a given time range Return the sensor data for a given time range. Uses UTC time for arguments and data. Return the sensor data for a given Sensor.Item. 'Item' must be '-' for a top level Sensor. Return the sensor data for a given Sensor.Item. 'Item' must be '-' for a top level Sensor. Uses UTC time for arguments and data. INPUTS sid: A string defining the sensor's name, or null if all sensor's readings should be returned iid: A string defining the sensor's item, or null if all sensor's readings should be returned sPer: An integer defining the sample period of which to return readings sTime: A string in timestamp format that defines the starting point to get data from readings: A list of objects passed in by reference that will be populated with sensor data RETURNS code: the http code (204 if no data was found, 200 if data was found)"}),"\n",(0,t.jsx)(n.h3,{id:"newinterval",children:"NewInterval"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod NewInterval(start As %TimeStamp, read As %TimeStamp, sPer As %Integer) As %Integer\n"})})]})}function o(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var t=s(96540);const a={},r=t.createContext(a);function i(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);