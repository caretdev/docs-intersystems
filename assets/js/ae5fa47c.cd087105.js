"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[62201],{7990:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>a,default:()=>d,frontMatter:()=>i,toc:()=>l});var s=n(74848),r=n(28453);const i={pagination_prev:null,pagination_next:null},a="%IO.LibraryStream",l=[{value:"Properties",id:"properties",level:2},{value:"IOStream",id:"iostream",level:3},{value:"AtEnd",id:"atend",level:3},{value:"Size",id:"size",level:3},{value:"LastModified",id:"lastmodified",level:3},{value:"LineTerminator",id:"lineterminator",level:3},{value:"Methods",id:"methods",level:2},{value:"%OnNew",id:"onnew",level:3},{value:"AtEndGet",id:"atendget",level:3},{value:"SizeGet",id:"sizeget",level:3},{value:"LastModifiedGet",id:"lastmodifiedget",level:3},{value:"LineTerminatorGet",id:"lineterminatorget",level:3},{value:"LineTerminatorSet",id:"lineterminatorset",level:3},{value:"Rewind",id:"rewind",level:3},{value:"Flush",id:"flush",level:3},{value:"Read",id:"read",level:3},{value:"ReadLine",id:"readline",level:3},{value:"ReadLineIntoStream",id:"readlineintostream",level:3},{value:"Write",id:"write",level:3},{value:"WriteLine",id:"writeline",level:3},{value:"CopyFrom",id:"copyfrom",level:3},{value:"Clear",id:"clear",level:3},{value:"MoveToEnd",id:"movetoend",level:3},{value:"MoveTo",id:"moveto",level:3},{value:"FindAt",id:"findat",level:3},{value:"OutputToDevice",id:"outputtodevice",level:3},{value:"InputFromDevice",id:"inputfromdevice",level:3},{value:"OutputToDeviceAt",id:"outputtodeviceat",level:3},{value:"CopyFromAndSave",id:"copyfromandsave",level:3}];function c(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"iolibrarystream",children:"%IO.LibraryStream"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Class %IO.LibraryStream Extends %Library.AbstractStream [ ClassType = "", System = 2 ]\n'})}),"\n",(0,s.jsx)(t.p,{children:"Adapts %IO stream classes to provide a legacy %Library.AbstractStream interface"}),"\n",(0,s.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(t.h3,{id:"iostream",children:"IOStream"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property IOStream As %IO.I.Stream;\n"})}),"\n",(0,s.jsx)(t.p,{children:"The %IO.I.Stream that we are wrapping"}),"\n",(0,s.jsx)(t.h3,{id:"atend",children:"AtEnd"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property AtEnd As %Boolean;\n"})}),"\n",(0,s.jsx)(t.h3,{id:"size",children:"Size"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property Size As %Integer [ Calculated ];\n"})}),"\n",(0,s.jsx)(t.h3,{id:"lastmodified",children:"LastModified"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property LastModified As %TimeStamp [ Calculated, ReadOnly ];\n"})}),"\n",(0,s.jsx)(t.h3,{id:"lineterminator",children:"LineTerminator"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Property LineTerminator As %String(MAXLEN = 10);\n"})}),"\n",(0,s.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(t.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnNew(initvalue As %String) As %Status [ Private ]\n"})}),"\n",(0,s.jsx)(t.h3,{id:"atendget",children:"AtEndGet"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method AtEndGet() As %Boolean [ CodeMode = expression ]\n"})}),"\n",(0,s.jsx)(t.h3,{id:"sizeget",children:"SizeGet"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method SizeGet() As %Integer [ CodeMode = expression ]\n"})}),"\n",(0,s.jsx)(t.h3,{id:"lastmodifiedget",children:"LastModifiedGet"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method LastModifiedGet() As %TimeStamp [ CodeMode = expression ]\n"})}),"\n",(0,s.jsx)(t.h3,{id:"lineterminatorget",children:"LineTerminatorGet"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method LineTerminatorGet() As %String [ CodeMode = expression ]\n"})}),"\n",(0,s.jsx)(t.h3,{id:"lineterminatorset",children:"LineTerminatorSet"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method LineTerminatorSet(terminator As %String) As %Status\n"})}),"\n",(0,s.jsx)(t.h3,{id:"rewind",children:"Rewind"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method Rewind() As %Status\n"})}),"\n",(0,s.jsx)(t.h3,{id:"flush",children:"Flush"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method Flush() As %Status\n"})}),"\n",(0,s.jsx)(t.h3,{id:"read",children:"Read"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method Read(ByRef len As %Integer = 32000, ByRef sc As %Status) As %RawString\n"})}),"\n",(0,s.jsx)(t.h3,{id:"readline",children:"ReadLine"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method ReadLine(ByRef len As %Integer = 32000, ByRef sc As %Status, ByRef eol As %Boolean) As %RawString\n"})}),"\n",(0,s.jsx)(t.h3,{id:"readlineintostream",children:"ReadLineIntoStream"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method ReadLineIntoStream(ByRef sc As %Status) As %Library.AbstractStream\n"})}),"\n",(0,s.jsx)(t.h3,{id:"write",children:"Write"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method Write(data As %RawString) As %Status\n"})}),"\n",(0,s.jsx)(t.h3,{id:"writeline",children:"WriteLine"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Method WriteLine(data As %RawString = "") As %Status\n'})}),"\n",(0,s.jsx)(t.p,{children:"Appends the string data along with a line terminator to the stream and advances the current stream position by the number of characters in data plus the line terminator."}),"\n",(0,s.jsx)(t.p,{children:"Returns a %Status value indicating success or failure."}),"\n",(0,s.jsx)(t.h3,{id:"copyfrom",children:"CopyFrom"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method CopyFrom(source As %Stream.Object) As %Status\n"})}),"\n",(0,s.jsx)(t.p,{children:"Copy the contents of the given source %IO, %Library or %Stream stream to the wrappered %IO stream"}),"\n",(0,s.jsx)(t.h3,{id:"clear",children:"Clear"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method Clear() As %Status\n"})}),"\n",(0,s.jsx)(t.h3,{id:"movetoend",children:"MoveToEnd"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method MoveToEnd() As %Status\n"})}),"\n",(0,s.jsx)(t.h3,{id:"moveto",children:"MoveTo"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method MoveTo(position As %Integer) As %Boolean\n"})}),"\n",(0,s.jsx)(t.h3,{id:"findat",children:"FindAt"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method FindAt(position As %Integer, target As %RawString, ByRef tmpstr As %RawString) As %Integer\n"})}),"\n",(0,s.jsx)(t.p,{children:"Find the first occurrence of target in the stream starting the search at position. It returns the position at this match starting at the beginning of the stream. If it does not find the target string then return -1. If position=-1 then start searching from the current location and just return the offset from the last search, useful for searching through the entire file. If you are doing this you should pass in tmpstr by reference in every call which is used as a temporary location to store information being read so the next call will start where the last one left off."}),"\n",(0,s.jsx)(t.h3,{id:"outputtodevice",children:"OutputToDevice"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method OutputToDevice(ByRef len As %Integer = -1) As %Status\n"})}),"\n",(0,s.jsx)(t.p,{children:"Write out len characters of the stream to the current device starting from the current position. This method is optimised for performance by the various sub classes. If len is omitted or set to -1 then it will write out the entire stream starting at the beginning."}),"\n",(0,s.jsx)(t.h3,{id:"inputfromdevice",children:"InputFromDevice"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method InputFromDevice(ByRef len As %Integer = 0, timeout As %Integer = 20) As %Status\n"})}),"\n",(0,s.jsx)(t.p,{children:"Input len characters from the current device into the stream. This is equivalent to doing a series of reads and calling Write for each of them but it may be optimised by the subclasses. On return len will be the number of characters still to read in (if no timeout has occured this should be 0)."}),"\n",(0,s.jsx)(t.h3,{id:"outputtodeviceat",children:"OutputToDeviceAt"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method OutputToDeviceAt(position As %Integer, ByRef length As %Integer) As %Status\n"})}),"\n",(0,s.jsx)(t.p,{children:"Output the stream to the current device starting at position of length length. The length if passed by reference returns the number of characters output."}),"\n",(0,s.jsx)(t.h3,{id:"copyfromandsave",children:"CopyFromAndSave"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method CopyFromAndSave(source As %Stream.Object) As %Status\n"})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>l});var s=n(96540);const r={},i=s.createContext(r);function a(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);