"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[97411],{64031:(e,s,n)=>{n.r(s),n.d(s,{contentTitle:()=>t,default:()=>d,frontMatter:()=>r,toc:()=>l});var a=n(74848),i=n(28453);const r={pagination_prev:null,pagination_next:null},t="%ZEN.SVGComponent.svgPage",l=[{value:"Parameters",id:"parameters",level:2},{value:"CONTENTTYPE",id:"contenttype",level:3},{value:"USERSVGPACKAGES",id:"usersvgpackages",level:3},{value:"RESOURCE",id:"resource",level:3},{value:"JSINCLUDES",id:"jsincludes",level:3},{value:"CSSINCLUDES",id:"cssincludes",level:3},{value:"Properties",id:"properties",level:2},{value:"%SystemSVGPackageList",id:"systemsvgpackagelist",level:3},{value:"%UserSVGPackageList",id:"usersvgpackagelist",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"SVGStyle",id:"svgstyle",level:3},{value:"SVGDef",id:"svgdef",level:3},{value:"Methods",id:"methods",level:2},{value:"%ApplyURLParms",id:"applyurlparms",level:3},{value:"%DrawClassDefinition",id:"drawclassdefinition",level:3},{value:"%DrawObjectProperties",id:"drawobjectproperties",level:3},{value:"%DrawJSSerialize",id:"drawjsserialize",level:3},{value:"%DrawJSGetSettings",id:"drawjsgetsettings",level:3},{value:"OnPreHTTP",id:"onprehttp",level:3},{value:"OnPage",id:"onpage",level:3},{value:"%DrawSVGPage",id:"drawsvgpage",level:3},{value:"%DrawSVGDocument",id:"drawsvgdocument",level:3},{value:"%InvokeCallback",id:"invokecallback",level:3},{value:"%DrawClassDefinitions",id:"drawclassdefinitions",level:3},{value:"%GetSuperClassList",id:"getsuperclasslist",level:3},{value:"%DrawObjectDefinitions",id:"drawobjectdefinitions",level:3},{value:"%OnDrawSVGPage",id:"ondrawsvgpage",level:3},{value:"%LinkCSS",id:"linkcss",level:3},{value:"%LinkScript",id:"linkscript",level:3},{value:"%StartScript",id:"startscript",level:3},{value:"%EndScript",id:"endscript",level:3},{value:"%DrawSVGDefs",id:"drawsvgdefs",level:3},{value:"%DrawStyleSVG",id:"drawstylesvg",level:3},{value:"%DrawSVGDef",id:"drawsvgdef",level:3},{value:"%OnDrawStyleSVG",id:"ondrawstylesvg",level:3},{value:"%OnDrawSVGDef",id:"ondrawsvgdef",level:3},{value:"%OnDrawSVGScript",id:"ondrawsvgscript",level:3},{value:"onSVGLoad",id:"onsvgload",level:3},{value:"%GetClassCRC",id:"getclasscrc",level:3}];function c(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"zensvgcomponentsvgpage",children:"%ZEN.SVGComponent.svgPage"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Class %ZEN.SVGComponent.svgPage Extends (%RegisteredObject, %CSP.Page) [ Deprecated, Inheritance = right, PropertyClass = %ZEN.pageParameters, System = 4 ]\n"})}),"\n",(0,a.jsxs)(s.p,{children:["This is a specialized CSP page that serves SVG content for a ZEN svgFrame.",(0,a.jsx)(s.br,{}),"\nThis is an instantiable CSP page."]}),"\n",(0,a.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(s.h3,{id:"contenttype",children:"CONTENTTYPE"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter CONTENTTYPE = "image/svg+xml";\n'})}),"\n",(0,a.jsx)(s.h3,{id:"usersvgpackages",children:"USERSVGPACKAGES"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter USERSVGPACKAGES As STRING;\n"})}),"\n",(0,a.jsx)(s.p,{children:"Comma-separated list of component packages whose style definitions are in pre-generated include files. This is merged with the list provided by the parent page."}),"\n",(0,a.jsx)(s.h3,{id:"resource",children:"RESOURCE"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter RESOURCE As STRING;\n"})}),"\n",(0,a.jsxs)(s.p,{children:["This is a comma-delimited list of system Resources and associated permissions. A user must hold the specified permissions on at least one of the specified resources in order to view this page or invoke any of its server-side methods from the client.",(0,a.jsx)(s.br,{}),"\nThe format of each item in the list should be as follows:",(0,a.jsx)(s.br,{}),"\nResource[:Permission]",(0,a.jsx)(s.br,{}),"\nPermission is optional, and defaults to USE if not supplied. If it is supplied, it should be one of USE, READ or WRITE."]}),"\n",(0,a.jsx)(s.h3,{id:"jsincludes",children:"JSINCLUDES"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter JSINCLUDES As STRING;\n"})}),"\n",(0,a.jsx)(s.p,{children:"Comma-separated list of additional JS include files. These are included within the inner SVG page served by this class only."}),"\n",(0,a.jsx)(s.h3,{id:"cssincludes",children:"CSSINCLUDES"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter CSSINCLUDES As STRING;\n"})}),"\n",(0,a.jsx)(s.p,{children:"Additional set of CSS style files to include."}),"\n",(0,a.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,a.jsx)(s.h3,{id:"systemsvgpackagelist",children:"%SystemSVGPackageList"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Property %SystemSVGPackageList As %String(XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,a.jsxs)(s.p,{children:["Internal property.",(0,a.jsx)(s.br,{}),"\nComma-delimited list of user-defined packages that are included by this page. This list is created by combining the parameter from this class, the parent page, and the application."]}),"\n",(0,a.jsx)(s.h3,{id:"usersvgpackagelist",children:"%UserSVGPackageList"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Property %UserSVGPackageList As %String(XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,a.jsxs)(s.p,{children:["Internal property.",(0,a.jsx)(s.br,{}),"\nComma-delimited list of user-defined packages that are included by this page. This list is created by combining the parameter from this class, the parent page, and the application."]}),"\n",(0,a.jsx)(s.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,a.jsx)(s.h3,{id:"svgstyle",children:"SVGStyle"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"XData SVGStyle\n"})}),"\n",(0,a.jsx)(s.p,{children:"Default style for ZEN SVG pages"}),"\n",(0,a.jsx)(s.h3,{id:"svgdef",children:"SVGDef"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"XData SVGDef\n"})}),"\n",(0,a.jsx)(s.p,{children:"Set of standard svg defs shared by all svg components."}),"\n",(0,a.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,a.jsx)(s.h3,{id:"applyurlparms",children:"%ApplyURLParms"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %ApplyURLParms() As %Status [ CodeMode = objectgenerator, Final ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Copy URL parameters supplied to this page into the appropriate properties of this page."}),"\n",(0,a.jsx)(s.h3,{id:"drawclassdefinition",children:"%DrawClassDefinition"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %DrawClassDefinition() As %Status [ CodeMode = objectgenerator, Final ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Draw JavaScript needed to define client-side class for this page (if any)."}),"\n",(0,a.jsx)(s.h3,{id:"drawobjectproperties",children:"%DrawObjectProperties"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %DrawObjectProperties() As %Status [ CodeMode = objectgenerator, Final ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Draw JavaScript needed to initialize properties for client side of this object"}),"\n",(0,a.jsx)(s.h3,{id:"drawjsserialize",children:"%DrawJSSerialize"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %DrawJSSerialize() As %Status [ CodeMode = objectgenerator, Final, GenerateAfter = %DrawClassDefinition, Internal ]\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Internal method.",(0,a.jsx)(s.br,{}),"\nDraw JavaScript serialize method for this component."]}),"\n",(0,a.jsx)(s.h3,{id:"drawjsgetsettings",children:"%DrawJSGetSettings"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %DrawJSGetSettings() As %Status [ CodeMode = objectgenerator, Final, GenerateAfter = %DrawClassDefinition, Internal ]\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Internal method.",(0,a.jsx)(s.br,{}),"\nDraw JavaScript getSettings method for this component."]}),"\n",(0,a.jsx)(s.h3,{id:"onprehttp",children:"OnPreHTTP"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod OnPreHTTP() As %Boolean [ ServerOnly = 1 ]\n"})}),"\n",(0,a.jsx)(s.h3,{id:"onpage",children:"OnPage"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod OnPage() As %Status\n"})}),"\n",(0,a.jsx)(s.h3,{id:"drawsvgpage",children:"%DrawSVGPage"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %DrawSVGPage() [ Final ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Draw standard SVG wrapper"}),"\n",(0,a.jsx)(s.h3,{id:"drawsvgdocument",children:"%DrawSVGDocument"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %DrawSVGDocument(ByRef pAttrs As %String, pInline As %Boolean) [ Final, Internal ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"This does the actual work of writing out the SVG document definition. It can be called for inline or standard SVG."}),"\n",(0,a.jsx)(s.h3,{id:"invokecallback",children:"%InvokeCallback"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %InvokeCallback(pMethod As %String) As %Status\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Internal Method.",(0,a.jsx)(s.br,{}),"\nThis is used to invoke callback methods and trap for errors."]}),"\n",(0,a.jsx)(s.h3,{id:"drawclassdefinitions",children:"%DrawClassDefinitions"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %DrawClassDefinitions() [ Final ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Draw out client-side class definitions for components on this page. Caller is responsible for drawing enclosing script tags."}),"\n",(0,a.jsx)(s.h3,{id:"getsuperclasslist",children:"%GetSuperClassList"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetSuperClassList(ByRef pList) As %String [ CodeMode = objectgenerator, Final ]\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Construct a list of component super classes of this class as csv list (include this class as well).",(0,a.jsx)(s.br,{}),"\nThis is used at page render-time to build the list of classes needed by the client page."]}),"\n",(0,a.jsx)(s.h3,{id:"drawobjectdefinitions",children:"%DrawObjectDefinitions"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %DrawObjectDefinitions() [ Final ]\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Write out client-side object definitions for components on this page.",(0,a.jsx)(s.br,{}),"\nCaller is responsible for drawing enclosing script tags."]}),"\n",(0,a.jsx)(s.h3,{id:"ondrawsvgpage",children:"%OnDrawSVGPage"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %OnDrawSVGPage() As %Status [ CodeMode = expression ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Callback method. If defined, this provides a way for a subclass to add static SVG content to the svgPage."}),"\n",(0,a.jsx)(s.h3,{id:"linkcss",children:"%LinkCSS"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %LinkCSS(pFile As %String) As %String [ CodeMode = expression ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Return string used to include a CSS file [Previously private]"}),"\n",(0,a.jsx)(s.h3,{id:"linkscript",children:"%LinkScript"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %LinkScript(pFile As %String) As %String [ CodeMode = expression ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Return string used to include a script file [Previously private]"}),"\n",(0,a.jsx)(s.h3,{id:"startscript",children:"%StartScript"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %StartScript() As %String [ CodeMode = expression ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Write string used to introduce client-side script code [Previously private]"}),"\n",(0,a.jsx)(s.h3,{id:"endscript",children:"%EndScript"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %EndScript() As %String [ CodeMode = expression ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Write string used to end client-side script code [Previously private]"}),"\n",(0,a.jsx)(s.h3,{id:"drawsvgdefs",children:"%DrawSVGDefs"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %DrawSVGDefs() [ CodeMode = objectgenerator ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"This method writes out all SVG Defs defined by ZEN library components."}),"\n",(0,a.jsx)(s.h3,{id:"drawstylesvg",children:"%DrawStyleSVG"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %DrawStyleSVG() [ CodeMode = objectgenerator, GenerateAfter = %OnDrawStyleSVG ]\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Write out SVG/CSS style sheet defined for this component",(0,a.jsx)(s.br,{}),"\nThis is based on the XData block, SVGStyle."]}),"\n",(0,a.jsx)(s.h3,{id:"drawsvgdef",children:"%DrawSVGDef"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %DrawSVGDef() [ CodeMode = objectgenerator, GenerateAfter = %OnDrawSVGDef ]\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Write out SVG defs defined for this component",(0,a.jsx)(s.br,{}),"\nThis is based on the XData block, SVGDef."]}),"\n",(0,a.jsx)(s.h3,{id:"ondrawstylesvg",children:"%OnDrawStyleSVG"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %OnDrawStyleSVG() As %Status [ Abstract ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Callback method called when drawing the SVG CSS style for this page."}),"\n",(0,a.jsx)(s.h3,{id:"ondrawsvgdef",children:"%OnDrawSVGDef"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %OnDrawSVGDef() As %Status [ Abstract ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Callback method called when drawing the SVG defs for this page."}),"\n",(0,a.jsx)(s.h3,{id:"ondrawsvgscript",children:"%OnDrawSVGScript"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %OnDrawSVGScript() As %Status\n"})}),"\n",(0,a.jsx)(s.p,{children:"Callback for adding scripts to this SVG page."}),"\n",(0,a.jsx)(s.h3,{id:"onsvgload",children:"onSVGLoad"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod onSVGLoad() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"This method is called when this svgPage is loaded."}),"\n",(0,a.jsx)(s.h3,{id:"getclasscrc",children:"%GetClassCRC"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetClassCRC() As %Status [ CodeMode = objectgenerator, Final, GenerateAfter = %DrawClassDefinition, Internal ]\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Internal method.",(0,a.jsx)(s.br,{}),"\nGet the CRC for this class. This is used to test for client/server mismatch issues. This needs to be a method to avoid class compiler issues."]})]})}function d(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>l});var a=n(96540);const i={},r=a.createContext(i);function t(e){const s=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),a.createElement(r.Provider,{value:s},e.children)}}}]);