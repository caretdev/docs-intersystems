"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[59878],{24643:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>l,default:()=>c,frontMatter:()=>i,toc:()=>a});var n=t(74848),r=t(28453);const i={pagination_prev:null,pagination_next:null},l="%iKnow.Source.RSS.Lister",a=[{value:"Methods",id:"methods",level:2},{value:"ExpandList",id:"expandlist",level:3},{value:"DefaultProcessor",id:"defaultprocessor",level:3},{value:"GetAlias",id:"getalias",level:3},{value:"SplitFullRef",id:"splitfullref",level:3},{value:"BuildFullRef",id:"buildfullref",level:3}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"iknowsourcersslister",children:"%iKnow.Source.RSS.Lister"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Class %iKnow.Source.RSS.Lister Extends %iKnow.Source.Lister [ Deprecated, System = 4 ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This is a very simple Lister implementation to retrieve RSS data. The Lister will read feeds through a HTTP request and store the set of items retrieved as separate Sources."}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Lister Parameters"})," to be supplied to AddListToBatch and ProcessList calls:"]}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"server"}),' As %String - The server address to access. fe: "feeds.bbci.co.uk"']}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"URL"}),' As %String - The URL path (appended to the server name) leading to the RSS XML, fe: "/news/world/rss.xml"']}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"standard"}),' As %String - The RSS standard used to interpret the RSS XML, fe: "Atom2.0"']}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"checkExists"})," As %Boolean - Whether or not to check whether an RSS item already exists before attempting to store it (skipping if it exists), default 1"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"textElements"}),' As %String - A comma-separated list of RSS item elements to include as the text contents to index for this source. Defaults to "description". (For compatibility with the old "includeTitle" parameter, values 0 and 1 are translated to "description" and "title,description" respectively.']}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"External ID structure:"})," [GroupName]:::[LocalRef]"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"GroupName = server name"}),"\n",(0,n.jsx)(s.li,{children:"LocalRef = guid of the individual RSS item"}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Extracted metadata:"})," these metadata fields will be populated with corresponding values for each RSS item, where present."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Link"}),"\n",(0,n.jsx)(s.li,{children:"PubDate"}),"\n",(0,n.jsx)(s.li,{children:"Title"}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Lister alias:"}),' "RSS"']}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Default Processor:"})," %iKnow.Source.Temp.Processor"]}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(s.h3,{id:"expandlist",children:"ExpandList"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Method ExpandList(listparams As %List) As %Status\n"})}),"\n",(0,n.jsx)(s.p,{children:'Fires an HTTP request to retrieve the RSS xml and then finds the RSS items therein, storing them locally through StoreTemp calls. If they exist in the domain, this Lister will also retrieve and populate the "PubDate", "Link" and "Title" metadata fields.'}),"\n",(0,n.jsx)(s.p,{children:"See also ExpandList in %iKnow.Source.Lister."}),"\n",(0,n.jsx)(s.h3,{id:"defaultprocessor",children:"DefaultProcessor"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod DefaultProcessor() As %String\n"})}),"\n",(0,n.jsx)(s.p,{children:"This Lister uses %iKnow.Source.Temp.Processor, as all RSS content is saved locally through StoreTemp calls."}),"\n",(0,n.jsx)(s.h3,{id:"getalias",children:"GetAlias"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetAlias() As %String\n"})}),"\n",(0,n.jsx)(s.p,{children:'Lister alias: "RSS"'}),"\n",(0,n.jsx)(s.h3,{id:"splitfullref",children:"SplitFullRef"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SplitFullRef(domainId As %Integer, fullRef As %String, Output groupName As %String, Output localRef As %String) As %Status [ Private ]\n"})}),"\n",(0,n.jsx)(s.p,{children:'Identifies the ":::" separator and takes whatever comes before as the group name and the second part as local reference.'}),"\n",(0,n.jsx)(s.p,{children:"See also SplitFullRef in %iKnow.Source.Lister."}),"\n",(0,n.jsx)(s.h3,{id:"buildfullref",children:"BuildFullRef"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod BuildFullRef(domainId As %Integer, groupName As %String, localRef As %String) As %String [ Private ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Builds the full ref by appending the group name and local reference, adding a triple colon in between."}),"\n",(0,n.jsx)(s.p,{children:"See also BuildFullRef in %iKnow.Source.Lister."})]})}function c(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>a});var n=t(96540);const r={},i=n.createContext(r);function l(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);