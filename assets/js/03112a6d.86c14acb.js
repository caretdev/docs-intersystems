"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[68971],{40252:(e,s,a)=>{a.r(s),a.d(s,{contentTitle:()=>l,default:()=>c,frontMatter:()=>n,toc:()=>i});var r=a(74848),t=a(28453);const n={pagination_prev:null,pagination_next:null},l="%SOAP.WebParameters",i=[{value:"Methods",id:"methods",level:2},{value:"ParseParameters",id:"parseparameters",level:3},{value:"ParseOpen",id:"parseopen",level:3},{value:"ParseParametersElement",id:"parseparameterselement",level:3},{value:"ParseMethod",id:"parsemethod",level:3},{value:"ParseIO",id:"parseio",level:3},{value:"ParseHeader",id:"parseheader",level:3},{value:"ParseAction",id:"parseaction",level:3},{value:"GetHeaders",id:"getheaders",level:3},{value:"GetHeadersByClass",id:"getheadersbyclass",level:3},{value:"GetClasses",id:"getclasses",level:3},{value:"GetAction",id:"getaction",level:3}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"soapwebparameters",children:"%SOAP.WebParameters"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Class %SOAP.WebParameters Extends %RegisteredObject [ System = 2 ]\n"})}),"\n",(0,r.jsx)(s.p,{children:'Utility class to parse and manage parameters XData block in web service and web client. This class is used internally by InterSystems IRIS. You should not make direct use of it within your applications. There is no guarantee made about either the behavior or future operation of this class."'}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h3,{id:"parseparameters",children:"ParseParameters"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ParseParameters(classDef As %Dictionary.CompiledClass, methodInheritance As %Boolean, ByRef methods, ByRef actions, ByRef elements, Output parameters) As %Status [ Internal, ServerOnly = 1 ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Parse parameters XData block for this web service or client."}),"\n",(0,r.jsx)(s.p,{children:'The format of the parameters variable is    parameters(0,"request") is request parameters for entire web client or service.    parameters(0,"response") is response parameters for entire web client or service.    parameters(0,"soapAction",soapAction)=$lb(methodName,...)        specifies which methods are associated with a soap action    parameters(0,"requestName",requestName)=$lb(methodName,...)        specifies which methods are associated with a top level request element    parameters(methodName,"request") is request parameters for a method of web client or service.    parameters(methodName,"response") is response parameters for a method of web client or service.  The parameter subnodes defined are    parameter(...,"Action")=wsaw:Action value    parameter(...,"header",name,class)=$lb(alias,encoded)       name is the required element name of the header.       class is the required name of the class that corresponds to the header.       alias is the optional alias to be used for this header in the HeadersIn and HeadersOut arrays.          The default alias is the element name specified in the name attribute.       encoded is true if the header is expected to be output in encoded format.'}),"\n",(0,r.jsx)(s.h3,{id:"parseopen",children:"ParseOpen"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ParseOpen(stream As %GlobalCharacterStream, Output reader As %XML.Reader, Output root As %String) As %Status [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Parse the XML content of the XDATA block to get web service/client parameters"}),"\n",(0,r.jsx)(s.h3,{id:"parseparameterselement",children:"ParseParametersElement"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ParseParametersElement(reader As %XML.Reader, processMethod As %Boolean, ByRef methods, Output parameters) As %Status [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Parse a single parameters element which is defined as an XData block."}),"\n",(0,r.jsx)(s.h3,{id:"parsemethod",children:"ParseMethod"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ParseMethod(node As %XML.Node, ByRef methods, Output parameters) [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Parse the method element"}),"\n",(0,r.jsx)(s.h3,{id:"parseio",children:"ParseIO"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ParseIO(node As %XML.Node, kind As %String, methodName As %String, Output parameters) [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Parse the request or response element"}),"\n",(0,r.jsx)(s.h3,{id:"parseheader",children:"ParseHeader"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ParseHeader(node As %XML.Node, kind As %String, methodName As %String, Output parameters) [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Parse the header element and save in paramneters"}),"\n",(0,r.jsx)(s.h3,{id:"parseaction",children:"ParseAction"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ParseAction(node As %XML.Node, kind As %String, methodName As %String, Output parameters) [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Parse the Action element and save in paramneters"}),"\n",(0,r.jsx)(s.h3,{id:"getheaders",children:"GetHeaders"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetHeaders(class As %String, method As %String, kind As %String, soapHeaders As %String, Output headers) [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Fill in array of headers based on parameters and SOAPHEADERS headers(namespace,name)=$lb(class,alias,encoded)"}),"\n",(0,r.jsx)(s.h3,{id:"getheadersbyclass",children:"GetHeadersByClass"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetHeadersByClass(class As %String, method As %String, kind As %String, soapHeaders As %String, Output headersByClass) [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Create index of header classes -- byClass(class)=alias"}),"\n",(0,r.jsx)(s.h3,{id:"getclasses",children:"GetClasses"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetClasses(class As %String, Output classes) [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Fill in array of header classes based on parameters. Each entry is classes(classname,encoded,alias)=$lb(name,namespace)"}),"\n",(0,r.jsx)(s.h3,{id:"getaction",children:"GetAction"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetAction(class As %String, method As %String, kind As %String) As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Get value of Action for method request or response."})]})}function c(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,s,a)=>{a.d(s,{R:()=>l,x:()=>i});var r=a(96540);const t={},n=r.createContext(t);function l(e){const s=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(n.Provider,{value:s},e.children)}}}]);