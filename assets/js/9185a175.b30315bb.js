"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[73350],{64983:(e,r,n)=>{n.r(r),n.d(r,{contentTitle:()=>l,default:()=>o,frontMatter:()=>i,toc:()=>c});var t=n(74848),s=n(28453);const i={pagination_prev:null,pagination_next:null},l="%DeepSee.Query.memberFunction",c=[{value:"Parameters",id:"parameters",level:2},{value:"FUNCTIONCLASS",id:"functionclass",level:3},{value:"Properties",id:"properties",level:2},{value:"%member",id:"member",level:3},{value:"%cmbrQualifier",id:"cmbrqualifier",level:3},{value:"%cmbrWrapper",id:"cmbrwrapper",level:3},{value:"%cmbrMarker",id:"cmbrmarker",level:3},{value:"%cmbrAgg",id:"cmbragg",level:3},{value:"%cmbrMeasure",id:"cmbrmeasure",level:3},{value:"%cmbrLiteral",id:"cmbrliteral",level:3},{value:"%cmbrLabel",id:"cmbrlabel",level:3},{value:"%cmbrFormat",id:"cmbrformat",level:3},{value:"%cmbrRelSpec",id:"cmbrrelspec",level:3},{value:"%cmbrKeyText",id:"cmbrkeytext",level:3},{value:"Methods",id:"methods",level:2},{value:"%GetMemberProvider",id:"getmemberprovider",level:3},{value:"%BuildFunctionMetaData",id:"buildfunctionmetadata",level:3},{value:"%ToString",id:"tostring",level:3},{value:"%PreProcess",id:"preprocess",level:3},{value:"%ProcessAxes",id:"processaxes",level:3},{value:"FXCurrentMember",id:"fxcurrentmember",level:3},{value:"FXMembers",id:"fxmembers",level:3},{value:"FXChildren",id:"fxchildren",level:3},{value:"FXSiblings",id:"fxsiblings",level:3},{value:"FXFirstChild",id:"fxfirstchild",level:3},{value:"FXLastChild",id:"fxlastchild",level:3},{value:"FXParent",id:"fxparent",level:3},{value:"FXAllMember",id:"fxallmember",level:3},{value:"FXAll",id:"fxall",level:3},{value:"FXNot",id:"fxnot",level:3},{value:"FXFirstSibling",id:"fxfirstsibling",level:3},{value:"FXLastSibling",id:"fxlastsibling",level:3},{value:"FXPrevMember",id:"fxprevmember",level:3},{value:"FXNextMember",id:"fxnextmember",level:3},{value:"FXLag",id:"fxlag",level:3},{value:"FXLead",id:"fxlead",level:3},{value:"FXProperties",id:"fxproperties",level:3},{value:"FXChangeAggregate",id:"fxchangeaggregate",level:3},{value:"FXRank",id:"fxrank",level:3}];function a(e){const r={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"deepseequerymemberfunction",children:"%DeepSee.Query.memberFunction"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Class %DeepSee.Query.memberFunction Extends function [ System = 3 ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["This class defines a member function within a DeepSee query.",(0,t.jsx)(r.br,{}),'\nA "member" function is a function that is syntactically part of a member: member.FUNC or member.FUNC(a)',(0,t.jsx)(r.br,{}),"\nThese are sometimes referred to as operators within MDX."]}),"\n",(0,t.jsx)(r.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(r.h3,{id:"functionclass",children:"FUNCTIONCLASS"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Parameter FUNCTIONCLASS = "mbr";\n'})}),"\n",(0,t.jsx)(r.p,{children:"Used to indicate which class of functions this class supports."}),"\n",(0,t.jsx)(r.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(r.h3,{id:"member",children:"%member"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Property %member As %DeepSee.Query.member(XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,t.jsx)(r.p,{children:"Member object that provides the member API for the member returned by this function, if any. This is created during the axis-processing phase."}),"\n",(0,t.jsx)(r.h3,{id:"cmbrqualifier",children:"%cmbrQualifier"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Property %cmbrQualifier As %String(MAXLEN = 1000, XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,t.jsx)(r.p,{children:"For CurrentMember functions, this contains additional functions to apply to the current member once it is resolved."}),"\n",(0,t.jsx)(r.h3,{id:"cmbrwrapper",children:"%cmbrWrapper"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Property %cmbrWrapper As %String(MAXLEN = 1000, XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,t.jsx)(r.p,{children:"For CurrentMember functions, this contains any MDX that wraps the current member."}),"\n",(0,t.jsx)(r.h3,{id:"cmbrmarker",children:"%cmbrMarker"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Property %cmbrMarker As %String(MAXLEN = 50, XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,t.jsx)(r.p,{children:"For CurrentMember functions, this is used to output a marker value for this node when %ToString is called."}),"\n",(0,t.jsx)(r.h3,{id:"cmbragg",children:"%cmbrAgg"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Property %cmbrAgg As %String(MAXLEN = 50, XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,t.jsx)(r.p,{children:"For CurrentMember functions, this is the function used to aggregate children of the currentMember reference, if any."}),"\n",(0,t.jsx)(r.h3,{id:"cmbrmeasure",children:"%cmbrMeasure"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Property %cmbrMeasure As %String(MAXLEN = 255, XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,t.jsx)(r.p,{children:"For CurrentMember functions, this is the name of the measure used to aggregate children of the currentMember reference, if any."}),"\n",(0,t.jsx)(r.h3,{id:"cmbrliteral",children:"%cmbrLiteral"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Property %cmbrLiteral As %String(MAXLEN = 2000, XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,t.jsx)(r.p,{children:"For CurrentMember functions, this a literal value to apply to children of the currentMember reference, if any."}),"\n",(0,t.jsx)(r.h3,{id:"cmbrlabel",children:"%cmbrLabel"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Property %cmbrLabel As %String(MAXLEN = 250, XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,t.jsx)(r.p,{children:"For CurrentMember functions, this is the label used for the current member."}),"\n",(0,t.jsx)(r.h3,{id:"cmbrformat",children:"%cmbrFormat"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Property %cmbrFormat As %String(MAXLEN = 250, XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,t.jsx)(r.p,{children:"For CurrentMember functions, this is the format used for the current member."}),"\n",(0,t.jsx)(r.h3,{id:"cmbrrelspec",children:"%cmbrRelSpec"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Property %cmbrRelSpec As %String(MAXLEN = 2000, XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,t.jsx)(r.p,{children:'For CurrentMember functions, this is the relationship part of the member spec, if applicable. E.g., "[Doctors]".'}),"\n",(0,t.jsx)(r.h3,{id:"cmbrkeytext",children:"%cmbrKeyText"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:'Property %cmbrKeyText As %String(XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,t.jsx)(r.p,{children:"For CurrentMember functions, this is the original request string for use in generating keys."}),"\n",(0,t.jsx)(r.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(r.h3,{id:"getmemberprovider",children:"%GetMemberProvider"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method %GetMemberProvider() As %DeepSee.Query.member\n"})}),"\n",(0,t.jsx)(r.p,{children:"Return the member provider object associated with this node."}),"\n",(0,t.jsx)(r.h3,{id:"buildfunctionmetadata",children:"%BuildFunctionMetaData"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"ClassMethod %BuildFunctionMetaData() As %Status\n"})}),"\n",(0,t.jsx)(r.p,{children:"Test if function metadata is in the DeepSeeFunctionGLVN global. If not, put it there."}),"\n",(0,t.jsx)(r.h3,{id:"tostring",children:"%ToString"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method %ToString(Output pSC As %Status) As %String\n"})}),"\n",(0,t.jsx)(r.p,{children:"Convert this node to its text representation."}),"\n",(0,t.jsx)(r.h3,{id:"preprocess",children:"%PreProcess"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method %PreProcess(pIsSlicer As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(r.p,{children:"Execute the pre-processing logic for this node."}),"\n",(0,t.jsx)(r.h3,{id:"processaxes",children:"%ProcessAxes"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method %ProcessAxes(pCube As %String, pKey As %String, ByRef pNodeNo As %Integer, Output pNewNodeNo As %Integer, pParent As %Integer, pVisible As %Boolean = 1) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(r.p,{children:"Execute and build the axes output for this axis."}),"\n",(0,t.jsx)(r.h3,{id:"fxcurrentmember",children:"FXCurrentMember"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXCurrentMember(pCube As %String, pParent As %Integer, Output pSet As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(r.p,{children:"Execute the CurrentMember function on the given member and place results into pSet."}),"\n",(0,t.jsx)(r.h3,{id:"fxmembers",children:"FXMembers"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXMembers(pCube As %String, pKey As %String, ByRef pNodeNo As %Integer, pParent As %Integer, pMember As %DeepSee.Query.member, pIncludeCalc As %Boolean = 0, pTopMembers As %Boolean = 0) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Execute the Members function on the given member and place results into the axis global.",(0,t.jsx)(r.br,{}),"\nThis will return all members of the current node.",(0,t.jsx)(r.br,{}),"\nThe work of getting the members is delegated to the member object pMember. If pIncludeCalc is true, return calculated members as well."]}),"\n",(0,t.jsx)(r.h3,{id:"fxchildren",children:"FXChildren"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXChildren(pCube As %String, pKey As %String, ByRef pNodeNo As %Integer, pParent As %Integer, pMember As %DeepSee.Query.member, pReturnSelf As %Boolean = 0) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Execute the Children function on the given member and place results into pSet.",(0,t.jsx)(r.br,{}),"\nThis will return all children of the current member node.",(0,t.jsx)(r.br,{}),"\nThe work of getting the members is delegated to the member object pMember."]}),"\n",(0,t.jsx)(r.h3,{id:"fxsiblings",children:"FXSiblings"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXSiblings(pCube As %String, pKey As %String, ByRef pNodeNo As %Integer, pParent As %Integer, pMember As %DeepSee.Query.member) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Execute the Siblings function on the given member and place results into pSet.",(0,t.jsx)(r.br,{}),"\nThis will return all siblings of the current member node.",(0,t.jsx)(r.br,{}),"\nThe work of getting the members is delegated to the member object pMember."]}),"\n",(0,t.jsx)(r.h3,{id:"fxfirstchild",children:"FXFirstChild"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXFirstChild(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Execute the FirstChild function on the given member and place results into pSet.",(0,t.jsx)(r.br,{}),"\nThis will return the first child of the current member node.",(0,t.jsx)(r.br,{}),"\nThe work of getting the members is delegated to the member object pMember."]}),"\n",(0,t.jsx)(r.h3,{id:"fxlastchild",children:"FXLastChild"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXLastChild(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Execute the LastChild function on the given member and place results into pSet.",(0,t.jsx)(r.br,{}),"\nThis will return the last child of the current member node.",(0,t.jsx)(r.br,{}),"\nThe work of getting the members is delegated to the member object pMember."]}),"\n",(0,t.jsx)(r.h3,{id:"fxparent",children:"FXParent"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXParent(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(r.p,{children:"Execute Parent function on the given member and place results into pSet."}),"\n",(0,t.jsx)(r.h3,{id:"fxallmember",children:"FXAllMember"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXAllMember(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Execute %AllMember function on the given member and place results into pSet.",(0,t.jsx)(r.br,{}),"\nThis finds the All member for the current dimension (if present)."]}),"\n",(0,t.jsx)(r.h3,{id:"fxall",children:"FXAll"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXAll(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Execute the special %All function on the given member and place results into pSet.",(0,t.jsx)(r.br,{}),"\nThis cause all references to this level along other rows and columns to be ignored. The slicer is still applied."]}),"\n",(0,t.jsx)(r.h3,{id:"fxnot",children:"FXNot"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXNot(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Execute the special %NOT function on the given member and place results into pSet.",(0,t.jsx)(r.br,{}),"\nThis adds a negation marker to the key for given member."]}),"\n",(0,t.jsx)(r.h3,{id:"fxfirstsibling",children:"FXFirstSibling"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXFirstSibling(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(r.p,{children:"Execute FirstSibling function on the given member and place results into pSet."}),"\n",(0,t.jsx)(r.h3,{id:"fxlastsibling",children:"FXLastSibling"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXLastSibling(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(r.p,{children:"Execute LastSibling function on the given member and place results into pSet."}),"\n",(0,t.jsx)(r.h3,{id:"fxprevmember",children:"FXPrevMember"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXPrevMember(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(r.p,{children:"Execute PrevMember function on the given member and place results into pSet."}),"\n",(0,t.jsx)(r.h3,{id:"fxnextmember",children:"FXNextMember"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXNextMember(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(r.p,{children:"Execute NextMember function on the given member and place results into pSet."}),"\n",(0,t.jsx)(r.h3,{id:"fxlag",children:"FXLag"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXLag(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List, ByRef pArgs As %DeepSee.Query.node) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(r.p,{children:"Execute Lag function on the given member and place results into pSet."}),"\n",(0,t.jsx)(r.h3,{id:"fxlead",children:"FXLead"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXLead(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List, ByRef pArgs As %DeepSee.Query.node) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Execute Lead function on the given member and place results into pSet.",(0,t.jsx)(r.br,{}),"\npArgs contains the array of arguments for this function."]}),"\n",(0,t.jsx)(r.h3,{id:"fxproperties",children:"FXProperties"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXProperties(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List, ByRef pArgs As %DeepSee.Query.node) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Execute Properties function on the given member and place results into pSet.",(0,t.jsx)(r.br,{}),"\npArgs contains the array of arguments for this function."]}),"\n",(0,t.jsx)(r.h3,{id:"fxchangeaggregate",children:"FXChangeAggregate"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXChangeAggregate(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List, pAggregate As %String) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(r.p,{children:"Change the default aggregate to pAggregate on the current measure and place results into pSet."}),"\n",(0,t.jsx)(r.h3,{id:"fxrank",children:"FXRank"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-objectscript-class",children:"Method FXRank(pCube As %String, pParent As %Integer, pMember As %DeepSee.Query.member, Output pSet As %List, ByRef pArgs As %DeepSee.Query.node) As %Status [ Internal ]\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Execute the internal function %RANK on the given member and place results into pSet.",(0,t.jsx)(r.br,{}),"\npArgs contains the array of arguments for this function.",(0,t.jsx)(r.br,{}),"\nThis function is used when a RANK operation had to be run on a resolved CurrentMember."]})]})}function o(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>c});var t=n(96540);const s={},i=t.createContext(s);function l(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);