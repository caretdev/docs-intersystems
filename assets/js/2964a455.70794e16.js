"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[39295],{70565:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>i,default:()=>o,frontMatter:()=>a,toc:()=>l});var r=t(74848),n=t(28453);const a={pagination_prev:null,pagination_next:null},i="%Compiler.Type.Stream",l=[{value:"Parameters",id:"parameters",level:2},{value:"STORAGE",id:"storage",level:3},{value:"LOCATION;",id:"location",level:3},{value:"CONTENT",id:"content",level:3},{value:"ESCAPE",id:"escape",level:3},{value:"ENCODING",id:"encoding",level:3},{value:"MTOM",id:"mtom",level:3},{value:"Methods",id:"methods",level:2},{value:"GetSwizzled",id:"getswizzled",level:3},{value:"GetObject",id:"getobject",level:3},{value:"NewObject",id:"newobject",level:3},{value:"Set",id:"set",level:3},{value:"SetFromShardStream",id:"setfromshardstream",level:3},{value:"Delete",id:"delete",level:3},{value:"Open",id:"open",level:3},{value:"Oid",id:"oid",level:3}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",prop:"prop",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"compilertypestream",children:"%Compiler.Type.Stream"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Class %Compiler.Type.Stream Extends %Compiler.Type.Object [ NoContext, System = 2 ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"This is the property class for properties whose type class is a stream."}),"\n",(0,r.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(s.h3,{id:"storage",children:"STORAGE"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter STORAGE As STRING [ Constraint = ",GLOBAL,OTHER", Flags = ENUM ];\n'})}),"\n",(0,r.jsx)(s.p,{children:"This is the storage type of the stream - GLOBAL or OTHER."}),"\n",(0,r.jsx)(s.h3,{id:"location",children:"LOCATION;"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter LOCATION;\n"})}),"\n",(0,r.jsx)(s.p,{children:'If STORAGE is "GLOBAL", this is the global node reference where the stream data is stored. For file streams this is the directory where the files are stored'}),"\n",(0,r.jsx)(s.h3,{id:"content",children:"CONTENT"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter CONTENT [ Constraint = "MIXED,STRING,ESCAPE,ESCAPE-C14N", Flags = ENUM ];\n'})}),"\n",(0,r.jsx)(s.p,{children:'XML element content "MIXED" for mixed="true" and "STRING" or "ESCAPE" for mixed="false". If CONTENT="STRING" (default) XML special characters are put in a CDATA section during XML export. If CONTENT="ESCAPE" XML special characters are escaped during XML export. If CONTENT="ESCAPE-C14N" XML special characters are escaped during XML export using the translate table, XMLC, specified for XML Canonicalizaton. The main difference is that CR is escaped as\r'}),"\n",(0,r.jsx)(s.h3,{id:"escape",children:"ESCAPE"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter ESCAPE [ Constraint = "HTML,XML", Flags = ENUM ] = "XML";\n'})}),"\n",(0,r.jsx)(s.p,{children:'Controls the translate table used to escape content when CONTENT="MIXED" is specified.'}),"\n",(0,r.jsx)(s.h3,{id:"encoding",children:"ENCODING"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter ENCODING [ Constraint = "base64,hex", Flags = ENUM ] = "base64";\n'})}),"\n",(0,r.jsx)(s.p,{children:"Encoding to be used for XML serialization of a binary stream."}),"\n",(0,r.jsx)(s.h3,{id:"mtom",children:"MTOM"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter MTOM As BOOLEAN = 1;\n"})}),"\n",(0,r.jsx)(s.p,{children:"If MTOM is true, then the property that references this binary stream is available for optimization when using SOAP MTOM (Message Transmission Optimization Mechanism). The default for binary streams is true."}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h3,{id:"getswizzled",children:"GetSwizzled"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method GetSwizzled(noswizzle As %Boolean = 0) As %RegisteredObject [ CodeMode = generator, ServerOnly = 1 ]\n"})}),"\n",(0,r.jsx)(s.p,{children:'returns an oref, performing swizzling if necessary it returns "" ($$$NULLOREF) if there is no oref and the id="" If noswizzle is passed as true then this will just return the current value for the property, so if it has been swizzled already then it will return the oref, if it has not been swizzled it will return "" ($$$NULLOREF).'}),"\n",(0,r.jsx)(s.h3,{id:"getobject",children:"GetObject"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method GetObject(force As %Integer = 0) As %ObjectIdentity [ CodeMode = generator, ServerOnly = 1 ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"This method obtains the state/id of the referenced object if swizzling has not occurred, it simply returns the stored state else it references the specified object force = an optional parameter, if its value is 1 then if the referenced object is an ID object it must return its ID, which may force it to file itself. No code for this method if the property is a datatype."}),"\n",(0,r.jsx)(s.h3,{id:"newobject",children:"NewObject"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Method NewObject(type As %RawString = "") As %ObjectHandle [ CodeMode = generator, ServerOnly = 1 ]\n'})}),"\n",(0,r.jsx)(s.h3,{id:"set",children:"Set"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method Set(newvalue As %RawString) As %Status [ CodeMode = generator, ServerOnly = 1 ]\n"})}),"\n",(0,r.jsx)(s.h3,{id:"setfromshardstream",children:"SetFromShardStream"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method SetFromShardStream(newvalue As %RawString) As %Status [ CodeMode = generator, ServerOnly = 1 ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"This method is used when loading an object for a sharded class and getting the stream from the shard-local class We need to perform a type of clone from the stream selected from SQL for the shard-local class and be able to use it in the sharded class"}),"\n",(0,r.jsx)(s.h3,{id:"delete",children:"Delete"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Delete(streamvalue) As %Status [ CodeMode = generator, ServerOnly = 1 ]\n"})}),"\n",(0,r.jsx)(s.h3,{id:"open",children:"Open"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Open(streamvalue) As %RegisteredObject [ CodeMode = generator, ServerOnly = 1 ]\n"})}),"\n",(0,r.jsx)(s.h3,{id:"oid",children:"Oid"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod Oid(streamvalue, external = "") As %ObjectIdentity [ CodeMode = generator, Internal, ServerOnly = 1 ]\n'})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.prop,{children:"Oid takes the stored value of a stream reference and returns an externalized stream oid that may be passed to ##class(%Stream.Object).Open()."})})]})}function o(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>l});var r=t(96540);const n={},a=r.createContext(n);function i(e){const s=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);