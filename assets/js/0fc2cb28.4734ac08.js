"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[46007],{17946:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>n,default:()=>d,frontMatter:()=>i,toc:()=>a});var l=t(74848),r=t(28453);const i={pagination_prev:null,pagination_next:null},n="%DeepSee.UserLibrary.Utils",a=[{value:"Methods",id:"methods",level:2},{value:"%KillFolders",id:"killfolders",level:3},{value:"%KillAutosaveFolders",id:"killautosavefolders",level:3},{value:"%KillUserPreferences",id:"killuserpreferences",level:3},{value:"%RegisterRecentItem",id:"registerrecentitem",level:3},{value:"%GetRecentItemList",id:"getrecentitemlist",level:3},{value:"%RemoveRecentItem",id:"removerecentitem",level:3},{value:"%AddFavorite",id:"addfavorite",level:3},{value:"%RemoveFavorite",id:"removefavorite",level:3},{value:"%GetFavoriteList",id:"getfavoritelist",level:3},{value:"%OpenFolderItem",id:"openfolderitem",level:3},{value:"%FolderItemExists",id:"folderitemexists",level:3},{value:"%DeleteFolderContents",id:"deletefoldercontents",level:3},{value:"%DeleteFolderItem",id:"deletefolderitem",level:3},{value:"%GetXMLNamesForClasses",id:"getxmlnamesforclasses",level:3},{value:"%GetFolderItemClasses",id:"getfolderitemclasses",level:3},{value:"%GetFolderList",id:"getfolderlist",level:3},{value:"%GetCategoryList",id:"getcategorylist",level:3},{value:"%GetSubFolderList",id:"getsubfolderlist",level:3},{value:"%GetFolderItemList",id:"getfolderitemlist",level:3},{value:"%FindFolder",id:"findfolder",level:3},{value:"%ExportContainer",id:"exportcontainer",level:3},{value:"%Export",id:"export",level:3},{value:"%Import",id:"import",level:3},{value:"%ImportContainer",id:"importcontainer",level:3},{value:"%ProcessContainer",id:"processcontainer",level:3},{value:"%Dump",id:"dump",level:3},{value:"%CanWriteToFolder",id:"canwritetofolder",level:3},{value:"%OpenItem",id:"openitem",level:3},{value:"%IsNotFolderItem",id:"isnotfolderitem",level:3},{value:"%ExpandItemList",id:"expanditemlist",level:3},{value:"%GetItemsForType",id:"getitemsfortype",level:3},{value:"%ValidateItemType",id:"validateitemtype",level:3},{value:"%GetRelatedItems",id:"getrelateditems",level:3},{value:"%GetRelatedItemsForPivot",id:"getrelateditemsforpivot",level:3},{value:"%GetRelatedItemsForCube",id:"getrelateditemsforcube",level:3},{value:"%GetRelatedItemsForDashboard",id:"getrelateditemsfordashboard",level:3},{value:"%AddRelatedItem",id:"addrelateditem",level:3}];function o(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"deepseeuserlibraryutils",children:"%DeepSee.UserLibrary.Utils"})}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Class %DeepSee.UserLibrary.Utils Extends %RegisteredObject [ Abstract, System = 4 ]\n"})}),"\n",(0,l.jsx)(s.p,{children:"This class contains API method for the DeepSee User Component library."}),"\n",(0,l.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,l.jsx)(s.h3,{id:"killfolders",children:"%KillFolders"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %KillFolders() As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Deletes all folders and folder items in the current namespace."}),"\n",(0,l.jsx)(s.h3,{id:"killautosavefolders",children:"%KillAutosaveFolders"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %KillAutosaveFolders(pFolder As %String = "$Temp") As %Status\n'})}),"\n",(0,l.jsx)(s.h3,{id:"killuserpreferences",children:"%KillUserPreferences"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %KillUserPreferences() As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Deletes all user preference info in the current namespace."}),"\n",(0,l.jsx)(s.h3,{id:"registerrecentitem",children:"%RegisterRecentItem"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %RegisterRecentItem(pType As %String, pName As %String) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Make note that the given item was accessed recently."}),"\n",(0,l.jsx)(s.h3,{id:"getrecentitemlist",children:"%GetRecentItemList"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %GetRecentItemList(Output pList As %String, pType As %String = "") As %Status\n'})}),"\n",(0,l.jsxs)(s.p,{children:["Get list of recent items for user. This takes the form:",(0,l.jsx)(s.br,{}),"\npList(time) = name",(0,l.jsx)(s.br,{}),"\nIf pType is missing, list all types. pType can contain a csv list of types."]}),"\n",(0,l.jsx)(s.h3,{id:"removerecentitem",children:"%RemoveRecentItem"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %RemoveRecentItem(pName As %String) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Remove item from recent items list."}),"\n",(0,l.jsx)(s.h3,{id:"addfavorite",children:"%AddFavorite"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %AddFavorite(pName As %String) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Add item to favorites list."}),"\n",(0,l.jsx)(s.h3,{id:"removefavorite",children:"%RemoveFavorite"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %RemoveFavorite(pName As %String) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Remove item from favorites list."}),"\n",(0,l.jsx)(s.h3,{id:"getfavoritelist",children:"%GetFavoriteList"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetFavoriteList(Output pList As %String) As %Status\n"})}),"\n",(0,l.jsxs)(s.p,{children:["Get list of favorite items for user. This takes the form:",(0,l.jsx)(s.br,{}),"\npList(name) = time"]}),"\n",(0,l.jsx)(s.h3,{id:"openfolderitem",children:"%OpenFolderItem"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %OpenFolderItem(pFullName As %String, Output pStatus As %Status) As FolderItem\n"})}),"\n",(0,l.jsx)(s.p,{children:"Open the folder item with the given full name."}),"\n",(0,l.jsx)(s.h3,{id:"folderitemexists",children:"%FolderItemExists"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %FolderItemExists(pFullName As %String, Output pID As %String) As %Integer\n"})}),"\n",(0,l.jsxs)(s.p,{children:["Check if a there is a folder item with the given name.",(0,l.jsx)(s.br,{}),"\nReturns 0 if the item does not exist; returns 1 if it exists and is visible to the current user; returns 2 if it exists but is not visible to the current user; returns 3 if the pivot is locked.",(0,l.jsx)(s.br,{}),"\nReturn its id by reference as a convenience."]}),"\n",(0,l.jsx)(s.h3,{id:"deletefoldercontents",children:"%DeleteFolderContents"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %DeleteFolderContents(pFolderName As %String) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Delete all the items within the given folder."}),"\n",(0,l.jsx)(s.h3,{id:"deletefolderitem",children:"%DeleteFolderItem"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %DeleteFolderItem(pFullName As %String, Output pCount As %Integer) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Delete the folder item with the given full name. pCount returns the number of items actually deleted."}),"\n",(0,l.jsx)(s.h3,{id:"getxmlnamesforclasses",children:"%GetXMLNamesForClasses"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetXMLNamesForClasses(Output pList, Output pNonFolderItem) As %Status\n"})}),"\n",(0,l.jsx)(s.h3,{id:"getfolderitemclasses",children:"%GetFolderItemClasses"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetFolderItemClasses(Output pList) As %Status\n"})}),"\n",(0,l.jsxs)(s.p,{children:["Return a list of all folder item classes.",(0,l.jsx)(s.br,{}),"\npList(n) = $LB(classname,xmlname)"]}),"\n",(0,l.jsx)(s.h3,{id:"getfolderlist",children:"%GetFolderList"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %GetFolderList(Output pList As %String, pFolderName As %String = "") As %Status\n'})}),"\n",(0,l.jsxs)(s.p,{children:["Return an array of all folders visible to the current user within the given folder. This list is in the form:",(0,l.jsx)(s.br,{}),"\npList(n) = name"]}),"\n",(0,l.jsx)(s.h3,{id:"getcategorylist",children:"%GetCategoryList"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetCategoryList(Output pList) As %Status\n"})}),"\n",(0,l.jsxs)(s.p,{children:["Return an array of all categories that have been assigned to Folder Items. This list is in the form:",(0,l.jsx)(s.br,{}),"\npList(n) = category"]}),"\n",(0,l.jsx)(s.h3,{id:"getsubfolderlist",children:"%GetSubFolderList"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %GetSubFolderList(Output pList As %String, pFolderName As %String = "") As %Status\n'})}),"\n",(0,l.jsx)(s.h3,{id:"getfolderitemlist",children:"%GetFolderItemList"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %GetFolderItemList(Output pList As %String, pFolderName As %String = "", pShowAll As %Boolean = 0, pFolderClass As %String = "") As %Status [ PublicList = SQLCODE ]\n'})}),"\n",(0,l.jsxs)(s.p,{children:["Return an array of all folder items visible to the current user within the given folder. This list is in the form:",(0,l.jsx)(s.br,{}),"\npList(n) = id",(0,l.jsx)(s.br,{}),"\nIf pShowAll is true, list items for all users.",(0,l.jsx)(s.br,{}),"\nIf pFolderClass is provided, only list items of the given type."]}),"\n",(0,l.jsx)(s.h3,{id:"findfolder",children:"%FindFolder"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %FindFolder(pName As %String, pCreate As %Boolean = 0, Output pSC As %Status, pParent As Folder = "") As Folder\n'})}),"\n",(0,l.jsx)(s.p,{children:"Find the folder with the given full name. If pCreate is true, then create the folder if it does not exist."}),"\n",(0,l.jsx)(s.h3,{id:"exportcontainer",children:"%ExportContainer"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %ExportContainer(ByRef pItemList As %String, pFileName As %String, pContainerClassName As %String = "", pVerbose As %Boolean = 1) As %Status\n'})}),"\n",(0,l.jsx)(s.p,{children:"Export the items in the list to a container"}),"\n",(0,l.jsx)(s.h3,{id:"export",children:"%Export"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %Export(pFullName As %String, pFile As %String = "", pVerbose As %Boolean = 1, Output pXMLName As %String) As %Status\n'})}),"\n",(0,l.jsx)(s.p,{children:"Export FolderItem or Folder information to an XML file."}),"\n",(0,l.jsx)(s.h3,{id:"import",children:"%Import"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %Import(pFile As %String = "", pReplace As %Boolean = 0, pVerbose As %Boolean = 1, pKill As %Boolean = 0, pForceItemName As %String = "", ByRef pItemsLoaded As %String) As %Status\n'})}),"\n",(0,l.jsxs)(s.p,{children:["Import a folder item definition from an XML file.",(0,l.jsx)(s.br,{}),"\nIf pReplace is true, replace an existing item with the same name.",(0,l.jsx)(s.br,{}),"\nIf pVerbose is true, write status to the console.",(0,l.jsx)(s.br,{}),"\nIf pKill is true, then delete all existing items before import!",(0,l.jsx)(s.br,{}),"\nIf pForceItemName is given, import the item using that name.",(0,l.jsx)(s.br,{}),"\nIf type-extension is not present in pForceItemName supply it automatically"]}),"\n",(0,l.jsx)(s.h3,{id:"importcontainer",children:"%ImportContainer"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %ImportContainer(pFileName As %String = "", pReplace As %Boolean = 1, pVerbose As %Boolean = 1) As %Status\n'})}),"\n",(0,l.jsxs)(s.p,{children:["This method may be called to import a container class from an xml file. This will execute the %OnLoad method if it is defined in the container class.",(0,l.jsx)(s.br,{}),"\nThe pReplace parameter is deprecated in this method but remains for compatibility purposes."]}),"\n",(0,l.jsx)(s.h3,{id:"processcontainer",children:"%ProcessContainer"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %ProcessContainer(pClass As %String = "", pReplace As %Boolean = 0, pVerbose As %Boolean = 1, pSuppressForCaller As %Boolean = 0) As %Status\n'})}),"\n",(0,l.jsxs)(s.p,{children:["Import a folder item definition from the Contents XData block of the given class.",(0,l.jsx)(s.br,{}),"\nIf pReplace is true, replace an existing item with the same name.",(0,l.jsx)(s.br,{}),"\nIf pVerbose is true, write status to the console."]}),"\n",(0,l.jsx)(s.h3,{id:"dump",children:"%Dump"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %Dump(pFolderItemName As %String = "") As %Status\n'})}),"\n",(0,l.jsx)(s.p,{children:"Diagnostic method. Display the contents of a folder item to the console."}),"\n",(0,l.jsx)(s.h3,{id:"canwritetofolder",children:"%CanWriteToFolder"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %CanWriteToFolder(pFolderName As %String) As %Boolean\n"})}),"\n",(0,l.jsx)(s.p,{children:'Does the current user have "WRITE" access to a folder?'}),"\n",(0,l.jsx)(s.h3,{id:"openitem",children:"%OpenItem"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %OpenItem(pFullName As %String = "", ByRef pStatus As %Status) As %String\n'})}),"\n",(0,l.jsx)(s.h3,{id:"isnotfolderitem",children:"%IsNotFolderItem"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %IsNotFolderItem(pFullName As %String = 0) As %Boolean\n"})}),"\n",(0,l.jsx)(s.h3,{id:"expanditemlist",children:"%ExpandItemList"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %ExpandItemList(ByRef pItemList As %String, pVerbose As %Boolean = 1) As %Status\n"})}),"\n",(0,l.jsx)(s.h3,{id:"getitemsfortype",children:"%GetItemsForType"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetItemsForType(pType, ByRef pItemList, pVerbose As %Boolean = 1)\n"})}),"\n",(0,l.jsx)(s.h3,{id:"validateitemtype",children:"%ValidateItemType"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %ValidateItemType(pType As %String, ByRef pProblem As %String) As %Boolean\n"})}),"\n",(0,l.jsx)(s.h3,{id:"getrelateditems",children:"%GetRelatedItems"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetRelatedItems(pItem As %String, ByRef pRelItems, pVerbose As %Boolean = 1) As %Status\n"})}),"\n",(0,l.jsxs)(s.p,{children:['Get the related DeepSee items for a dashboard or pivot table. All items related to the target item pItem will be returned in the pRelItems array. Related items are returned indexed by a single "all" node and by type:',(0,l.jsx)(s.br,{}),'\npRelItems("all",pItem)=""',(0,l.jsx)(s.br,{}),'\npRelItems("type","itemType",pItem)=""']}),"\n",(0,l.jsx)(s.h3,{id:"getrelateditemsforpivot",children:"%GetRelatedItemsForPivot"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetRelatedItemsForPivot(pItem As %String, ByRef pRelItems, pVerbose As %Boolean = 1) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Get the related DeepSee items for a pivot table."}),"\n",(0,l.jsx)(s.h3,{id:"getrelateditemsforcube",children:"%GetRelatedItemsForCube"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetRelatedItemsForCube(pCubeName As %String, ByRef pRelItems, pVerbose As %Boolean = 1) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Get the related DeepSee items for a cube/subject area."}),"\n",(0,l.jsx)(s.h3,{id:"getrelateditemsfordashboard",children:"%GetRelatedItemsForDashboard"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetRelatedItemsForDashboard(pItem As %String, ByRef pRelItems, pVerbose As %Boolean = 1) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Get the related DeepSee items for a dashboard."}),"\n",(0,l.jsx)(s.h3,{id:"addrelateditem",children:"%AddRelatedItem"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %AddRelatedItem(pItem As %String, ByRef pRelItems, pVerbose As %Boolean = 1) As %Status [ Internal ]\n"})}),"\n",(0,l.jsxs)(s.p,{children:["Add a new pItem to the pRelItems array. A type extension is expected on the pItem input, for example ",(0,l.jsx)(s.code,{children:'Set status = ##class(%DeepSee.UserLibrary.Utils).%AddRelatedItem("itemName.itemType",.relatedItems) '})]})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>n,x:()=>a});var l=t(96540);const r={},i=l.createContext(r);function n(e){const s=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:n(e.components),l.createElement(i.Provider,{value:s},e.children)}}}]);