"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[77835],{95809:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>l,default:()=>a,frontMatter:()=>r,toc:()=>i});var s=n(74848),o=n(28453);const r={pagination_prev:null,pagination_next:null},l="%Studio.SourceControl.Base",i=[{value:"Parameters",id:"parameters",level:2},{value:"Flags",id:"flags",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"Menu",id:"menu",level:3},{value:"Methods",id:"methods",level:2},{value:"CheckIn",id:"checkin",level:3},{value:"CheckOut",id:"checkout",level:3},{value:"UndoCheckout",id:"undocheckout",level:3},{value:"AddToSourceControl",id:"addtosourcecontrol",level:3},{value:"RemoveFromSourceControl",id:"removefromsourcecontrol",level:3},{value:"GetLatest",id:"getlatest",level:3},{value:"UserAction",id:"useraction",level:3},{value:"AfterUserAction",id:"afteruseraction",level:3},{value:"OnMenuItem",id:"onmenuitem",level:3},{value:"OnPortalCreate",id:"onportalcreate",level:3},{value:"GetPortalPageOptions",id:"getportalpageoptions",level:3}];function c(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"studiosourcecontrolbase",children:"%Studio.SourceControl.Base"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Class %Studio.SourceControl.Base Extends %Studio.Extension.Base [ System = 4 ]\n"})}),"\n",(0,s.jsx)(t.p,{children:"This class is kept to provide an interface to the %Studio.Extension.Base class which provides the general Studio extension interface."}),"\n",(0,s.jsx)(t.p,{children:"Subclass from this and implement the methods you need for your source control system."}),"\n",(0,s.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsx)(t.h3,{id:"flags",children:"Flags"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Parameter Flags As STRING = 1111;\n"})}),"\n",(0,s.jsx)(t.p,{children:"Used to control which dialogs appear in Studio. If the position is '1' then this dialog will appear and if it is '0' the UserAction will be called to determine what to do. This is included for backward compatibilty. The flags are:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"1 : Present dialog on check in"}),"\n",(0,s.jsx)(t.li,{children:"2 : Present dialog on check out"}),"\n",(0,s.jsx)(t.li,{children:"3 : Ask to add new item to source control"}),"\n",(0,s.jsx)(t.li,{children:"4 : Ask to remove deleted item from source control"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,s.jsx)(t.h3,{id:"menu",children:"Menu"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"XData Menu\n"})}),"\n",(0,s.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(t.h3,{id:"checkin",children:"CheckIn"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Method CheckIn(InternalName As %String, Description As %String = "") As %Status\n'})}),"\n",(0,s.jsx)(t.p,{children:"Check this routine/class/csp file into source control."}),"\n",(0,s.jsx)(t.h3,{id:"checkout",children:"CheckOut"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Method CheckOut(InternalName As %String, Description As %String = "") As %Status\n'})}),"\n",(0,s.jsx)(t.p,{children:"Check this routine/class/csp file out of source control."}),"\n",(0,s.jsx)(t.h3,{id:"undocheckout",children:"UndoCheckout"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method UndoCheckout(InternalName As %String) As %Status\n"})}),"\n",(0,s.jsx)(t.p,{children:"Undo the checkout of this item."}),"\n",(0,s.jsx)(t.h3,{id:"addtosourcecontrol",children:"AddToSourceControl"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Method AddToSourceControl(InternalName As %String, Description As %String = "") As %Status\n'})}),"\n",(0,s.jsx)(t.p,{children:"Called to add this item to source control."}),"\n",(0,s.jsx)(t.h3,{id:"removefromsourcecontrol",children:"RemoveFromSourceControl"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Method RemoveFromSourceControl(InternalName As %String, Description As %String = "") As %Status\n'})}),"\n",(0,s.jsx)(t.p,{children:"Called to delete this item from source control."}),"\n",(0,s.jsx)(t.h3,{id:"getlatest",children:"GetLatest"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method GetLatest(InternalName As %String) As %Status\n"})}),"\n",(0,s.jsx)(t.p,{children:"Get the latest version of this file from source control."}),"\n",(0,s.jsx)(t.h3,{id:"useraction",children:"UserAction"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method UserAction(Type As %Integer, Name As %String, InternalName As %String, SelectedText As %String, ByRef Action As %String, ByRef Target As %String, ByRef Msg As %String, ByRef Reload As %Boolean) As %Status\n"})}),"\n",(0,s.jsx)(t.h3,{id:"afteruseraction",children:"AfterUserAction"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Method AfterUserAction(Type As %Integer, Name As %String, InternalName As %String, Answer As %Integer, Msg As %String = "", ByRef Reload As %Boolean) As %Status\n'})}),"\n",(0,s.jsx)(t.h3,{id:"onmenuitem",children:"OnMenuItem"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:"Method OnMenuItem(MenuName As %String, InternalName As %String, SelectedText As %String, ByRef Enabled As %Boolean, ByRef DisplayName As %String) As %Status\n"})}),"\n",(0,s.jsx)(t.h3,{id:"onportalcreate",children:"OnPortalCreate"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'Method OnPortalCreate(pUserData As %ZEN.proxyObject = "") As %Status [ CodeMode = objectgenerator ]\n'})}),"\n",(0,s.jsx)(t.p,{children:"Callback invoked when the portal-based Source Control hooks instantiate the source control class. Operations that occur in this callback should be lightweight as the source control class needs to be instantiated afresh every time a source control action is performed."}),"\n",(0,s.jsx)(t.h3,{id:"getportalpageoptions",children:"GetPortalPageOptions"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod GetPortalPageOptions(pPageURL As %String = "", Output pOptions As %String)\n'})}),"\n",(0,s.jsx)(t.p,{children:"API to give developers control over the HTML environment. Used when viewing a source control popup for the URL in pPageURL from the portal. Developers can specify the following keys in pOptions:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["IECompatibility - set ",(0,s.jsx)(t.code,{children:'pOptions("IECompatibility")'})," to 1 to permit IE compatibility mode when rendering the URL. The default behaviour is to force IE to use its most recent rendering engine."]}),"\n",(0,s.jsxs)(t.li,{children:["CSSLevel - set ",(0,s.jsx)(t.code,{children:'pOptions("CSSLevel")'})," to 2 to force HTML 4 output, or 3 to force HTML 5 output. The default behaviour is to use HTML5 output when the browser can support it. Note that the values follow the semantics for the %OnDetermineCSSLevel() callback implemented in %ZEN.Component.abstractPage."]}),"\n"]})]})}function a(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>i});var s=n(96540);const o={},r=s.createContext(o);function l(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);