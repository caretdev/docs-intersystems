"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[22160],{56484:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>c,default:()=>o,frontMatter:()=>a,toc:()=>i});var s=t(74848),l=t(28453);const a={pagination_prev:null,pagination_next:null},c="%DeepSee.Component.coverView",i=[{value:"Parameters",id:"parameters",level:2},{value:"NAMESPACE",id:"namespace",level:3},{value:"DEFAULTENCLOSINGCLASS",id:"defaultenclosingclass",level:3},{value:"Properties",id:"properties",level:2},{value:"onselect",id:"onselect",level:3},{value:"onactivate",id:"onactivate",level:3},{value:"ongetdetails",id:"ongetdetails",level:3},{value:"selectedIndex",id:"selectedindex",level:3},{value:"designMode",id:"designmode",level:3},{value:"defaultCategory",id:"defaultcategory",level:3},{value:"zoomLevel",id:"zoomlevel",level:3},{value:"selectedElement",id:"selectedelement",level:3},{value:"onselectelement",id:"onselectelement",level:3},{value:"ongetdata",id:"ongetdata",level:3},{value:"ongetitemcontext",id:"ongetitemcontext",level:3},{value:"backgroundStyle",id:"backgroundstyle",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"Style",id:"style",level:3},{value:"Methods",id:"methods",level:2},{value:"%DrawHTML",id:"drawhtml",level:3},{value:"renderContents",id:"rendercontents",level:3},{value:"getCoverArt",id:"getcoverart",level:3},{value:"getText",id:"gettext",level:3},{value:"itemClick",id:"itemclick",level:3},{value:"getCoverObject",id:"getcoverobject",level:3},{value:"setCoverObject",id:"setcoverobject",level:3},{value:"selectCover",id:"selectcover",level:3},{value:"activateCover",id:"activatecover",level:3},{value:"evalSpec",id:"evalspec",level:3},{value:"specToString",id:"spectostring",level:3},{value:"setProperty",id:"setproperty",level:3},{value:"notifyViewHandler",id:"notifyviewhandler",level:3},{value:"selectElement",id:"selectelement",level:3},{value:"moveSelector",id:"moveselector",level:3},{value:"selectorMouseDown",id:"selectormousedown",level:3},{value:"escapeJS",id:"escapejs",level:3},{value:"getModel",id:"getmodel",level:3},{value:"showPopup",id:"showpopup",level:3},{value:"hidePopup",id:"hidepopup",level:3},{value:"showActivateButton",id:"showactivatebutton",level:3},{value:"hideActivateButton",id:"hideactivatebutton",level:3},{value:"parseStyle",id:"parsestyle",level:3}];function r(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"deepseecomponentcoverview",children:"%DeepSee.Component.coverView"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Class %DeepSee.Component.coverView Extends (%ZEN.Component.component, %ZEN.Component.dataView) [ System = 3 ]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Cover view component.",(0,s.jsx)(n.br,{}),'\nThis provides an way to display a set of options as "book covers". Each cover is defined by a javaScript object or its string equivalent in JSON format.']}),"\n",(0,s.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsx)(n.h3,{id:"namespace",children:"NAMESPACE"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter NAMESPACE = "http://www.intersystems.com/deepsee";\n'})}),"\n",(0,s.jsx)(n.h3,{id:"defaultenclosingclass",children:"DEFAULTENCLOSINGCLASS"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter DEFAULTENCLOSINGCLASS = "dsCoverDiv";\n'})}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(n.h3,{id:"onselect",children:"onselect"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property onselect As %ZEN.Datatype.eventHandler;\n"})}),"\n",(0,s.jsx)(n.p,{children:"onselect event handler: If defined, this event is fired when the user clicks on a cover."}),"\n",(0,s.jsx)(n.h3,{id:"onactivate",children:"onactivate"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property onactivate As %ZEN.Datatype.eventHandler;\n"})}),"\n",(0,s.jsx)(n.p,{children:"onactivate event handler: If defined, this event is fired when the user invokes an action on a cover."}),"\n",(0,s.jsx)(n.h3,{id:"ongetdetails",children:"ongetdetails"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property ongetdetails As %ZEN.Datatype.eventHandler;\n"})}),"\n",(0,s.jsx)(n.p,{children:"ongetdetails event handler: If defined, this event is fired in order to get a list of popup details for a cover."}),"\n",(0,s.jsx)(n.h3,{id:"selectedindex",children:"selectedIndex"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property selectedIndex As %ZEN.Datatype.integer [ InitialExpression = -1 ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"Index (0-based) of selected cover."}),"\n",(0,s.jsx)(n.h3,{id:"designmode",children:"designMode"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property designMode As %ZEN.Datatype.boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"True for cover editor page."}),"\n",(0,s.jsx)(n.h3,{id:"defaultcategory",children:"defaultCategory"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'Property defaultCategory As %ZEN.Datatype.caption [ InitialExpression = {$$$Text("Others","%DeepSee")} ];\n'})}),"\n",(0,s.jsx)(n.p,{children:"Category to use for items with no category."}),"\n",(0,s.jsx)(n.h3,{id:"zoomlevel",children:"zoomLevel"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'Property zoomLevel As %ZEN.Datatype.integer(XMLPROJECTION = "none", ZENSETTING = 0) [ InitialExpression = 1 ];\n'})}),"\n",(0,s.jsx)(n.p,{children:"Zoom level (1,2 or 3)."}),"\n",(0,s.jsx)(n.h3,{id:"selectedelement",children:"selectedElement"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property selectedElement As %ZEN.Datatype.string(ZENSETTING = 0);\n"})}),"\n",(0,s.jsx)(n.p,{children:"Used by cover editor."}),"\n",(0,s.jsx)(n.h3,{id:"onselectelement",children:"onselectelement"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property onselectelement As %ZEN.Datatype.eventHandler;\n"})}),"\n",(0,s.jsx)(n.p,{children:"onselectelement event handler: Design mode only. If defined, this event is fired when the user clicks on a cover element."}),"\n",(0,s.jsx)(n.h3,{id:"ongetdata",children:"ongetdata"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property ongetdata As %ZEN.Datatype.eventHandler;\n"})}),"\n",(0,s.jsx)(n.p,{children:"ongetdata event handler: If defined, this event is returns an array of items to be displayed within this component."}),"\n",(0,s.jsx)(n.h3,{id:"ongetitemcontext",children:"ongetitemcontext"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property ongetitemcontext As %ZEN.Datatype.eventHandler;\n"})}),"\n",(0,s.jsx)(n.p,{children:"ongetitemcontext event handler: If defined, this returns a context object for the given cover. This is used to resolve $var references within covers."}),"\n",(0,s.jsx)(n.h3,{id:"backgroundstyle",children:"backgroundStyle"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property backgroundStyle As %ZEN.Datatype.style;\n"})}),"\n",(0,s.jsx)(n.p,{children:"Style applied to coverView background and category labels."}),"\n",(0,s.jsx)(n.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,s.jsx)(n.h3,{id:"style",children:"Style"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"XData Style\n"})}),"\n",(0,s.jsx)(n.p,{children:"defines style sheet used by this component"}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h3,{id:"drawhtml",children:"%DrawHTML"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method %DrawHTML()\n"})}),"\n",(0,s.jsx)(n.h3,{id:"rendercontents",children:"renderContents"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod renderContents() [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Client-side method to render this control."}),"\n",(0,s.jsx)(n.h3,{id:"getcoverart",children:"getCoverArt"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod getCoverArt(index, book, popupMode) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:'Get HTML for one book cover. A spec is a ^-delimited string of rendering instructions. Each piece takes the form: "type:header;text:ABC;style:prop:val;" style is always at the end.'}),"\n",(0,s.jsx)(n.h3,{id:"gettext",children:"getText"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod getText(text, context) [ Internal, Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Get text to display. Resolve any $vars using the context array if present."}),"\n",(0,s.jsx)(n.h3,{id:"itemclick",children:"itemClick"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod itemClick(idx) [ Internal, Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"User click on an item."}),"\n",(0,s.jsx)(n.h3,{id:"getcoverobject",children:"getCoverObject"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod getCoverObject(index) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Given its index (0-based), return the book object for a cover."}),"\n",(0,s.jsx)(n.h3,{id:"setcoverobject",children:"setCoverObject"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod setCoverObject(index, book) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Given its index (0-based), set the book object for a cover."}),"\n",(0,s.jsx)(n.h3,{id:"selectcover",children:"selectCover"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod selectCover(index, force) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Select a cover given its index (0-based)."}),"\n",(0,s.jsx)(n.h3,{id:"activatecover",children:"activateCover"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod activateCover(evt, index, action) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Invoke the given action for the given cover."}),"\n",(0,s.jsx)(n.h3,{id:"evalspec",children:"evalSpec"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod evalSpec(spec) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Convert a spec string into a spec object."}),"\n",(0,s.jsx)(n.h3,{id:"spectostring",children:"specToString"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod specToString(specObj) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Convert a display spec back into a json string."}),"\n",(0,s.jsx)(n.h3,{id:"setproperty",children:"setProperty"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod setProperty(property, value, value2) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Set the value of a named property."}),"\n",(0,s.jsx)(n.h3,{id:"notifyviewhandler",children:"notifyViewHandler"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod notifyViewHandler(reason, data1, data2, data3) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Notification that the dataController associated with this dataView has raised an event."}),"\n",(0,s.jsx)(n.h3,{id:"selectelement",children:"selectElement"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod selectElement(which, notify) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Select an element within the cover."}),"\n",(0,s.jsx)(n.h3,{id:"moveselector",children:"moveSelector"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod moveSelector(targetDiv) [ Internal, Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Move the element selector."}),"\n",(0,s.jsx)(n.h3,{id:"selectormousedown",children:"selectorMouseDown"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod selectorMouseDown(evt) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"User has clicked on the element selector."}),"\n",(0,s.jsx)(n.h3,{id:"escapejs",children:"escapeJS"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod escapeJS(str) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Utility method. Escape a javascript string."}),"\n",(0,s.jsx)(n.h3,{id:"getmodel",children:"getModel"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod getModel() [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Get the model used to drive the view."}),"\n",(0,s.jsx)(n.h3,{id:"showpopup",children:"showPopup"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod showPopup(index) [ Internal, Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Show a popup info box for the current item."}),"\n",(0,s.jsx)(n.h3,{id:"hidepopup",children:"hidePopup"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod hidePopup() [ Internal, Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Show a popup info box for the current item."}),"\n",(0,s.jsx)(n.h3,{id:"showactivatebutton",children:"showActivateButton"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod showActivateButton(index) [ Internal, Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Show the activate button for the given cover."}),"\n",(0,s.jsx)(n.h3,{id:"hideactivatebutton",children:"hideActivateButton"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod hideActivateButton(index) [ Internal, Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Hide the activate button for the given cover."}),"\n",(0,s.jsx)(n.h3,{id:"parsestyle",children:"parseStyle"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod parseStyle(style) [ Language = javascript ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Utility method. Split a css value into individual style values. Return an object containing these values."})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var s=t(96540);const l={},a=s.createContext(l);function c(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);