"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[20436],{59796:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>r,default:()=>c,frontMatter:()=>a,toc:()=>l});var i=n(74848),s=n(28453);const a={pagination_prev:null,pagination_next:null},r="%iKnow.DeepSee.BaseKPI",l=[{value:"Parameters",id:"parameters",level:2},{value:"IKDOMAINID",id:"ikdomainid",level:3},{value:"IKCUBENAME",id:"ikcubename",level:3},{value:"IKMEASURENAME",id:"ikmeasurename",level:3},{value:"IKPAGESIZE",id:"ikpagesize",level:3},{value:"IKINCLUDEHIDDENMETADATA",id:"ikincludehiddenmetadata",level:3},{value:"Methods",id:"methods",level:2},{value:"DisplayResult",id:"displayresult",level:3},{value:"GetSelectedColumnValue",id:"getselectedcolumnvalue",level:3},{value:"GetDisplayedValue",id:"getdisplayedvalue",level:3},{value:"GetDomainId",id:"getdomainid",level:3},{value:"GetDomainIdStatic",id:"getdomainidstatic",level:3},{value:"BuildCurrentFilter",id:"buildcurrentfilter",level:3},{value:"BuildCurrentFilterStatic",id:"buildcurrentfilterstatic",level:3},{value:"GetCurrentPage",id:"getcurrentpage",level:3},{value:"ResetPage",id:"resetpage",level:3},{value:"NextPage",id:"nextpage",level:3},{value:"PreviousPage",id:"previouspage",level:3},{value:"%OnGetFilterList",id:"ongetfilterlist",level:3},{value:"%OnGetFilterMembers",id:"ongetfiltermembers",level:3},{value:"%OnDashboardAction",id:"ondashboardaction",level:3},{value:"%OnGetActionList",id:"ongetactionlist",level:3}];function d(e){const t={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"iknowdeepseebasekpi",children:"%iKnow.DeepSee.BaseKPI"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Class %iKnow.DeepSee.BaseKPI Extends %DeepSee.KPI [ Abstract, Deprecated, System = 4 ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"This is the base class for iKnow-based KPIs, offering a number of utility methods to fetch the current filter and query result page settings."}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.em,{children:"For internal use only"})," - use %iKnow.DeepSee.GenericKPI or %iKnow.DeepSee.SourceListFilterKPI instead."]}),"\n",(0,i.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsx)(t.h3,{id:"ikdomainid",children:"IKDOMAINID"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Parameter IKDOMAINID As INTEGER = 1;\n"})}),"\n",(0,i.jsx)(t.p,{children:"Override this parameter to specify the iKnow domain for the KPI's query to access."}),"\n",(0,i.jsx)(t.h3,{id:"ikcubename",children:"IKCUBENAME"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Parameter IKCUBENAME As STRING;\n"})}),"\n",(0,i.jsx)(t.p,{children:"Override this parameter and IKMEASURENAME to specify the iKnow domain linked to a particular iKnow measure for the KPI's query to access."}),"\n",(0,i.jsx)(t.h3,{id:"ikmeasurename",children:"IKMEASURENAME"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Parameter IKMEASURENAME As STRING;\n"})}),"\n",(0,i.jsx)(t.p,{children:"Override this parameter and IKCUBENAME to specify the iKnow domain linked to a particular iKnow measure for the KPI's query to access."}),"\n",(0,i.jsx)(t.h3,{id:"ikpagesize",children:"IKPAGESIZE"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Parameter IKPAGESIZE As INTEGER = 10;\n"})}),"\n",(0,i.jsx)(t.p,{children:"Override this parameter to specify the default page size for the KPI's query. This can be overridden per widget through a filter."}),"\n",(0,i.jsx)(t.h3,{id:"ikincludehiddenmetadata",children:"IKINCLUDEHIDDENMETADATA"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Parameter IKINCLUDEHIDDENMETADATA As BOOLEAN = 0;\n"})}),"\n",(0,i.jsx)(t.p,{children:"Override this parameter to include hidden metadata fields when displaying metadata-based filters for this KPI."}),"\n",(0,i.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(t.h3,{id:"displayresult",children:"DisplayResult"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method DisplayResult(ByRef result, nameIndex As %Integer, ByRef properties) As %Status [ Private ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Utility method to fill up %data and %seriesNames based on an iKnow query result"}),"\n",(0,i.jsx)(t.h3,{id:"getselectedcolumnvalue",children:"GetSelectedColumnValue"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetSelectedColumnValue(pContext As %ZEN.proxyObject, columnIndex As %Integer) As %String\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Retrieves the value of the column identified by ",(0,i.jsx)(t.em,{children:"columnIndex"})," for the row currently selected in the KPI"]}),"\n",(0,i.jsx)(t.h3,{id:"getdisplayedvalue",children:"GetDisplayedValue"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetDisplayedValue(rowIndex As %Integer, columnIndex As %Integer) As %String\n"})}),"\n",(0,i.jsx)(t.p,{children:"Retrieves the cell value currently displayed at a given row and column index."}),"\n",(0,i.jsx)(t.h3,{id:"getdomainid",children:"GetDomainId"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method GetDomainId() As %Integer [ Final, Private ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Shorthand to get the domain ID from an instance context"}),"\n",(0,i.jsx)(t.h3,{id:"getdomainidstatic",children:"GetDomainIdStatic"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod GetDomainIdStatic(pContext As %ZEN.proxyObject = "") As %Integer [ Final, Private ]\n'})}),"\n",(0,i.jsx)(t.p,{children:"Shorthand to get the domain ID from a static context"}),"\n",(0,i.jsx)(t.h3,{id:"buildcurrentfilter",children:"BuildCurrentFilter"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"Method BuildCurrentFilter(Output pSC As %Status) As %iKnow.Filters.Filter [ Final, Private ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Utility method to build an %iKnow.Filters.Filter object based on the current DeepSee dashboard-wide filter settings (fetched from %filterValues). This method will translate all DeepSee filters for which there is a metadata field having the same name as the dimension level referred to in %filterValues, eventually mapped through ^IRIS.IKD.DimFilterMapping"}),"\n",(0,i.jsx)(t.h3,{id:"buildcurrentfilterstatic",children:"BuildCurrentFilterStatic"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod BuildCurrentFilterStatic(ByRef pFilters, Output pSC As %Status) As %iKnow.Filters.Filter [ Final, Private ]\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Utility method to translate the array of DeepSee filter specs in ",(0,i.jsx)(t.em,{children:"pFilters"})," into an iKnow %iKnow.Filters.Filter object. For DeepSee-managed domains, this will result in a %iKnow.DeepSee.MDXFilter object."]}),"\n",(0,i.jsx)(t.h3,{id:"getcurrentpage",children:"GetCurrentPage"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod GetCurrentPage(domainId As %Integer) As %Integer [ Final, Private ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Returns the currently displayed result page (see iKnow query paging)"}),"\n",(0,i.jsx)(t.h3,{id:"resetpage",children:"ResetPage"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod ResetPage(domainId As %Integer) As %Status [ Final, Private ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Resets the current page"}),"\n",(0,i.jsx)(t.h3,{id:"nextpage",children:"NextPage"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod NextPage(pContext As %ZEN.proxyObject) As %Status [ Final, Private ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Advances the current query page by 1"}),"\n",(0,i.jsx)(t.h3,{id:"previouspage",children:"PreviousPage"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod PreviousPage(pContext As %ZEN.proxyObject) As %Status [ Final, Private ]\n"})}),"\n",(0,i.jsx)(t.p,{children:"Decreases the current query page by 1, with a minimum of 1 (first query result page)"}),"\n",(0,i.jsx)(t.h3,{id:"ongetfilterlist",children:"%OnGetFilterList"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %OnGetFilterList(Output pFilters As %List, pDataSourceName As %String = "") As %Status\n'})}),"\n",(0,i.jsx)(t.p,{children:"Implementation of %OnGetFilterList method, inherited from %DeepSee.KPI. Do not invoke directly."}),"\n",(0,i.jsxs)(t.p,{children:["Unless this KPI is linked to a DeepSee-managed domain (through IKCUBENAME and IKMEASURENAME, adds all public metadata fields for this KPIs domain at the end of the ",(0,i.jsx)(t.em,{children:"pFilters"})," list. Also adds a Value and Name column to be controlled through dashboard filters."]}),"\n",(0,i.jsx)(t.h3,{id:"ongetfiltermembers",children:"%OnGetFilterMembers"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %OnGetFilterMembers(pFilter As %String, Output pMembers As %List, pSearchKey As %String = "", pDataSourceName As %String = "") As %Status\n'})}),"\n",(0,i.jsx)(t.p,{children:"Implementation of %OnGetFilterMembers method, inherited from %DeepSee.KPI. Do not invoke directly."}),"\n",(0,i.jsx)(t.p,{children:'When querying for an iKnow metadata-based filter (prefixed with "IK:MDFIELD:"), it will retrieve the available values for that metadata field in the current iKnow domain.'}),"\n",(0,i.jsx)(t.h3,{id:"ondashboardaction",children:"%OnDashboardAction"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %OnDashboardAction(pAction As %String, pContext As %ZEN.proxyObject, pDataSourceName As %String = "") As %Status\n'})}),"\n",(0,i.jsx)(t.p,{children:"Implementation of %OnDashboardAction method, inherited from %DeepSee.KPI. Do not invoke directly."}),"\n",(0,i.jsxs)(t.p,{children:["Takes care of the nextPage and previousPage ",(0,i.jsx)(t.em,{children:"pAction"})," values."]}),"\n",(0,i.jsx)(t.h3,{id:"ongetactionlist",children:"%OnGetActionList"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %OnGetActionList(ByRef pActions As %List, pDataSourceName As %String = "") As %Status\n'})}),"\n",(0,i.jsx)(t.p,{children:"Implementation of %OnGetFilterList method, inherited from %DeepSee.KPI. Do not invoke directly."}),"\n",(0,i.jsx)(t.p,{children:"Adds nextPage and prevPage actions."})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>l});var i=n(96540);const s={},a=i.createContext(s);function r(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);