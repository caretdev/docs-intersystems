"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[43506],{90576:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>r,default:()=>o,frontMatter:()=>l,toc:()=>a});var i=s(74848),t=s(28453);const l={pagination_prev:null,pagination_next:null},r="%CSP.Util.Performance",a=[{value:"Properties",id:"properties",level:2},{value:"Event",id:"event",level:3},{value:"Page",id:"page",level:3},{value:"Day",id:"day",level:3},{value:"Slot",id:"slot",level:3},{value:"Hits",id:"hits",level:3},{value:"Globals",id:"globals",level:3},{value:"Lines",id:"lines",level:3},{value:"GlobalsPerHit",id:"globalsperhit",level:3},{value:"LinesPerHit",id:"linesperhit",level:3},{value:"MaxTime",id:"maxtime",level:3},{value:"MinTime",id:"mintime",level:3},{value:"TotalTime",id:"totaltime",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"csputilperformance",children:"%CSP.Util.Performance"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Class %CSP.Util.Performance Extends %Persistent [ StorageStrategy = CspPerformance, System = 4 ]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This class is designed to map an existing global named   ",(0,i.jsx)(n.strong,{children:'^["%SYS"]ISCcspPerformance'}),"  which contains data about the CSP/ZEN Performance as long as the ",(0,i.jsx)(n.strong,{children:"PAGETIMING parameter is set to 1"})," in the page. It contais data about each time a CSP/ZEN page is executed: Day, Time Slot, Hits, Global References, Lines Executed, and Maximum, Minimum and Total Execution Time. This class will allow SQL access to the data. Some sample queries are provided. One step further will be DeepSee enable it, to be able to use DeepSee against this data."]}),"\n",(0,i.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(n.h3,{id:"event",children:"Event"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property Event As %String(TRUNCATE = 1);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Indicates the type of the event (currently there is only one event named 'Page')"}),"\n",(0,i.jsx)(n.h3,{id:"page",children:"Page"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property Page As %String(MAXLEN = 256, TRUNCATE = 1);\n"})}),"\n",(0,i.jsx)(n.p,{children:"The full CSP page name, includes the application name"}),"\n",(0,i.jsx)(n.h3,{id:"day",children:"Day"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property Day As %String(TRUNCATE = 1);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Date in YYYY-MM-DD format"}),"\n",(0,i.jsx)(n.h3,{id:"slot",children:"Slot"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property Slot As %Integer;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The particular Slot within the Day the hit occured The total number of Time Slots in a day is defined in the page with the ",(0,i.jsx)(n.strong,{children:"TIMINGSLOTS parameter"})]}),"\n",(0,i.jsx)(n.h3,{id:"hits",children:"Hits"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property Hits As %Numeric(SCALE = 0);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Number of times the page was executed"}),"\n",(0,i.jsx)(n.h3,{id:"globals",children:"Globals"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property Globals As %Numeric(SCALE = 0);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Number of global references (read/write)"}),"\n",(0,i.jsx)(n.h3,{id:"lines",children:"Lines"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property Lines As %Numeric(SCALE = 0);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Number of lines of COS code executed"}),"\n",(0,i.jsx)(n.h3,{id:"globalsperhit",children:"GlobalsPerHit"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property GlobalsPerHit As %Integer [ Calculated, SqlComputeCode = { set {GlobalsPerHit}=({Globals}/{Hits})}, SqlComputed ];\n"})}),"\n",(0,i.jsx)(n.h3,{id:"linesperhit",children:"LinesPerHit"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property LinesPerHit As %Integer [ Calculated, SqlComputeCode = { set {LinesPerHit}=({Lines}/{Hits})}, SqlComputed ];\n"})}),"\n",(0,i.jsx)(n.h3,{id:"maxtime",children:"MaxTime"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property MaxTime As %Numeric(SCALE = 6);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Maximum Page execution time"}),"\n",(0,i.jsx)(n.h3,{id:"mintime",children:"MinTime"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property MinTime As %Numeric(SCALE = 6);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Minimum Page execution time"}),"\n",(0,i.jsx)(n.h3,{id:"totaltime",children:"TotalTime"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property TotalTime As %Numeric(SCALE = 6);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Total accumulated Page execution time"})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var i=s(96540);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);