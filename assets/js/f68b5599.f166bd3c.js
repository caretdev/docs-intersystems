"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[37713],{25219:(e,s,n)=>{n.r(s),n.d(s,{contentTitle:()=>r,default:()=>o,frontMatter:()=>l,toc:()=>i});var t=n(74848),a=n(28453);const l={pagination_prev:null,pagination_next:null},r="%Net.Remote.Utility",i=[{value:"Methods",id:"methods",level:2},{value:"GetAllClassesExecute",id:"getallclassesexecute",level:3},{value:"GetAllClassesFetch",id:"getallclassesfetch",level:3},{value:"GetAllClassesClose",id:"getallclassesclose",level:3},{value:"RunCommandViaCPIPE",id:"runcommandviacpipe",level:3},{value:"RunCommandViaZF",id:"runcommandviazf",level:3},{value:"CheckGateway",id:"checkgateway",level:3},{value:"IsServerLocal",id:"isserverlocal",level:3},{value:"CheckLocalPortFree",id:"checklocalportfree",level:3},{value:"IsEnsembleNamespace",id:"isensemblenamespace",level:3},{value:"GeneratePassphrase",id:"generatepassphrase",level:3},{value:"RecordPassphrase",id:"recordpassphrase",level:3},{value:"ClearPassphrase",id:"clearpassphrase",level:3},{value:"GetPassphrase",id:"getpassphrase",level:3},{value:"toHex",id:"tohex",level:3},{value:"getAuthenticationToken",id:"getauthenticationtoken",level:3}];function c(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"netremoteutility",children:"%Net.Remote.Utility"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Class %Net.Remote.Utility Extends %RegisteredObject [ System = 4 ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"This class is for InterSystems internal use. Helper methods for %Net.Remote classes."}),"\n",(0,t.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(s.h3,{id:"getallclassesexecute",children:"GetAllClassesExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetAllClassesExecute(ByRef qHandle As %Binary, pFilename As %String, pServer As %String, pPort As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"This query returns all classes found inside pFilename (passed to Execute() as the 1st argument). Must also pass the name/IP of the server (2nd argument) and port (3rd argument) of a running Object Gateway Server."}),"\n",(0,t.jsx)(s.h3,{id:"getallclassesfetch",children:"GetAllClassesFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetAllClassesFetch(ByRef qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status [ PlaceAfter = GetAllClassesExecute ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"getallclassesclose",children:"GetAllClassesClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetAllClassesClose(ByRef qHandle As %Binary) As %Status [ PlaceAfter = GetAllClassesExecute ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"runcommandviacpipe",children:"RunCommandViaCPIPE"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod RunCommandViaCPIPE(pCmd As %String, Output pDevice As %String, Output pOutput As %String, pTimeoutOpen As %Integer = 10, pTimeoutRead As %Integer = 5, ByRef pCmdArgs, ByRef pEnvVars) As %Status\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Run a command using a CPIPE device. The first unused CPIPE device is allocated and returned in pDevice. Upon exit the device is open; it is up to the caller to close that device when done with it.",(0,t.jsx)(s.br,{}),"\npTimeoutOpen indicates how long to wait for the initial OPEN and pTimeoutRead indicates how long to wait between reading the output chunks.",(0,t.jsx)(s.br,{}),"\nNote that CPIPE (and PIPE) devices are supported on Unix and Windows, but not on VMS. If this method is invoked on an instance installed on VMS, execution flow will be diverted to method RunCommandViaZF which uses a different technique."]}),"\n",(0,t.jsx)(s.h3,{id:"runcommandviazf",children:"RunCommandViaZF"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod RunCommandViaZF(pCmd As %String, Output pTempFileName As %String, Output pOutput As %String, pOpenTimeout As %Integer = 5, pDeleteTempFile As %Boolean = 1, Output pRetCode As %String, ByRef pCmdArgs, pAsynchronous As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Run a command using $ZF(-100) and an external temporary file to store the command output.",(0,t.jsx)(s.br,{}),"\nIf pDeleteTempFile is 0 (false), the temporary file is not deleted; in this case, it is up to the caller to delete it when done with it."]}),"\n",(0,t.jsx)(s.h3,{id:"checkgateway",children:"CheckGateway"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod CheckGateway(pServer As %String, pPort As %String, pVerbose As %Boolean = 0, pPing As %Boolean = 1, pInterface As %String = "") As %Boolean\n'})}),"\n",(0,t.jsxs)(s.p,{children:["Check if Gateway is running and optionally if it is responding to PING.",(0,t.jsx)(s.br,{}),"\nSame as method ##class(%Net.Remote.Service).IsGatewayRunning(pServer, pPort, pVerbose, pPing, pInterface)."]}),"\n",(0,t.jsx)(s.h3,{id:"isserverlocal",children:"IsServerLocal"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsServerLocal(pServer As %String) As %Boolean\n"})}),"\n",(0,t.jsx)(s.p,{children:"Check if the server address or name corresponds to the local machine."}),"\n",(0,t.jsx)(s.h3,{id:"checklocalportfree",children:"CheckLocalPortFree"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod CheckLocalPortFree(host As %String = "127.0.0.1", port As %Integer, interface As %String = "") As %Boolean [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"This method tries to detect if a local port is in use. It does not check that the: - host is local - port is within the TCP range [0,65535]"}),"\n",(0,t.jsx)(s.h3,{id:"isensemblenamespace",children:"IsEnsembleNamespace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsEnsembleNamespace() As %Boolean\n"})}),"\n",(0,t.jsx)(s.p,{children:"Checks for production-enabled namespace."}),"\n",(0,t.jsx)(s.h3,{id:"generatepassphrase",children:"GeneratePassphrase"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod GeneratePassphrase(pName As %String = "", pNoPassphrase As %Boolean = 0) As %String\n'})}),"\n",(0,t.jsx)(s.p,{children:"Generates a Pass phrase for a given Port and records. It returns the Pass phrase to use on the Command Line Uses pNoPassPhrase to clear a previous PassPhrase for this port"}),"\n",(0,t.jsx)(s.h3,{id:"recordpassphrase",children:"RecordPassphrase"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod RecordPassphrase(pName As %String = "", pPassphraseList As %String) As %Boolean [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"This method is deprecated"}),"\n",(0,t.jsx)(s.h3,{id:"clearpassphrase",children:"ClearPassphrase"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod ClearPassphrase(pName As %String = "") [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Clears recording of the last tPassPhrase"}),"\n",(0,t.jsx)(s.h3,{id:"getpassphrase",children:"GetPassphrase"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod GetPassphrase(pName As %String = "", Output pPhrase As %Integer = 0, Output pPhraseHex As %String = "") As %Boolean [ Internal ]\n'})}),"\n",(0,t.jsx)(s.h3,{id:"tohex",children:"toHex"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod toHex(pValue As %String = "", pExactLengh As %Integer = 8, pNormalOrder As %Boolean = 1) As %String [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Internal helper method for GeneratePassphrase. For InterSystems use."}),"\n",(0,t.jsx)(s.h3,{id:"getauthenticationtoken",children:"getAuthenticationToken"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod getAuthenticationToken() As %String\n"})})]})}function o(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>i});var t=n(96540);const a={},l=t.createContext(a);function r(e){const s=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(l.Provider,{value:s},e.children)}}}]);