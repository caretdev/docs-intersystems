"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[43311],{12932:(e,t,s)=>{s.r(t),s.d(t,{contentTitle:()=>n,default:()=>d,frontMatter:()=>i,toc:()=>l});var r=s(74848),a=s(28453);const i={pagination_prev:null,pagination_next:null},n="%DeepSee.Dashboard.Utils",l=[{value:"Methods",id:"methods",level:2},{value:"%OpenDashboard",id:"opendashboard",level:3},{value:"%DashboardExists",id:"dashboardexists",level:3},{value:"%DeleteDashboard",id:"deletedashboard",level:3},{value:"%GetDashboardActionList",id:"getdashboardactionlist",level:3},{value:"%GetKpiFilterCaption",id:"getkpifiltercaption",level:3},{value:"%GetFiltersForDataSource",id:"getfiltersfordatasource",level:3},{value:"%GetPivotVariablesForDataSource",id:"getpivotvariablesfordatasource",level:3},{value:"%GetPropertiesForDataSource",id:"getpropertiesfordatasource",level:3},{value:"%GetListingsForDataSource",id:"getlistingsfordatasource",level:3},{value:"%GetCaptionForTargetProperty",id:"getcaptionfortargetproperty",level:3},{value:"%GetMembersForFilter",id:"getmembersforfilter",level:3},{value:"%DoesFilterSupportRange",id:"doesfiltersupportrange",level:3},{value:"%GetMemberDimensionType",id:"getmemberdimensiontype",level:3},{value:"%GetWidgetClasses",id:"getwidgetclasses",level:3},{value:"%GetWidgetClass",id:"getwidgetclass",level:3},{value:"%GetWidgetTemplateList",id:"getwidgettemplatelist",level:3},{value:"EnumerateFiltersExecute",id:"enumeratefiltersexecute",level:3},{value:"EnumerateFiltersFetch",id:"enumeratefiltersfetch",level:3},{value:"EnumerateFiltersClose",id:"enumeratefiltersclose",level:3},{value:"%GetThemeList",id:"getthemelist",level:3},{value:"%SaveTheme",id:"savetheme",level:3},{value:"%DeleteTheme",id:"deletetheme",level:3},{value:"%GetChartTypeInfo",id:"getcharttypeinfo",level:3}];function o(e){const t={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"deepseedashboardutils",children:"%DeepSee.Dashboard.Utils"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"Class %DeepSee.Dashboard.Utils Extends %RegisteredObject [ System = 4 ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Utility methods for DeepSee Dashboards."}),"\n",(0,r.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(t.h3,{id:"opendashboard",children:"%OpenDashboard"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %OpenDashboard(pFullName As %String, Output pStatus As %Status) As Definition\n"})}),"\n",(0,r.jsx)(t.p,{children:"Open the dashboard definition with the given full name."}),"\n",(0,r.jsx)(t.h3,{id:"dashboardexists",children:"%DashboardExists"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %DashboardExists(pFullName As %String, Output pID As %String) As %Integer\n"})}),"\n",(0,r.jsx)(t.p,{children:"Check if a there is a dashboard definition with the given name. Returns 0 if the item does not exist; returns 1 if it exists and is visible to the current user; returns 2 if it exists but is not visible to the current user."}),"\n",(0,r.jsx)(t.h3,{id:"deletedashboard",children:"%DeleteDashboard"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %DeleteDashboard(pFullName As %String) As %Boolean\n"})}),"\n",(0,r.jsx)(t.p,{children:"Delete the dashboard definition with the given full name."}),"\n",(0,r.jsx)(t.h3,{id:"getdashboardactionlist",children:"%GetDashboardActionList"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %GetDashboardActionList(Output pAction As %String, pDataSource As %String = "") As %Status\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Return list of possible dashboard actions. This takes the form:",(0,r.jsx)(t.br,{}),"\npAction(n)=$LB(name,caption,tooltip,type)",(0,r.jsx)(t.br,{}),"\ntype specifies the data associated with the action (if any). This value is passed along as the targetProperty of the action.",(0,r.jsx)(t.br,{}),'\n"filter", the action controls the given filter.',(0,r.jsx)(t.br,{}),'\n"url", the action requires a url.',(0,r.jsx)(t.br,{}),'\n"dashboard", the action requires a dashboard.']}),"\n",(0,r.jsxs)(t.p,{children:["The control for each action is determined by the %CreateControls method in the DashboardViewer class.",(0,r.jsx)(t.br,{}),"\nThe actions are dispatched to widget by the dashboardEventHandler method in the DashboardViewer class."]}),"\n",(0,r.jsx)(t.h3,{id:"getkpifiltercaption",children:"%GetKpiFilterCaption"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %GetKpiFilterCaption(pKPIName, pSpec) As %String [ ZenMethod ]\n"})}),"\n",(0,r.jsx)(t.p,{children:"Lookup a filter caption for a KPI"}),"\n",(0,r.jsx)(t.h3,{id:"getfiltersfordatasource",children:"%GetFiltersForDataSource"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %GetFiltersForDataSource(pDataSource As %String, Output pFilters As %List, ByRef pVisited, pParent As %String = "", pSearchKey As %String = "", pMaxDepth As %Integer = 3, pLevel As %Integer = 1) As %Status\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Return list of possible filters for a given dashboard data source. This takes the form:",(0,r.jsx)(t.br,{}),"\npFilters(n)=$LB(caption,value,type)",(0,r.jsx)(t.br,{}),'\ntype is the dimension type: "" (data),"year","month","day", etc.',(0,r.jsx)(t.br,{}),"\npVisited is used to prevent cycles when visiting related cubes.",(0,r.jsx)(t.br,{}),"\npMaxDepth is maximum depth of relations to follow. A value of 0 means there is no limit to the depth of relationships."]}),"\n",(0,r.jsx)(t.h3,{id:"getpivotvariablesfordatasource",children:"%GetPivotVariablesForDataSource"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %GetPivotVariablesForDataSource(pDataSource As %String, Output pVariables As %List) As %Status\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Return list of possible pivot variables for a given dashboard data source. This takes the form:",(0,r.jsx)(t.br,{}),"\npVariables(n) = $LB(name,caption,defValue,context)"]}),"\n",(0,r.jsx)(t.h3,{id:"getpropertiesfordatasource",children:"%GetPropertiesForDataSource"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %GetPropertiesForDataSource(pDataSource As %String, Output pProperties As %List) As %Status\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Return list of possible data properties for a given dashboard data source. This takes the form:",(0,r.jsx)(t.br,{}),"\npProperties(n)=name"]}),"\n",(0,r.jsx)(t.h3,{id:"getlistingsfordatasource",children:"%GetListingsForDataSource"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %GetListingsForDataSource(pDataSource As %String, Output pListings As %List, pType As %String = "") As %Status\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Return list of possible listings for a given dashboard data source. This takes the form:",(0,r.jsx)(t.br,{}),"\npListings(n)=$LB(caption,value,type)"]}),"\n",(0,r.jsx)(t.h3,{id:"getcaptionfortargetproperty",children:"%GetCaptionForTargetProperty"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %GetCaptionForTargetProperty(pDataSource As %String, pTarget As %String, Output pCaption As %String) As %Status\n"})}),"\n",(0,r.jsx)(t.p,{children:"Return the caption for the given target property within the given data source. This is used to translate the logical name for a filter to its display value."}),"\n",(0,r.jsx)(t.h3,{id:"getmembersforfilter",children:"%GetMembersForFilter"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %GetMembersForFilter(pDataSource As %String, pFilter As %String, Output pMembers As %List, Output pDefaultValue As %String, pSearchKey As %String = "", ByRef pRelatedFilters, pCalcOnly As %Boolean = 0, pRangeMode As %Boolean = 0, ByRef pPreSelected As %String) As %Status\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Return list of possible filter member values for a given dashboard data source and filter. This takes the form:",(0,r.jsx)(t.br,{}),"\npMembers(n)=$LB(text,value,[description])",(0,r.jsx)(t.br,{}),"\nIf pSearchKey is provided, then only return members that match the search key. If pRelatedFilters is provided, it is an array of other filter values to use to restrict the set of members. It takes the form:",(0,r.jsx)(t.br,{}),"\npRelatedFilters(spec) = key",(0,r.jsx)(t.br,{}),"\nIf pCalcOnly is true, then only return calculated members.",(0,r.jsx)(t.br,{}),"\nIf pRangeMode is true, then only return members that are valid for range selection (used by searchBox).",(0,r.jsx)(t.br,{}),"\nIf pPreSelected is a list of selected values; always display these items."]}),"\n",(0,r.jsx)(t.h3,{id:"doesfiltersupportrange",children:"%DoesFilterSupportRange"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %DoesFilterSupportRange(pDataSource As %String, pFilter As %String, Output pSupportsRange As %Boolean) As %Status\n"})}),"\n",(0,r.jsx)(t.p,{children:"Tests if a given filter supports range selection (used by the searchBox control)."}),"\n",(0,r.jsx)(t.h3,{id:"getmemberdimensiontype",children:"%GetMemberDimensionType"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %GetMemberDimensionType(pDataSource As %String, pFilter As %String, Output pType As %String, Output pMemberClass As %String, Output pOtherInfo As %String) As %Status\n"})}),"\n",(0,r.jsx)(t.p,{children:"Find the dimension type for a given dashboard data source and filter. Also returns the member class."}),"\n",(0,r.jsx)(t.h3,{id:"getwidgetclasses",children:"%GetWidgetClasses"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %GetWidgetClasses(Output pInfo As %String) As %Status\n"})}),"\n",(0,r.jsx)(t.p,{children:"Return an array of all available widget types pInfo(n) = $LB(name,caption,class,icon)"}),"\n",(0,r.jsx)(t.h3,{id:"getwidgetclass",children:"%GetWidgetClass"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %GetWidgetClass(pWidgetType As %String) As %String\n"})}),"\n",(0,r.jsx)(t.p,{children:"Find the class name for the given widget type."}),"\n",(0,r.jsx)(t.h3,{id:"getwidgettemplatelist",children:"%GetWidgetTemplateList"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %GetWidgetTemplateList(Output pList As %String, Output pCount As %Integer, pMaxItems As %Integer = "") As %Status\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Return an array of widget templates visible to the current user. This list is in the form:",(0,r.jsx)(t.br,{}),"\npList(n) = id"]}),"\n",(0,r.jsx)(t.h3,{id:"enumeratefiltersexecute",children:"EnumerateFiltersExecute"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod EnumerateFiltersExecute(ByRef qHandle As %Binary, pSearchKey As %String = "", pDataSource As %String = "") As %Status\n'})}),"\n",(0,r.jsx)(t.p,{children:"Returns a list of filters for a data source."}),"\n",(0,r.jsx)(t.h3,{id:"enumeratefiltersfetch",children:"EnumerateFiltersFetch"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod EnumerateFiltersFetch(ByRef qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status [ PlaceAfter = EnumerateFiltersExecute ]\n"})}),"\n",(0,r.jsx)(t.h3,{id:"enumeratefiltersclose",children:"EnumerateFiltersClose"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod EnumerateFiltersClose(ByRef qHandle As %Binary) As %Status [ PlaceAfter = EnumerateFiltersExecute ]\n"})}),"\n",(0,r.jsx)(t.h3,{id:"getthemelist",children:"%GetThemeList"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %GetThemeList(Output pList As %String, Output pCount As %Integer, pMaxItems As %Integer = "") As %Status\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Return an array of saved themes visible to the current user. This list is in the form:",(0,r.jsx)(t.br,{}),"\npList(n) = $LG(id,fullName,name)"]}),"\n",(0,r.jsx)(t.h3,{id:"savetheme",children:"%SaveTheme"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %SaveTheme(pThemeName As %String, pOverrides As %ZEN.proxyObject) As %Status\n"})}),"\n",(0,r.jsx)(t.p,{children:'Save a set of style overrides to the given "theme".'}),"\n",(0,r.jsx)(t.h3,{id:"deletetheme",children:"%DeleteTheme"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %DeleteTheme(pThemeName As %String) As %Status\n"})}),"\n",(0,r.jsx)(t.p,{children:'Delete the given "theme".'}),"\n",(0,r.jsx)(t.h3,{id:"getcharttypeinfo",children:"%GetChartTypeInfo"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %GetChartTypeInfo(pParentWidgetClass As %String, Output pList As %String)\n"})})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>n,x:()=>l});var r=s(96540);const a={},i=r.createContext(a);function n(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:n(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);