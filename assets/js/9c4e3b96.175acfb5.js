"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[16440],{76710:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>a,default:()=>o,frontMatter:()=>l,toc:()=>c});var n=t(74848),r=t(28453);const l={pagination_prev:null,pagination_next:null},a="%SYSTEM.Monitor",c=[{value:"Methods",id:"methods",level:2},{value:"State",id:"state",level:3},{value:"SetState",id:"setstate",level:3},{value:"Alerts",id:"alerts",level:3},{value:"ClearAlerts",id:"clearalerts",level:3},{value:"Clear",id:"clear",level:3},{value:"GetAlerts",id:"getalerts",level:3}];function i(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"systemmonitor",children:"%SYSTEM.Monitor"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Class %SYSTEM.Monitor Extends Help [ Abstract, System = 4 ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"The %SYSTEM.Monitor class provides an interface for accessing the System Monitor. You can Get/Set/Clear the system 'State' and 'Alerts' counter."}),"\n",(0,n.jsxs)(s.p,{children:["You can use it via the special ",(0,n.jsx)(s.strong,{children:"$SYSTEM"})," object."]}),"\n",(0,n.jsx)(s.p,{children:"You can call help to get a list of all entrypoints:"}),"\n",(0,n.jsx)(s.p,{children:"Do $SYSTEM.Monitor.Help()"}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(s.h3,{id:"state",children:"State"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod State() As %Integer\n"})}),"\n",(0,n.jsx)(s.p,{children:"Returns the system state as an integer."}),"\n",(0,n.jsxs)(s.p,{children:["-1: System is hung",(0,n.jsx)(s.br,{}),"\n0: System state is OK",(0,n.jsx)(s.br,{}),"\n1: System state is Warning",(0,n.jsx)(s.br,{}),"\n2: System state is Alert"]}),"\n",(0,n.jsx)(s.h3,{id:"setstate",children:"SetState"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SetState(State As %Integer) As %Integer\n"})}),"\n",(0,n.jsx)(s.p,{children:"Set the system state. See State() for allowed integer values."}),"\n",(0,n.jsx)(s.h3,{id:"alerts",children:"Alerts"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Alerts() As %Integer\n"})}),"\n",(0,n.jsx)(s.p,{children:"Returns the number of alerts posted to messages.log."}),"\n",(0,n.jsx)(s.h3,{id:"clearalerts",children:"ClearAlerts"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ClearAlerts() As %Integer\n"})}),"\n",(0,n.jsx)(s.p,{children:"Clears the alerts counter."}),"\n",(0,n.jsx)(s.h3,{id:"clear",children:"Clear"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Clear() As %Integer\n"})}),"\n",(0,n.jsx)(s.p,{children:"Clears the alerts counter and sets the system state = 0 (OK)."}),"\n",(0,n.jsx)(s.h3,{id:"getalerts",children:"GetAlerts"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod GetAlerts(Alerts As %Integer, Messages As %String, LastAlert As %String = "") As %Status\n'})}),"\n",(0,n.jsx)(s.p,{children:"Read messages from the alerts.log file. Returns the number of messages in 'Alerts' and an array of those messages in 'Messages'. 'LastAlert' contains the last message added to the alerts.log file."}),"\n",(0,n.jsx)(s.p,{children:'This may be called periodically to get only recently added alerts. The first time GetAlerts is called, the caller should set LastAlert="". The caller may then retain the returned value and pass that LastAlert back in subsequent calls, to only retrieve messages added since then.'})]})}function o(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(i,{...e})}):i(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>c});var n=t(96540);const r={},l=n.createContext(r);function a(e){const s=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);