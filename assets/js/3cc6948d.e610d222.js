"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[24601],{82023:(e,s,a)=>{a.r(s),a.d(s,{contentTitle:()=>l,default:()=>d,frontMatter:()=>r,toc:()=>i});var t=a(74848),n=a(28453);const r={pagination_prev:null,pagination_next:null},l="%Library.EnsembleMgr",i=[{value:"Parameters",id:"parameters",level:2},{value:"PORTALHOMEPAGE",id:"portalhomepage",level:3},{value:"DEFAULTCSPAUTHMETHODS",id:"defaultcspauthmethods",level:3},{value:"DEFAULTDBRESOURCE",id:"defaultdbresource",level:3},{value:"REMOVEEENSLIBNAMESPACE",id:"removeeenslibnamespace",level:3},{value:"CREATEENSLIBNAMESPACE",id:"createenslibnamespace",level:3},{value:"ENSLIB",id:"enslib",level:3},{value:"HSLIB",id:"hslib",level:3},{value:"VIEWERLIB",id:"viewerlib",level:3},{value:"TEMPSUFFIX",id:"tempsuffix",level:3},{value:"SECONDARYSUFFIX",id:"secondarysuffix",level:3},{value:"DOMAIN",id:"domain",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"EnsembleResources",id:"ensembleresources",level:3},{value:"EnsembleRoles",id:"ensembleroles",level:3},{value:"Methods",id:"methods",level:2},{value:"IsEnsembleInstalled",id:"isensembleinstalled",level:3},{value:"IsDICOMInstalled",id:"isdicominstalled",level:3},{value:"IsHealthShareInstalled",id:"ishealthshareinstalled",level:3},{value:"IsFoundationInstalled",id:"isfoundationinstalled",level:3},{value:"IsEnsembleNamespace",id:"isensemblenamespace",level:3},{value:"IsHealthShareNamespace",id:"ishealthsharenamespace",level:3},{value:"GetENSLIB",id:"getenslib",level:3},{value:"DetermineMgmtURLForNamespace",id:"determinemgmturlfornamespace",level:3},{value:"OnSystemStartup",id:"onsystemstartup",level:3},{value:"OnSystemShutdown",id:"onsystemshutdown",level:3},{value:"stopProductionsByGroup",id:"stopproductionsbygroup",level:3},{value:"findEnsembleJobs",id:"findensemblejobs",level:3},{value:"CheckForInstall",id:"checkforinstall",level:3},{value:"mirrorUpgradeSteps",id:"mirrorupgradesteps",level:3},{value:"dataUpgradeSteps",id:"dataupgradesteps",level:3},{value:"findMirroredNamespaces",id:"findmirrorednamespaces",level:3},{value:"Install",id:"install",level:3},{value:"configureEnsembleAutoStart",id:"configureensembleautostart",level:3},{value:"InitializeHealthShare",id:"initializehealthshare",level:3},{value:"getVersion",id:"getversion",level:3},{value:"getVersionIdentifier",id:"getversionidentifier",level:3},{value:"InitializeEnsemble",id:"initializeensemble",level:3},{value:"ValidateEnsemble",id:"validateensemble",level:3},{value:"validateInstallation",id:"validateinstallation",level:3},{value:"Upgrade",id:"upgrade",level:3},{value:"UpgradeNamespace",id:"upgradenamespace",level:3},{value:"cleanupOldNamespace",id:"cleanupoldnamespace",level:3},{value:"EnableNamespace",id:"enablenamespace",level:3},{value:"DisableNamespace",id:"disablenamespace",level:3},{value:"MakeInteropSystemNamespace",id:"makeinteropsystemnamespace",level:3},{value:"SetAutoStart",id:"setautostart",level:3},{value:"ApplySettings",id:"applysettings",level:3},{value:"SetCredential",id:"setcredential",level:3},{value:"upgradeRules",id:"upgraderules",level:3},{value:"validateNamespace",id:"validatenamespace",level:3},{value:"UpdateAndReloadCPF",id:"updateandreloadcpf",level:3},{value:"map2enslib",id:"map2enslib",level:3},{value:"unmap2enslib",id:"unmap2enslib",level:3},{value:"createMappings",id:"createmappings",level:3},{value:"mapClasses2enslib",id:"mapclasses2enslib",level:3},{value:"mapRoutine2enslib",id:"maproutine2enslib",level:3},{value:"mapGlobals2enslib",id:"mapglobals2enslib",level:3},{value:"mapCategory2enslib",id:"mapcategory2enslib",level:3},{value:"createClassMappings",id:"createclassmappings",level:3},{value:"createRoutineMappings",id:"createroutinemappings",level:3},{value:"createGlobalMappings",id:"createglobalmappings",level:3},{value:"deleteMappings",id:"deletemappings",level:3},{value:"createPortal",id:"createportal",level:3},{value:"createPortalApp",id:"createportalapp",level:3},{value:"modifyInteropEditorsAPIApp",id:"modifyinteropeditorsapiapp",level:3},{value:"DetermineCSPAppSec",id:"determinecspappsec",level:3},{value:"RemoveLegacyPortal",id:"removelegacyportal",level:3},{value:"setDBRWFlag",id:"setdbrwflag",level:3},{value:"assignResourceToDB",id:"assignresourcetodb",level:3},{value:"setDBattributes",id:"setdbattributes",level:3},{value:"getDBRWFlag",id:"getdbrwflag",level:3},{value:"getMappedGlobals",id:"getmappedglobals",level:3},{value:"loadMessages",id:"loadmessages",level:3},{value:"MultiEnsembleInstalled",id:"multiensembleinstalled",level:3},{value:"deleteNamespace",id:"deletenamespace",level:3},{value:"deletePortal",id:"deleteportal",level:3},{value:"deploySearchTables",id:"deploysearchtables",level:3},{value:"upgradeSearchTables",id:"upgradesearchtables",level:3},{value:"upgradeDocClassMap",id:"upgradedocclassmap",level:3},{value:"CheckUTCIndices",id:"checkutcindices",level:3},{value:"getUTCIndexGlobals",id:"getutcindexglobals",level:3},{value:"UpgradeUTCIndices",id:"upgradeutcindices",level:3},{value:"indexNeedsRepair",id:"indexneedsrepair",level:3},{value:"convertCSPXSearches",id:"convertcspxsearches",level:3},{value:"CreateEnsembleAuditingEvents",id:"createensembleauditingevents",level:3},{value:"defineAuditModifyProductionConfiguration",id:"defineauditmodifyproductionconfiguration",level:3},{value:"defineAuditStartStopProduction",id:"defineauditstartstopproduction",level:3},{value:"defineAuditModifyDefaultSetting",id:"defineauditmodifydefaultsetting",level:3},{value:"defineAuditModifySchema",id:"defineauditmodifyschema",level:3},{value:"defineAuditViewMessageContents",id:"defineauditviewmessagecontents",level:3},{value:"defineAuditResendMessage",id:"defineauditresendmessage",level:3},{value:"InstallEnsembleSecurity",id:"installensemblesecurity",level:3},{value:"findUsersForRole",id:"findusersforrole",level:3},{value:"addEnsembleSQLPrivileges",id:"addensemblesqlprivileges",level:3},{value:"addInteropMetricsSQLPrivileges",id:"addinteropmetricssqlprivileges",level:3},{value:"addSQLPrivilege",id:"addsqlprivilege",level:3},{value:"CreateEnsembleResources",id:"createensembleresources",level:3},{value:"CreateEnsembleRoles",id:"createensembleroles",level:3},{value:"getNSPSoleUseNonSysDBs",id:"getnspsoleusenonsysdbs",level:3},{value:"addResourcesToRole",id:"addresourcestorole",level:3},{value:"getExistingResources",id:"getexistingresources",level:3},{value:"setResourcesForRole",id:"setresourcesforrole",level:3},{value:"setConfigFlags",id:"setconfigflags",level:3},{value:"CreateNewDBForSecondary",id:"createnewdbforsecondary",level:3},{value:"createNewDBForEnsTemp",id:"createnewdbforenstemp",level:3},{value:"CreateNewDBForMetrics",id:"createnewdbformetrics",level:3},{value:"populateIsPrimary",id:"populateisprimary",level:3},{value:"moveToFromInstallTemp",id:"movetofrominstalltemp",level:3},{value:"deleteEnsTempData",id:"deleteenstempdata",level:3},{value:"GetNamespacesByStartupPriority",id:"getnamespacesbystartuppriority",level:3},{value:"checkOrderedList",id:"checkorderedlist",level:3},{value:"canAccessGlobal",id:"canaccessglobal",level:3},{value:"ListProductionsByAutoStartPriorityExecute",id:"listproductionsbyautostartpriorityexecute",level:3},{value:"ListProductionsByAutoStartPriorityFetch",id:"listproductionsbyautostartpriorityfetch",level:3},{value:"ListProductionsByAutoStartPriorityClose",id:"listproductionsbyautostartpriorityclose",level:3},{value:"GetNamespacesByShutdownGroup",id:"getnamespacesbyshutdowngroup",level:3},{value:"ListProductionsByShutdownGroupExecute",id:"listproductionsbyshutdowngroupexecute",level:3},{value:"ListProductionsByShutdownGroupFetch",id:"listproductionsbyshutdowngroupfetch",level:3},{value:"ListProductionsByShutdownGroupClose",id:"listproductionsbyshutdowngroupclose",level:3},{value:"upgradeDashboards",id:"upgradedashboards",level:3},{value:"namespaceProductionType",id:"namespaceproductiontype",level:3},{value:"technologyType",id:"technologytype",level:3},{value:"loadENSLIBMessages",id:"loadenslibmessages",level:3},{value:"SystemStartupInProgress",id:"systemstartupinprogress",level:3}];function o(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"libraryensemblemgr",children:"%Library.EnsembleMgr"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Class %Library.EnsembleMgr [ System = 4 ]\n"})}),"\n",(0,t.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(s.h3,{id:"portalhomepage",children:"PORTALHOMEPAGE"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter PORTALHOMEPAGE As STRING = "%25CSP.Portal.Home.zen";\n'})}),"\n",(0,t.jsx)(s.p,{children:"Portal homepage for this version"}),"\n",(0,t.jsx)(s.h3,{id:"defaultcspauthmethods",children:"DEFAULTCSPAUTHMETHODS"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter DEFAULTCSPAUTHMETHODS As INTEGER = 32;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Default CSP authentication methods"}),"\n",(0,t.jsx)(s.h3,{id:"defaultdbresource",children:"DEFAULTDBRESOURCE"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter DEFAULTDBRESOURCE As STRING = "%DB_%DEFAULT";\n'})}),"\n",(0,t.jsx)(s.p,{children:"Default database resource name"}),"\n",(0,t.jsx)(s.h3,{id:"removeeenslibnamespace",children:"REMOVEEENSLIBNAMESPACE"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter REMOVEEENSLIBNAMESPACE As BOOLEAN = 1;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Remove ENSLIB namespace if it already exists AND doesn't reference any data or routines mapped from other databases."}),"\n",(0,t.jsx)(s.h3,{id:"createenslibnamespace",children:"CREATEENSLIBNAMESPACE"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter CREATEENSLIBNAMESPACE As BOOLEAN = 0;\n"})}),"\n",(0,t.jsx)(s.p,{children:"Create the ENSLIB namespace during upgrades/installs."}),"\n",(0,t.jsx)(s.h3,{id:"enslib",children:"ENSLIB"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter ENSLIB As STRING = "ENSLIB";\n'})}),"\n",(0,t.jsx)(s.p,{children:"Default ENSLIB"}),"\n",(0,t.jsx)(s.h3,{id:"hslib",children:"HSLIB"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HSLIB As STRING = "HSLIB";\n'})}),"\n",(0,t.jsx)(s.p,{children:"Default HSLIB"}),"\n",(0,t.jsx)(s.h3,{id:"viewerlib",children:"VIEWERLIB"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter VIEWERLIB As STRING = "VIEWERLIB";\n'})}),"\n",(0,t.jsx)(s.p,{children:"where the viewer will get installed"}),"\n",(0,t.jsx)(s.h3,{id:"tempsuffix",children:"TEMPSUFFIX"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter TEMPSUFFIX As STRING = "ENSTEMP";\n'})}),"\n",(0,t.jsx)(s.p,{children:"Suffix for temporary global database"}),"\n",(0,t.jsx)(s.h3,{id:"secondarysuffix",children:"SECONDARYSUFFIX"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter SECONDARYSUFFIX As STRING = "SECONDARY";\n'})}),"\n",(0,t.jsx)(s.p,{children:"Suffix for secondary global database"}),"\n",(0,t.jsx)(s.h3,{id:"domain",children:"DOMAIN"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter DOMAIN = "%Utility";\n'})}),"\n",(0,t.jsx)(s.p,{children:"Domain used for localization."}),"\n",(0,t.jsx)(s.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,t.jsx)(s.h3,{id:"ensembleresources",children:"EnsembleResources"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"XData EnsembleResources [ XMLNamespace = INSTALLER ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"ensembleroles",children:"EnsembleRoles"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"XData EnsembleRoles [ XMLNamespace = INSTALLER ]\n"})}),"\n",(0,t.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(s.h3,{id:"isensembleinstalled",children:"IsEnsembleInstalled"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsEnsembleInstalled() As %Boolean [ CodeMode = expression ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Checks for Interoperability installation"}),"\n",(0,t.jsx)(s.h3,{id:"isdicominstalled",children:"IsDICOMInstalled"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsDICOMInstalled() As %Boolean [ CodeMode = expression ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Checks if DICOM is installed"}),"\n",(0,t.jsx)(s.h3,{id:"ishealthshareinstalled",children:"IsHealthShareInstalled"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsHealthShareInstalled() As %Boolean [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Checks for HealthShare installation"}),"\n",(0,t.jsx)(s.h3,{id:"isfoundationinstalled",children:"IsFoundationInstalled"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsFoundationInstalled() As %Boolean [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Deprecated, retained for backward compatibility"}),"\n",(0,t.jsx)(s.h3,{id:"isensemblenamespace",children:"IsEnsembleNamespace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsEnsembleNamespace(pNamespace = {$namespace}) As %Boolean\n"})}),"\n",(0,t.jsx)(s.p,{children:"Checks if current namespace is production-enabled"}),"\n",(0,t.jsx)(s.h3,{id:"ishealthsharenamespace",children:"IsHealthShareNamespace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsHealthShareNamespace(pNamespace = {$namespace}) As %Boolean\n"})}),"\n",(0,t.jsx)(s.p,{children:"Checks if current namespace is HealthShare-enabled"}),"\n",(0,t.jsx)(s.h3,{id:"getenslib",children:"GetENSLIB"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetENSLIB(pImplicit As %Boolean = 0, pNormalized As %Boolean = 1) As %String [ CodeMode = expression ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Get the directory or implicit namespace for the ENSLIB database. pImplicit indicates whether the full implicit namespace should be returned, and pNormalized indicates whether the directory should be normalized."}),"\n",(0,t.jsx)(s.h3,{id:"determinemgmturlfornamespace",children:"DetermineMgmtURLForNamespace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod DetermineMgmtURLForNamespace(pNamespace As %String = {$namespace}, pAppendHomePage As %Boolean = 1) As %String\n"})}),"\n",(0,t.jsx)(s.p,{children:'Returns the "path" portion of the Interoperability management URL for a given namespace. If the namespace is *not* production-enabled, then it will return empty string. If pAppendHomePage is false, it will only return the CSP application path. This does not prepend a non empty optional URLPrefix.'}),"\n",(0,t.jsx)(s.h3,{id:"onsystemstartup",children:"OnSystemStartup"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod OnSystemStartup(Output pConsoleLog As %String, pIsStartup As %Boolean = 0) As %Boolean\n"})}),"\n",(0,t.jsx)(s.h3,{id:"onsystemshutdown",children:"OnSystemShutdown"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod OnSystemShutdown(Output pConsoleLog As %String, Output pCancelShutdown As %Boolean) As %Boolean\n"})}),"\n",(0,t.jsx)(s.h3,{id:"stopproductionsbygroup",children:"stopProductionsByGroup"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod stopProductionsByGroup(ByRef pNameSpacesToStopByGroup, pShutdownGroup As %Integer = 0, ByRef pConsoleLog, Output pCancelShutdown As %Boolean) [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Internal method to make parallel production stop requests for a given group."}),"\n",(0,t.jsx)(s.h3,{id:"findensemblejobs",children:"findEnsembleJobs"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod findEnsembleJobs(Output pNamespaces As %String) As %Status [ Internal, Private ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Helper method which provides a quick heuristic to determine whether any Interoperability jobs are running on a system. If more than two jobs are running in a namespace under the _Ensemble user, then the namespace is considered to contain running Interoperability jobs."}),"\n",(0,t.jsx)(s.h3,{id:"checkforinstall",children:"CheckForInstall"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CheckForInstall() [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Called by ^STU during an installation, update or when becoming primary (which can happen during installation/update or failover)."}),"\n",(0,t.jsx)(s.h3,{id:"mirrorupgradesteps",children:"mirrorUpgradeSteps"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod mirrorUpgradeSteps(pTargetNS As %String, pVerbose As %Boolean = 0, pCompileCSPPages As %Boolean = 0) As %Status [ CodeMode = call, Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Deprecated method. Use dataUpgradeSteps() instead."}),"\n",(0,t.jsx)(s.h3,{id:"dataupgradesteps",children:"dataUpgradeSteps"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod dataUpgradeSteps(pTargetNS As %String, pVerbose As %Boolean = 0, pCompileCSPPages As %Boolean = 0) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Perform Interoperability upgrade steps that modify data and thus need to occur when the instance has write access to the data. The separation is used for mirrors where the primary mirror member needs to complete the upgrade for the mirror set."}),"\n",(0,t.jsx)(s.h3,{id:"findmirrorednamespaces",children:"findMirroredNamespaces"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod findMirroredNamespaces(Output pMirNamespaces As %String, pNamespaces As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Builds array of interoperability namespaces that are mirrored. Optionally will take pNamespaces argument (comma delimited) to check one or namespaces specifically (which ignores whether it is interoperability)"}),"\n",(0,t.jsx)(s.h3,{id:"install",children:"Install"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod Install(pUpgrade As %Boolean = 0, pProduct As %String = "", pSrcDir As %String = "") As %Status\n'})}),"\n",(0,t.jsx)(s.h3,{id:"configureensembleautostart",children:"configureEnsembleAutoStart"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod configureEnsembleAutoStart(pValue As %Boolean = 1) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"initializehealthshare",children:"InitializeHealthShare"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod InitializeHealthShare(pVerbose As %Boolean = 0, pHSLib As %String = {..#HSLIB}, ByRef pIsPrimary As %Boolean = 1) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Initialize HealthShare"}),"\n",(0,t.jsx)(s.h3,{id:"getversion",children:"getVersion"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod getVersion() As %List\n"})}),"\n",(0,t.jsx)(s.h3,{id:"getversionidentifier",children:"getVersionIdentifier"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod getVersionIdentifier() As %String [ Internal, Private ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"initializeensemble",children:"InitializeEnsemble"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod InitializeEnsemble(pVerbose As %Boolean = 0, ByRef pIsPrimary As %Boolean = 1) As %Status [ PublicList = InstallBootStrap ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"validateensemble",children:"ValidateEnsemble"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ValidateEnsemble(pEnsLib As %String = {..#ENSLIB}, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Validate an Interoperability installation in ENSLIB"}),"\n",(0,t.jsx)(s.h3,{id:"validateinstallation",children:"validateInstallation"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod validateInstallation(pNS As %String, ByRef pCheck, pVerbose As %Boolean = 0) As %Status [ Internal, Private ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Validate an installation by checking for specific classes in a namespace"}),"\n",(0,t.jsx)(s.h3,{id:"upgrade",children:"Upgrade"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Upgrade(pVerbose As %Boolean = 0, ByRef pIsPrimary As %Boolean = 1) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"upgradenamespace",children:"UpgradeNamespace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod UpgradeNamespace(pNS As %String, pVerbose As %Boolean = 0, ByRef pIsPrimary As %Boolean = 1) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"cleanupoldnamespace",children:"cleanupOldNamespace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod cleanupOldNamespace(pNS As %String, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"enablenamespace",children:"EnableNamespace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod EnableNamespace(pTargetNS As %String, pVerbose As %Boolean = 0, ByRef pIsPrimary, pFromInstall = 0, pUpgrade = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"The following parameters are for internal use:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["pIsPrimary can be an array and will be calculated if not passed in\nTop node is whether this is a primary node or not. It is true if not in a mirror.",(0,t.jsx)(s.br,{}),"\nSubscripts are namespaces that have one or more mirrored databases."]}),"\n",(0,t.jsx)(s.li,{children:"pFromInstall indicates it is enabling all the existing production-enabled namespaces."}),"\n",(0,t.jsx)(s.li,{children:"pUpgrade only has meaning when pFromInstall is true."}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"disablenamespace",children:"DisableNamespace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod DisableNamespace(pTargetNS As %String, pVerbose As %Boolean = 0, pKeepNamespaceAsSystem As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"This method is called after a namespace is deleted"}),"\n",(0,t.jsx)(s.h3,{id:"makeinteropsystemnamespace",children:"MakeInteropSystemNamespace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod MakeInteropSystemNamespace(pTargetNS As %String) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"This method can be used after making a namespace Interoperability enabled such that it cannot be used to support running a production (for example, does not appear in the Interoperability Management Portal) but the namespace (pTargetNS) is left with the mappings to ENSLIB"}),"\n",(0,t.jsx)(s.h3,{id:"setautostart",children:"SetAutoStart"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod SetAutoStart(pTargetNS As %String, pProductionName As %String, pStartupPriority As %Integer = "") As %Status\n'})}),"\n",(0,t.jsxs)(s.p,{children:["pProductionName argument is the production to start automatically on instance startup in the namespace given by argument pTargetNS.",(0,t.jsx)(s.br,{}),"\nProductions are started in descending order of priority followed by alphabetically.",(0,t.jsx)(s.br,{}),"\npStartupPriority argument is used to set the relative priority for auto start of productions within the instance. The default is the value 0."]}),"\n",(0,t.jsx)(s.h3,{id:"applysettings",children:"ApplySettings"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ApplySettings(pTargetNS As %String, pProductionName As %String, ByRef pSettings) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"setcredential",children:"SetCredential"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SetCredential(pTargetNS As %String, pName As %String, pUsername As %String, pPassword As %String, pOverwrite As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"upgraderules",children:"upgradeRules"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod upgradeRules(pTargetNS As %String, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Remove all rule cache routines and recompile all business rules."}),"\n",(0,t.jsx)(s.h3,{id:"validatenamespace",children:"validateNamespace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod validateNamespace(ByRef pTargetNS As %String, pIsEnabled As %Boolean = 0, ByRef pSC As %Status, pCheckIfAvailable As %Boolean = 0) As %Boolean\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Internal method to validate a namespace:",(0,t.jsx)(s.br,{}),"\nName needs to be non empty and not %SYS.",(0,t.jsx)(s.br,{}),"\nNeeds to be defined as a namespace.",(0,t.jsx)(s.br,{}),"\nOptional check: If pIsEnabled is true then require namespace is marked as an Interoperability namespace.",(0,t.jsx)(s.br,{}),"\nOptional check: If pCheckIfAvailable is true then require namespace can be accessed."]}),"\n",(0,t.jsx)(s.h3,{id:"updateandreloadcpf",children:"UpdateAndReloadCPF"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod UpdateAndReloadCPF(pVerbose, pTargetNS) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"map2enslib",children:"map2enslib"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod map2enslib(pTargetNS As %String = {$NAMESPACE}, pVerbose As %Boolean = 0, pEditGlobals As %Boolean = 1) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Setting pEditGlobals to 0 allows for suppressing globals edits and global collation checks while mapping globals. This may lead to potential global mismatch errors. Setting pEditGlobals to 1 (default) allows the creation of a global directory entry for each local global to be mapped, with same collation as ENSLIB (IRIS standard)."}),"\n",(0,t.jsx)(s.h3,{id:"unmap2enslib",children:"unmap2enslib"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod unmap2enslib(pTargetNS As %String = {$NAMESPACE}, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"createmappings",children:"createMappings"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod createMappings(pTargetNS As %String, pEnsLib As %String = {..#ENSLIB}, pVerbose As %Boolean = 0, ByRef pIsPrimary, pEditGlobals As %Boolean = 1) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Private helper method to create Interoperability mappings for a particular namespace See ClassMethod map2enslib() for pEditGlobals description."}),"\n",(0,t.jsx)(s.h3,{id:"mapclasses2enslib",children:"mapClasses2enslib"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod mapClasses2enslib(pTargetNS As %String = {$NAMESPACE}, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Method to replace map2enslib for use cases where only classes in a namespace need to be mapped to Enslib"}),"\n",(0,t.jsx)(s.h3,{id:"maproutine2enslib",children:"mapRoutine2enslib"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod mapRoutine2enslib(pTargetNS As %String = {$NAMESPACE}, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Method to replace map2enslib for use cases where only routine in a namespace need to be mapped to Enslib"}),"\n",(0,t.jsx)(s.h3,{id:"mapglobals2enslib",children:"mapGlobals2enslib"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod mapGlobals2enslib(pTargetNS As %String = {$NAMESPACE}, pVerbose As %Boolean = 0, pEditGlobals As %Boolean = 1, ByRef pIsPrimary) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Method to replace map2enslib for use cases where only globals in a namespace need to be mapped to Enslib See ClassMethod map2enslib() for pEditGlobals description."}),"\n",(0,t.jsx)(s.h3,{id:"mapcategory2enslib",children:"mapCategory2enslib"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod mapCategory2enslib(pTargetNS As %String = {$NAMESPACE}, pTargetCategory As %String, pVerbose As %Boolean = 0, ByRef pIsPrimary, pEditGlobals As %Boolean = 1, pEnsLib As %String = {..#ENSLIB}) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:'Internal method to create either one of Class, Global or Routine mappings to Enslib namespace pTargetCategory can either be "Class", "Routine" or "Global" See ClassMethod map2enslib() for pEditGlobals description.'}),"\n",(0,t.jsx)(s.h3,{id:"createclassmappings",children:"createClassMappings"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod createClassMappings(pTargetNS As %String, pEnsLib As %String = {..#ENSLIB}, pVerbose As %Boolean = 0) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Internal helper method to create Interoperability mappings for classes for a particular namespace"}),"\n",(0,t.jsx)(s.h3,{id:"createroutinemappings",children:"createRoutineMappings"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod createRoutineMappings(pTargetNS As %String, pEnsLib As %String = {..#ENSLIB}, pVerbose As %Boolean = 0) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Internal helper method to create Interoperability mappings for routine for a particular namespace"}),"\n",(0,t.jsx)(s.h3,{id:"createglobalmappings",children:"createGlobalMappings"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod createGlobalMappings(pTargetNS As %String, pDatabase As %String = {..#ENSLIB}, pVerbose As %Boolean = 0, ByRef pIsPrimary, pEditGlobals As %Boolean = 1) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Internal helper method to create Interoperability mappings for globals for a particular namespace See ClassMethod map2enslib() for pEditGlobals description."}),"\n",(0,t.jsx)(s.h3,{id:"deletemappings",children:"deleteMappings"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod deleteMappings(pTargetNS As %String, pEnsLib As %String = {..#ENSLIB}, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Private helper method to create Interoperability mappings for a particular namespace"}),"\n",(0,t.jsx)(s.h3,{id:"createportal",children:"createPortal"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod createPortal(pTargetNS As %String, pVerbose As %Boolean = 0, ByRef pPortalSuffix As %String = "", ByRef pPortalPrefix As %String = "", pGrant As %String = "", pCookiePath As %String = "", pAuthMethods As %String = "", pEnslib As %String = {..#ENSLIB}, ByRef pIsPrimary As %Boolean = 1, pGroupById As %String = {$$$IscMgtPortalId}) As %Status [ Internal ]\n'})}),"\n",(0,t.jsx)(s.h3,{id:"createportalapp",children:"createPortalApp"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod createPortalApp(pPortal As %String, pNS As %String, pPortalDir As %String, pDescription As %String, pResource As %String = "", pRecursive As %Boolean = 1, pLoginPage As %String = "", pGrant As %String = "", pCookiePath As %String = "", pAuthMethods As %String = "", pLockCSPName As %Boolean = 1, pVerbose As %Boolean = 0, pGroupById As %String = "", pCspZenEnabled As %Boolean = 1, pInboundWebServicesEnabled As %Boolean = 1, pTwoFactorEnabled As %Boolean = 0, pIsNameSpaceDefault As %Boolean = 0, pPermittedClasses As %String = "") As %Status\n'})}),"\n",(0,t.jsx)(s.p,{children:"Helper to create a CSP portal application"}),"\n",(0,t.jsx)(s.h3,{id:"modifyinteropeditorsapiapp",children:"modifyInteropEditorsAPIApp"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod modifyInteropEditorsAPIApp(pNS As %String, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Helper method to modify interop editors app"}),"\n",(0,t.jsx)(s.h3,{id:"determinecspappsec",children:"DetermineCSPAppSec"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod DetermineCSPAppSec() As %Integer [ Internal, Private ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Helper method to identify which authentication methods we will enable for the CSP app"}),"\n",(0,t.jsx)(s.h3,{id:"removelegacyportal",children:"RemoveLegacyPortal"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod RemoveLegacyPortal(pTargetNS As %String = "", pPortalDir As %String = "", pPortalApp As %String = "", pFiles As %Boolean = 1, pClasses As %Boolean = 0, pVerbose As %Boolean = 0) As %Status\n'})}),"\n",(0,t.jsx)(s.h3,{id:"setdbrwflag",children:"setDBRWFlag"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod setDBRWFlag(dir As %String, flag As %Integer, timeout As %Integer = -1) As %Status [ Internal, Private ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"assignresourcetodb",children:"assignResourceToDB"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod assignResourceToDB(pResource As %String, pDatabase As %String, pPublicPermissions As %String = "RW") As %Status [ Internal ]\n'})}),"\n",(0,t.jsxs)(s.p,{children:["Create resource pResource if it does not exist already.",(0,t.jsx)(s.br,{}),"\nAssign the resource to the database pDatabase. This call will attempt to mount the db RW if it is mounted read only.",(0,t.jsx)(s.br,{}),"\nIf pDatabase is empty string then do not try to update the db label with the resource."]}),"\n",(0,t.jsx)(s.h3,{id:"setdbattributes",children:"setDBattributes"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod setDBattributes(dir As %String, mode As %String, rnam As %String) [ Internal ]\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Internal method to set DB Resource. If the DB is expanding then the modification will retry at increasing intervals up to 5 attempts over a total maximum wait of 10 seconds.",(0,t.jsx)(s.br,{}),"\nmode can be the internal value for READWRITE or READONLY. Any other mode value not lead to an attempt to change the R/W flag.",(0,t.jsx)(s.br,{}),"\nIn order to modify the database the database does need to be mounted R/W",(0,t.jsx)(s.br,{}),"\nThe code will set the DB R/W flag first and then call the api to set the resource.",(0,t.jsx)(s.br,{}),"\nFor backwards compatibility the code does not reset the DB R/W flag after setting the resource if the R/W flag is changed."]}),"\n",(0,t.jsx)(s.h3,{id:"getdbrwflag",children:"getDBRWFlag"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod getDBRWFlag(dir As %String, ByRef flag As %Integer) As %Status [ Internal, Private ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"getmappedglobals",children:"getMappedGlobals"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod getMappedGlobals(ByRef pGlobals, pDatabase As %String = {..#ENSLIB}, pTargetNS As %String = "") [ Internal, Private ]\n'})}),"\n",(0,t.jsx)(s.h3,{id:"loadmessages",children:"loadMessages"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod loadMessages(pTargetNS As %String, pVerbose As %Boolean = 0) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"multiensembleinstalled",children:"MultiEnsembleInstalled"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod MultiEnsembleInstalled() As %Boolean\n"})}),"\n",(0,t.jsx)(s.h3,{id:"deletenamespace",children:"deleteNamespace"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod deleteNamespace(pTargetNS As %String, pPurgeFiles As %Boolean = 0, pVerbose As %Boolean = 0, pDBsToDelete As %String = "COREGLOBALS", pRemoveResources As %Boolean = 0) As %Status [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Called by HealthShare, can't be private. This is an internal method for internal use only. It deletes databases. pDBsToDelete - CORECGLOBALS (default), MAINGLOBALONLY, ALL COREGLOBALS means delete main global database and Interoperability Temporary and Secondary DB if they exist and only if no other namespace references them. MAINGLOBALONLY means delete main global database only and only if no other namespace references them. ALL means delete all databases used by the namespace and only if no other namespace references them. pRemoveResources 0 (default) or 1. If 1 then delete resources/roles named %DB_"}),"\n",(0,t.jsx)(s.h3,{id:"deleteportal",children:"deletePortal"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod deletePortal(pPortal As %String, pPurgeFiles As %String, pVerbose As %Boolean = 0) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Remove a CSP application Called by HealthShare, can't be private"}),"\n",(0,t.jsx)(s.h3,{id:"deploysearchtables",children:"deploySearchTables"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod deploySearchTables(pTargetNS As %String, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Classmethod to ensure SearchTable classes are correctly deployed to each Interoperability namespace."}),"\n",(0,t.jsx)(s.h3,{id:"upgradesearchtables",children:"upgradeSearchTables"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod upgradeSearchTables(pTargetNS As %String, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Classmethod to upgrade SearchTable metadata which was mapped to ENSLIB in versions prior to 2010.2."}),"\n",(0,t.jsx)(s.h3,{id:"upgradedocclassmap",children:"upgradeDocClassMap"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod upgradeDocClassMap(pTargetNS As %String, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Ensure that the ^Ens.DocClassMap global has valid data during upgrades from versions where the DocClassMap wasn't used."}),"\n",(0,t.jsx)(s.h3,{id:"checkutcindices",children:"CheckUTCIndices"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod CheckUTCIndices(pTargetNS As %String = "", pVerbose As %Boolean = 1, pLogToConsole As %Boolean = 0) As %Status\n'})}),"\n",(0,t.jsx)(s.p,{children:"Check whether any production-enabled UTC indices in a given namespace are in need of repair. If pLogToConsole is true, we will also log a message to messages.log to indicate that the UpgradeUTCIndices() method in this class should be run for this namespace."}),"\n",(0,t.jsx)(s.h3,{id:"getutcindexglobals",children:"getUTCIndexGlobals"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod getUTCIndexGlobals() As %List [ Private ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Get a list of the index globals containing UTC data that needs to be checked for incorrectly normalized values."}),"\n",(0,t.jsx)(s.h3,{id:"upgradeutcindices",children:"UpgradeUTCIndices"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod UpgradeUTCIndices(pTargetNS As %String = "", pVerbose As %Boolean = 1, pUseBatchMode As %Boolean = 1) As %Status\n'})}),"\n",(0,t.jsx)(s.p,{children:"Ensure that timestamps of type Ens.DataType.UTC are correctly stored in various classes. pVerbose controls whether output is written to the current device. pUseBatchMode controls whether the operation should run in batch mode. This ensures that the process uses a limited number of global buffers, which is likely to be crucial on a running system."}),"\n",(0,t.jsx)(s.h3,{id:"indexneedsrepair",children:"indexNeedsRepair"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod indexNeedsRepair(pIndexGlobal As %String = "", pCount As %Integer = 1000) As %Boolean\n'})}),"\n",(0,t.jsx)(s.p,{children:"Helper method that uses a simple heuristic to loop over the index global supplied in pIndexGlobal and check whether any entries include trailing zeroes. By default, we only look at a thousand nodes, as the probability of encountering such a timestamp is 10%, so 1000 should be more than enough entries to check."}),"\n",(0,t.jsx)(s.h3,{id:"convertcspxsearches",children:"convertCSPXSearches"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod convertCSPXSearches(pTargetNS As %String, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Convert searches saved as instances of CSPX.EnsMsgFilterForm to instances of EnsPortal.MsgFilter.SavedSearch."}),"\n",(0,t.jsx)(s.h3,{id:"createensembleauditingevents",children:"CreateEnsembleAuditingEvents"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CreateEnsembleAuditingEvents() As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Create the auditing events used by productions"}),"\n",(0,t.jsx)(s.h3,{id:"defineauditmodifyproductionconfiguration",children:"defineAuditModifyProductionConfiguration"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod defineAuditModifyProductionConfiguration() As %String\n"})}),"\n",(0,t.jsx)(s.p,{children:"The defineAudit* methods below return literals with the names for the Interoperability auditing events with the format of a single string containing Source/Type/Name. They return the values to be used when creating the audit events at installation/upgrade time by this class, and also to define macros by routine EnsConstants.inc in ENSLIB."}),"\n",(0,t.jsx)(s.h3,{id:"defineauditstartstopproduction",children:"defineAuditStartStopProduction"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod defineAuditStartStopProduction() As %String\n"})}),"\n",(0,t.jsx)(s.p,{children:"The defineAudit* methods below return literals with the names for the Interoperability auditing events with the format of a single string containing Source/Type/Name. They return the values to be used when creating the audit events at installation/upgrade time by this class, and also to define macros by routine EnsConstants.inc in ENSLIB."}),"\n",(0,t.jsx)(s.h3,{id:"defineauditmodifydefaultsetting",children:"defineAuditModifyDefaultSetting"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod defineAuditModifyDefaultSetting() As %String\n"})}),"\n",(0,t.jsx)(s.p,{children:"The defineAudit* methods below return literals with the names for the Interoperability auditing events with the format of a single string containing Source/Type/Name. They return the values to be used when creating the audit events at installation/upgrade time by this class, and also to define macros by routine EnsConstants.inc in ENSLIB."}),"\n",(0,t.jsx)(s.h3,{id:"defineauditmodifyschema",children:"defineAuditModifySchema"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod defineAuditModifySchema() As %String\n"})}),"\n",(0,t.jsx)(s.p,{children:"The defineAudit* methods below return literals with the names for the Interoperability auditing events with the format of a single string containing Source/Type/Name. They return the values to be used when creating the audit events at installation/upgrade time by this class, and also to define macros by routine EnsConstants.inc in ENSLIB."}),"\n",(0,t.jsx)(s.h3,{id:"defineauditviewmessagecontents",children:"defineAuditViewMessageContents"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod defineAuditViewMessageContents() As %String\n"})}),"\n",(0,t.jsx)(s.p,{children:"The defineAudit* methods below return literals with the names for the Interoperability auditing events with the format of a single string containing Source/Type/Name. They return the values to be used when creating the audit events at installation/upgrade time by this class, and also to define macros by routine EnsConstants.inc in ENSLIB."}),"\n",(0,t.jsx)(s.h3,{id:"defineauditresendmessage",children:"defineAuditResendMessage"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod defineAuditResendMessage() As %String\n"})}),"\n",(0,t.jsx)(s.p,{children:"The defineAudit* methods below return literals with the names for the Interoperability auditing events with the format of a single string containing Source/Type/Name. They return the values to be used when creating the audit events at installation/upgrade time by this class, and also to define macros by routine EnsConstants.inc in ENSLIB."}),"\n",(0,t.jsx)(s.h3,{id:"installensemblesecurity",children:"InstallEnsembleSecurity"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod InstallEnsembleSecurity(pIsPrimary As %Boolean = 1, pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Method to create production-related Resources and Roles, in addition to upgrading existing users with access to the legacy portal through the %Admin_Manage resource so that they retain full access to the new portal after the installation completes."}),"\n",(0,t.jsx)(s.h3,{id:"findusersforrole",children:"findUsersForRole"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod findUsersForRole(pRole As %String, ByRef pUsers, pVerbose As %Boolean = 0, pRoles As %List) As %String [ Internal, Private ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Helper method to recursively locate all users who are assigned a role directly and indirectly."}),"\n",(0,t.jsx)(s.h3,{id:"addensemblesqlprivileges",children:"addEnsembleSQLPrivileges"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod addEnsembleSQLPrivileges(pNamespace As %String = "", pVerbose As %Boolean = 0) As %Status [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Add SQL privileges on core production-related tables to the base production-related Roles. When possible, this should use %Installer-generated code."}),"\n",(0,t.jsx)(s.h3,{id:"addinteropmetricssqlprivileges",children:"addInteropMetricsSQLPrivileges"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod addInteropMetricsSQLPrivileges(pVerbose As %Boolean = 0) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Add SQL privileges for the %InteropMetrics_Operator role This is added separately from other Ensemble SQL privileges because it is in the %SYS namespace"}),"\n",(0,t.jsx)(s.h3,{id:"addsqlprivilege",children:"addSQLPrivilege"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod addSQLPrivilege(pNamespace As %String, pSQLObject As %String, pPrivilege As %String, pGrantee As %String, pGrantable As %Boolean = 0, pGrantor As %String = "_Ensemble") As %Status [ Private ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Helper method to add privileges to users. Note that the default behaviour is to have the _Ensemble system user grant privileges, and the GRANT option is false."}),"\n",(0,t.jsx)(s.h3,{id:"createensembleresources",children:"CreateEnsembleResources"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CreateEnsembleResources(ByRef pVars, pLogLevel As %Integer, pInstaller As %Installer.Installer) As %Status [ CodeMode = objectgenerator ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"createensembleroles",children:"CreateEnsembleRoles"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CreateEnsembleRoles(ByRef pVars, pLogLevel As %Integer, pInstaller As %Installer.Installer) As %Status [ CodeMode = objectgenerator ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"getnspsoleusenonsysdbs",children:"getNSPSoleUseNonSysDBs"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod getNSPSoleUseNonSysDBs(pTargetNS As %String, pWhichDBs As %String, Output pDBs As %String) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Internal method subject to change that returns array of non system databases used by a namespace. The list can be limited using the pWhichDBs parameter: CORECGLOBALS (default), MAINGLOBALONLY, ALL COREGLOBALS means main global database and Interoperability Temporary and Secondary DB if they exist and only if no other namespace references them. MAINGLOBALONLY means main global database only and only if no other namespace references it. ALL means all databases used by the namespace and only if no other namespace references them. It is the callers responsibility to be in %SYS and to handle any privilege restrictions."}),"\n",(0,t.jsx)(s.h3,{id:"addresourcestorole",children:"addResourcesToRole"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod addResourcesToRole(pRole As %String = "", pResources As %String = "", Output pStatus As %Status) As %String [ Private ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Helper method to check whether pRole already has the resource/permission pairs in pResources, and adds them if not. Note that pResources should have the following format: [Resource]:[Permissions]. Multiple pairs should be separated by commas. The return value is in the format: [Error Message]_$char(0)_[Resources Added]"}),"\n",(0,t.jsx)(s.h3,{id:"getexistingresources",children:"getExistingResources"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod getExistingResources(pRole As %String = "", Output pExistingResources) As %Status [ Private ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Helper method to get the resources and permissions assigned to the role specified in pRole."}),"\n",(0,t.jsx)(s.h3,{id:"setresourcesforrole",children:"setResourcesForRole"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod setResourcesForRole(pRole As %String = "", pResources As %String = "", Output pStatus As %Status) As %String [ Private ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Helper method to specify the permissions for a set of resources in pRole. pResources should have the following format: [Resource]:[Permissions]. Multiple pairs should be separated by commas. If pRole already has a set of permission specified for a given resource, the permissions will be replaced by those specified. If the permission is omitted, then all permissions for the given resource will be removed from the role. The return value is in the format: [Error Message]_$char(0)_[Resources Removed]_$char(0)_[Resources Added]"}),"\n",(0,t.jsx)(s.h3,{id:"setconfigflags",children:"setConfigFlags"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod setConfigFlags(ByRef pFlagsSet As %String, pTargetNS As %String = "", pVerbose As %Boolean = 0) As %Status [ Internal ]\n'})}),"\n",(0,t.jsxs)(s.p,{children:["Set configuration flags in namespace pTargetNS,",(0,t.jsx)(s.br,{}),"\npVerbose report",(0,t.jsx)(s.br,{}),"\npFlagsSet is an array returned with flags set or it can be passed in to say which flags to set.",(0,t.jsx)(s.br,{}),"\nThis is called when a new namespace is made. Flags that need to be set during upgrade are set in UpgradeNamespace()"]}),"\n",(0,t.jsx)(s.h3,{id:"createnewdbforsecondary",children:"CreateNewDBForSecondary"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod CreateNewDBForSecondary(pNamespace As %String = "", pVerbose As %Boolean = 0, pCheckValidNSP As %Boolean = 1) As %Status\n'})}),"\n",(0,t.jsx)(s.p,{children:"Creates new database that is used to store credential passwords and maps ^Ens.SecondaryData* to it. This API is run by EnableNamespace() when creating new namespaces."}),"\n",(0,t.jsx)(s.p,{children:"When you call this method, you must ensure that the production is not running and no changes are made to the credentials."}),"\n",(0,t.jsx)(s.p,{children:"The new database is created in a subdirectory of the Namespace's default database for Globals. The name of the new database and the subdirectory is the name of the Namespace's default database for Globals with \"SECONDARY\" appended. For example if the default globals database is LABS then the new secondary database is called LABSSECONDARY. The new database is protected by a resource named after the database (e.g. %DB_LABSSECONDARY) without public access. No user needs to have privileges to this resource."}),"\n",(0,t.jsx)(s.p,{children:"After creating the secondary database, the call creates a global mapping for Ens.SecondaryData* and moves any existing data to the new location."}),"\n",(0,t.jsx)(s.p,{children:"An exception is that if Ens.SecondaryData* is already mapped before you make the call, the call does not create the database, change the mapping, or move the data."}),"\n",(0,t.jsx)(s.p,{children:"If the namespace globals database is mirrored, you must also ensure that the secondary database is also mirrored. When you are creating a production-enabled namespace on a primary mirror and specify that the globals database is to be mirrored, the secondary database is automatically marked as mirrored. But if you are creating a secondary database for any existing namespace, you must explicitly set the secondary database to be mirrored. In this case, you should treat the secondary database as an existing database when creating it on a backup mirror."}),"\n",(0,t.jsx)(s.p,{children:"This will not create the database if the default global database is remote."}),"\n",(0,t.jsx)(s.h3,{id:"createnewdbforenstemp",children:"createNewDBForEnsTemp"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod createNewDBForEnsTemp(pNamespace As %String = "", pVerbose As %Boolean = 0) As %Status\n'})}),"\n",(0,t.jsxs)(s.p,{children:["Check if global already mapped and target database already exists, If database already defined then accept as OK and proceed to mapping else create If Database file already exist use it Create the database Create/Assign resource here since DB definition may already exist if not mirrored or mirrored and primary Before creating the mapping see if any data in the globals covered by tGbl pattern and move over to new DB. Only if not mirrored or if primary Make overall mapping Creates new non journalled database and maps ^IRIS.Temp.Ens* to it. This is called by EnableNamespace()",(0,t.jsx)(s.br,{}),"\nThis will not create the database if the default global database is remote."]}),"\n",(0,t.jsx)(s.h3,{id:"createnewdbformetrics",children:"CreateNewDBForMetrics"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CreateNewDBForMetrics(pVerbose As %Boolean = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Check if temporary global database is not CACHETEMP, globals already mapped and target database already exists If database already defined then accept as OK and proceed to mapping else create If Database file already exist use it Create the database non journalled and assign resource the same as the default global database. Make overall mapping. Keep Public in CACHETEMP first Create the IRISMETRICS database for Interoperability Usage Metrics if it does not already exist, ensure that it is added to the CPF file, and create mappings from %SYS to the IRISMETRICS database. Mappings from other databases to IRISMETRICS occurs when EnableNamespace is called."}),"\n",(0,t.jsx)(s.h3,{id:"populateisprimary",children:"populateIsPrimary"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod populateIsPrimary(ByRef pIsPrimary) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Helper method to populate pIsPrimary."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["pIsPrimary can be an array and will be calculated if not passed in\nTop node is whether this is a primary node or not. It is true if not in a mirror.",(0,t.jsx)(s.br,{}),"\nSubscripts are namespaces that have one or more mirrored databases."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"movetofrominstalltemp",children:"moveToFromInstallTemp"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod moveToFromInstallTemp(pDirection As %String = "To", pNSP As %String = "", pGlbName As %String = "", Output pDataMoved As %Boolean = 0) As %Status [ Internal ]\n'})}),"\n",(0,t.jsx)(s.h3,{id:"deleteenstempdata",children:"deleteEnsTempData"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod deleteEnsTempData(ByRef pConsoleLog As %String) [ Internal, Private ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"getnamespacesbystartuppriority",children:"GetNamespacesByStartupPriority"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetNamespacesByStartupPriority(Output pNamespacesByStartupPriority) As %Status\n"})}),"\n",(0,t.jsxs)(s.p,{children:["This method returns an ordered list of ensemble namespaces in order of startup priority.",(0,t.jsx)(s.br,{}),"\nThe value returned is a $List structure of namespace and its startup relative priority.",(0,t.jsx)(s.br,{}),"\nIf a production is not set to Auto Start in a namespace the relative priority returned will be 0.",(0,t.jsx)(s.br,{}),"\nThe list returns the names of all production-enabled namespaces that the caller has READ access to the global ^Ens.AutoStart in the the namespace."]}),"\n",(0,t.jsx)(s.h3,{id:"checkorderedlist",children:"checkOrderedList"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod checkOrderedList(ByRef pNamespacesByStartupPriority As %String) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"internal helper method to check an ordered list of production-enabled namespaces does have all production-enabled namespaces"}),"\n",(0,t.jsx)(s.h3,{id:"canaccessglobal",children:"canAccessGlobal"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod canAccessGlobal(pNamespace As %String = {$NAMESPACE}, pGlobal As %String = "", pSubscript As %String = "", pAccessMode As %String = "READ") As %Boolean [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Internal helper method to identify if user has access to the global Error handling to be trapped by caller."}),"\n",(0,t.jsx)(s.h3,{id:"listproductionsbyautostartpriorityexecute",children:"ListProductionsByAutoStartPriorityExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ListProductionsByAutoStartPriorityExecute(ByRef qHandle As %Binary) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Query to display order of productions set for auto start by order of startup priority for those namespaces caller allowed to inspect. This Query is used in EnsPortal.AutoStartProduction but is only shown if the user has access to all. [GetNamespacesByStartupPriority() does not return an error]"}),"\n",(0,t.jsx)(s.h3,{id:"listproductionsbyautostartpriorityfetch",children:"ListProductionsByAutoStartPriorityFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ListProductionsByAutoStartPriorityFetch(ByRef qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"listproductionsbyautostartpriorityclose",children:"ListProductionsByAutoStartPriorityClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ListProductionsByAutoStartPriorityClose(ByRef qHandle As %Binary) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"getnamespacesbyshutdowngroup",children:"GetNamespacesByShutdownGroup"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetNamespacesByShutdownGroup(Output pNamespacesByShutdownGroup) As %Status\n"})}),"\n",(0,t.jsxs)(s.p,{children:["This method returns an ordered list of production-enabled namespaces in order of Shutdown Group.",(0,t.jsx)(s.br,{}),"\nThe value returned is a $List structure of namespace and its relative shutdown group.",(0,t.jsx)(s.br,{}),"\nIf a production is not assigned a shutdown group in a namespace the relative shutdown group returned will be 2 (see $$$ensDefaultShutdownGroup in EnsConstants.inc).",(0,t.jsx)(s.br,{}),'\nThe list returns the names of all production-enabled namespaces that the caller has READ access to the global/subscript given by $$$EnsProdShutdownGroup in the the namespace $$$EnsConfigurationGbl("ShutdownGroup")].']}),"\n",(0,t.jsx)(s.h3,{id:"listproductionsbyshutdowngroupexecute",children:"ListProductionsByShutdownGroupExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ListProductionsByShutdownGroupExecute(ByRef qHandle As %Binary) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Query to display order of productions ordered by Shutdown Group for those namespaces caller allowed to inspect. This Query is used in EnsPortal.ProductionShutdownGroup but is only shown if the user has access to all production namesapces. [GetNamespacesByShutdownGroup() does not return an error]"}),"\n",(0,t.jsx)(s.h3,{id:"listproductionsbyshutdowngroupfetch",children:"ListProductionsByShutdownGroupFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ListProductionsByShutdownGroupFetch(ByRef qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"listproductionsbyshutdowngroupclose",children:"ListProductionsByShutdownGroupClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ListProductionsByShutdownGroupClose(ByRef qHandle As %Binary) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"upgradedashboards",children:"upgradeDashboards"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod upgradeDashboards(pTargetNS As %String, pVerbose As %Boolean = 0, pValidateNamespace As %Boolean = 1) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"This method is called by EnableNamespace (via dataUpgradeSteps) to update Activity Dashboard meta data."}),"\n",(0,t.jsx)(s.h3,{id:"namespaceproductiontype",children:"namespaceProductionType"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod namespaceProductionType() As %String [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"technologytype",children:"technologyType"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod technologyType() As %String [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"loadenslibmessages",children:"loadENSLIBMessages"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod loadENSLIBMessages(pEnsLibRW As %Boolean = 0, pEnsLibDir As %String = "", pVerbose = 0) As %Status [ Internal, Private ]\n'})}),"\n",(0,t.jsxs)(s.p,{children:["Private method to load localized messages into enslib.",(0,t.jsx)(s.br,{}),"\nThis will be removed when building of the kit includes loading messages to enslib."]}),"\n",(0,t.jsx)(s.h3,{id:"systemstartupinprogress",children:"SystemStartupInProgress"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SystemStartupInProgress() As %Boolean [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Mechanism to check if the Interoperability framework is being started up - OnSystemStartup() Does not know if OnSystemStartup() has not been invoked yet."})]})}function d(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,s,a)=>{a.d(s,{R:()=>l,x:()=>i});var t=a(96540);const n={},r=t.createContext(n);function l(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);