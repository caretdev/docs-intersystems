"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[50242],{63521:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>l,default:()=>d,frontMatter:()=>n,toc:()=>i});var a=t(74848),r=t(28453);const n={pagination_prev:null,pagination_next:null},l="%iKnow.REST.Base",i=[{value:"Parameters",id:"parameters",level:2},{value:"CHARSET",id:"charset",level:3},{value:"CONTENTTYPE",id:"contenttype",level:3},{value:"HandleCorsRequest",id:"handlecorsrequest",level:3},{value:"PAGESIZE",id:"pagesize",level:3},{value:"IKLATESTVERSION",id:"iklatestversion",level:3},{value:"Methods",id:"methods",level:2},{value:"OnPreDispatch",id:"onpredispatch",level:3},{value:"%ErrorHandler",id:"errorhandler",level:3},{value:"%ProcessResult",id:"processresult",level:3},{value:"ResolveDomainId",id:"resolvedomainid",level:3},{value:"ParseArgs",id:"parseargs",level:3},{value:"ParseFilter",id:"parsefilter",level:3},{value:"ParseHighlight",id:"parsehighlight",level:3},{value:"ParseList",id:"parselist",level:3},{value:"ParseStringArray",id:"parsestringarray",level:3},{value:"CreateDomainAPI",id:"createdomainapi",level:3}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"iknowrestbase",children:"%iKnow.REST.Base"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Class %iKnow.REST.Base Extends %CSP.REST [ Abstract, Deprecated, System = 4 ]\n"})}),"\n",(0,a.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(s.h3,{id:"charset",children:"CHARSET"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter CHARSET = "utf-8";\n'})}),"\n",(0,a.jsx)(s.h3,{id:"contenttype",children:"CONTENTTYPE"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter CONTENTTYPE = "application/json";\n'})}),"\n",(0,a.jsx)(s.h3,{id:"handlecorsrequest",children:"HandleCorsRequest"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter HandleCorsRequest = 1;\n"})}),"\n",(0,a.jsx)(s.h3,{id:"pagesize",children:"PAGESIZE"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter PAGESIZE As INTEGER = 200;\n"})}),"\n",(0,a.jsx)(s.h3,{id:"iklatestversion",children:"IKLATESTVERSION"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter IKLATESTVERSION As STRING = "%iKnow.REST.v1dot1";\n'})}),"\n",(0,a.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,a.jsx)(s.h3,{id:"onpredispatch",children:"OnPreDispatch"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod OnPreDispatch(pUrl As %String, pMethod As %String, ByRef pContinue As %Boolean) As %Status\n"})}),"\n",(0,a.jsx)(s.h3,{id:"errorhandler",children:"%ErrorHandler"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %ErrorHandler(pSC As %Status, ByRef pContinue As %Boolean) As %Status\n"})}),"\n",(0,a.jsx)(s.h3,{id:"processresult",children:"%ProcessResult"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %ProcessResult(pSC As %Status, pResult As %DynamicObject = "") As %Status [ Internal ]\n'})}),"\n",(0,a.jsx)(s.h3,{id:"resolvedomainid",children:"ResolveDomainId"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ResolveDomainId(ByRef pDomainId As %RawString) As %Status\n"})}),"\n",(0,a.jsx)(s.p,{children:"If the supplied domain ID is not a valid integer, verify if it happens to be a domain name and update pDomainId to that domain's ID"}),"\n",(0,a.jsx)(s.h3,{id:"parseargs",children:"ParseArgs"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ParseArgs(pDomainId As %Integer = 0, Output pPage As %Integer, Output pPageSize As %Integer, Output pFilter As %iKnow.Filters.Filter, Output pFilterMode As %Integer, Output pSkiplists As %List) As %Status [ Internal ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Parse a few common arguments out of %request.Content"}),"\n",(0,a.jsx)(s.h3,{id:"parsefilter",children:"ParseFilter"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ParseFilter(pDomainId As %Integer, pObject As %DynamicObject, Output pFilter As %iKnow.Filters.Filter) As %Status\n"})}),"\n",(0,a.jsx)(s.p,{children:'{ ids: [ srcID1, srcID2, ...] } --\x3e SourceIdFilter { extIds: [ extID1, extID2, ...] } --\x3e ExternalIdFilter { field: "fieldName", operator: "<", value: "value" } --\x3e SimpleMetadataFilter { operator: "AND"|"OR", negate : false, filters: [...] } --\x3e GroupFilter { className: "RandomClass", arguments : [ all args except domainID] }'}),"\n",(0,a.jsx)(s.h3,{id:"parsehighlight",children:"ParseHighlight"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ParseHighlight(Output pHighlight) As %Status\n"})}),"\n",(0,a.jsx)(s.p,{children:'{ highlight: [ { style: "...", entities : ["..."] }, --\x3e ENTITY { style: "...", role : "concept"|"relation"|"nonRelevant"|"pathRelevant" } --\x3e ROLE { style: "...", attribute : "negation"|"positiveSentiment"|"negativeSentiment"|id } --\x3e ATTRIBUTE { style: "...", attributeWords : "negation"|"positiveSentiment"|"negativeSentiment"|id } --\x3e ATTRIBUTEWORDS { style: "...", anyMatch: true [, matchType:"partial"|"full"] } --\x3e MATCH { style: "...", dictionaries: [ dictIDs... ] [, matchType:"partial"|"full"] } --\x3e MATCH { style: "...", dictionaryItems: [ dictItemIDs... ] [, matchType:"partial"|"full"] } --\x3e MATCHITEM { style: "...", start: ##, end: ## } --\x3e CHARS { style: "...", stems : ["..."] }, --\x3e STEMS { style: "...", crcs : ["..."] }, --\x3e CRC { style: "...", paths : ["..."] }, --\x3e PATH ] ... }'}),"\n",(0,a.jsx)(s.h3,{id:"parselist",children:"ParseList"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod ParseList(pObjectProp As %String, pRequestParam As %RawString = "") As %List\n'})}),"\n",(0,a.jsx)(s.h3,{id:"parsestringarray",children:"ParseStringArray"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod ParseStringArray(pObjectProp As %String, pRequestParam As %RawString = "") As %DynamicArray\n'})}),"\n",(0,a.jsx)(s.h3,{id:"createdomainapi",children:"CreateDomainAPI"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod CreateDomainAPI(pDomainId As %Integer, pClassname As %String, pVersion As %String = "%iKnow.REST.v1") As %Status\n'})}),"\n",(0,a.jsx)(s.p,{children:"Use this method"})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>i});var a=t(96540);const r={},n=a.createContext(r);function l(e){const s=a.useContext(n);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),a.createElement(n.Provider,{value:s},e.children)}}}]);