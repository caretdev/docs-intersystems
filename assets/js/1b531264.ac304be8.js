"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[70577],{11440:(e,s,a)=>{a.r(s),a.d(s,{contentTitle:()=>r,default:()=>d,frontMatter:()=>t,toc:()=>i});var l=a(74848),n=a(28453);const t={pagination_prev:null,pagination_next:null},r="%XML.Utils.SchemaResult",i=[{value:"Parameters",id:"parameters",level:2},{value:"DOMAIN",id:"domain",level:3},{value:"Properties",id:"properties",level:2},{value:"Classes",id:"classes",level:3},{value:"Reader",id:"reader",level:3},{value:"Features",id:"features",level:3},{value:"Tree",id:"tree",level:3},{value:"PrefixIndex",id:"prefixindex",level:3},{value:"Methods",id:"methods",level:2},{value:"CreateResult",id:"createresult",level:3},{value:"SetupResult",id:"setupresult",level:3},{value:"CreateClassDef",id:"createclassdef",level:3},{value:"AddOnDeleteMethod",id:"addondeletemethod",level:3},{value:"SuperPropertyCount",id:"superpropertycount",level:3},{value:"SaveClasses",id:"saveclasses",level:3},{value:"SaveClass",id:"saveclass",level:3},{value:"CompileClasses",id:"compileclasses",level:3},{value:"IsValidClassName",id:"isvalidclassname",level:3},{value:"IsSQLWord",id:"issqlword",level:3},{value:"DisplayClasses",id:"displayclasses",level:3},{value:"DisplayClass",id:"displayclass",level:3},{value:"DisplayClassesHTML",id:"displayclasseshtml",level:3},{value:"DisplayClassHTML",id:"displayclasshtml",level:3},{value:"XSchemaToFile",id:"xschematofile",level:3},{value:"ElementsToXSchema",id:"elementstoxschema",level:3},{value:"AddToXSchema",id:"addtoxschema",level:3},{value:"GetTypeRef",id:"gettyperef",level:3},{value:"OutputXSchema",id:"outputxschema",level:3}];function c(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"xmlutilsschemaresult",children:"%XML.Utils.SchemaResult"})}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Class %XML.Utils.SchemaResult Extends %RegisteredObject [ System = 3 ]\n"})}),"\n",(0,l.jsx)(s.p,{children:"This class manages and contains the list of class defintions that are created from an XML Schema. This class is intended for internal use by the XML Schema Wizard. This class is used internally by InterSystems IRIS. You should not make direct use of it within your applications. There is no guarantee made about either the behavior or future operation of this class."}),"\n",(0,l.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,l.jsx)(s.h3,{id:"domain",children:"DOMAIN"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter DOMAIN = "%TemplateMessages";\n'})}),"\n",(0,l.jsx)(s.p,{children:"Messages for localization of XML Schema Wizard result."}),"\n",(0,l.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,l.jsx)(s.h3,{id:"classes",children:"Classes"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property Classes As %String [ MultiDimensional ];\n"})}),"\n",(0,l.jsxs)(s.p,{children:["A multi-dimensional array of class names",(0,l.jsx)(s.br,{}),"\nClasses(name) = key (in original ClassTree)"]}),"\n",(0,l.jsx)(s.h3,{id:"reader",children:"Reader"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property Reader As SchemaReader;\n"})}),"\n",(0,l.jsx)(s.p,{children:"SchemaReader that created this result"}),"\n",(0,l.jsx)(s.h3,{id:"features",children:"Features"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property Features As %String [ MultiDimensional ];\n"})}),"\n",(0,l.jsxs)(s.p,{children:["Array of feature codes for generated classes: The possible nodes are as follows:",(0,l.jsx)(s.br,{}),'\nFeatures("DEFAULTSEQUENCE") If this node exists, the wizard does not set the XMLSEQUENCE parameter in the generated classes.',(0,l.jsx)(s.br,{}),'\nFeatures("JAVA") If this node exists, each class includes a Java projection.',(0,l.jsx)(s.br,{}),'\nFeatures("NOSEQUENCE") If this node exists, the wizard sets the XMLSEQUENCE parameter to 0 in the generated classes.',(0,l.jsx)(s.br,{}),'\nFeatures("POPULATE") If this node exists, each class extends %Populate in addition to %XML.Adaptor.',(0,l.jsx)(s.br,{}),'\nFeatures("SQLCOLUMNS") If this node exists, each class property specifies a value for the SqlColumnNumber keyword, so that the properties have the same order in SQL that they have in the schema.',(0,l.jsx)(s.br,{}),'\nFeatures("IGNORENULL") If this node is set, the XMLIGNORENULL parameter is set to this value for each class. Features("BINARYASSTREAM") If this node exists, then use %Stream.GlobalBinary for base64Binary type Features("XMLFORMAT") If this node is set, the XMLFORMAT parameter is set to this value for each class.']}),"\n",(0,l.jsx)(s.h3,{id:"tree",children:"Tree"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property Tree As %Integer;\n"})}),"\n",(0,l.jsx)(s.p,{children:"Integer tree id within ^IRIS.Temp"}),"\n",(0,l.jsx)(s.h3,{id:"prefixindex",children:"PrefixIndex"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Property PrefixIndex As %Integer [ InitialExpression = 0 ];\n"})}),"\n",(0,l.jsx)(s.p,{children:"Index for creating namespace prefixes."}),"\n",(0,l.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,l.jsx)(s.h3,{id:"createresult",children:"CreateResult"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod CreateResult(pReader As SchemaReader, pPackage As %String = "", ByRef pFeatures As %String) As SchemaResult\n'})}),"\n",(0,l.jsx)(s.p,{children:"Create a Schema Result given a SchemaReader"}),"\n",(0,l.jsx)(s.h3,{id:"setupresult",children:"SetupResult"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'Method SetupResult(pReader As SchemaReader, pPackage As %String = "", ByRef pFeatures As %String) As SchemaResult\n'})}),"\n",(0,l.jsx)(s.p,{children:"Setup a new Schema Result given a SchemaReader"}),"\n",(0,l.jsx)(s.h3,{id:"createclassdef",children:"CreateClassDef"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method CreateClassDef(pClassName As %String, test As %Boolean = 0, ByRef pCDef As %Dictionary.ClassDefinition) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Create a class definition for an entry in the class tree."}),"\n",(0,l.jsx)(s.h3,{id:"addondeletemethod",children:"AddOnDeleteMethod"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod AddOnDeleteMethod(cdef As %Dictionary.ClassDefinition, persistentProperties, tSeqNo As %Integer) [ Internal ]\n"})}),"\n",(0,l.jsx)(s.p,{children:"If Delete trigger needed, then create it now."}),"\n",(0,l.jsx)(s.h3,{id:"superpropertycount",children:"SuperPropertyCount"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method SuperPropertyCount(pClassName As %String) As %Integer [ Internal ]\n"})}),"\n",(0,l.jsx)(s.p,{children:"Get number of properties in super classes"}),"\n",(0,l.jsx)(s.h3,{id:"saveclasses",children:"SaveClasses"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method SaveClasses(verbose As %Boolean = 0, test As %Boolean = 0) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Save all the class definitions in this result to the database."}),"\n",(0,l.jsx)(s.h3,{id:"saveclass",children:"SaveClass"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method SaveClass(cdef As %Dictionary.ClassDefinition, verbose As %Boolean = 0) As %Status\n"})}),"\n",(0,l.jsx)(s.h3,{id:"compileclasses",children:"CompileClasses"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:'Method CompileClasses(verbose As %Boolean = 0, CompileFlags As %String = "dk") As %Status\n'})}),"\n",(0,l.jsx)(s.p,{children:"Compile all the class definitions in this result"}),"\n",(0,l.jsx)(s.h3,{id:"isvalidclassname",children:"IsValidClassName"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsValidClassName(%val As %Binary) As %Boolean\n"})}),"\n",(0,l.jsx)(s.p,{children:"!!!Test if name is a valid class name"}),"\n",(0,l.jsx)(s.h3,{id:"issqlword",children:"IsSQLWord"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsSQLWord(name As %String) As %Boolean\n"})}),"\n",(0,l.jsx)(s.p,{children:"Test if name is an SQL reserved word"}),"\n",(0,l.jsx)(s.h3,{id:"displayclasses",children:"DisplayClasses"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method DisplayClasses()\n"})}),"\n",(0,l.jsx)(s.p,{children:"List all the classes in this Result."}),"\n",(0,l.jsx)(s.h3,{id:"displayclass",children:"DisplayClass"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod DisplayClass(cdef As %Dictionary.ClassDefinition) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Write out a formatted version of a class definition"}),"\n",(0,l.jsx)(s.h3,{id:"displayclasseshtml",children:"DisplayClassesHTML"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method DisplayClassesHTML() As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Provide an HTML list of classes (for Wizard)"}),"\n",(0,l.jsx)(s.h3,{id:"displayclasshtml",children:"DisplayClassHTML"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method DisplayClassHTML(row As %Integer, cdef As %Dictionary.ClassDefinition) As %Status\n"})}),"\n",(0,l.jsx)(s.h3,{id:"xschematofile",children:"XSchemaToFile"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method XSchemaToFile(filepath As %String) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Output an XSchema format file based on the parsed XML schema."}),"\n",(0,l.jsx)(s.h3,{id:"elementstoxschema",children:"ElementsToXSchema"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method ElementsToXSchema() As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Add top level elements to the XSchema data structure"}),"\n",(0,l.jsx)(s.h3,{id:"addtoxschema",children:"AddToXSchema"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method AddToXSchema(classname As %String) As %Status\n"})}),"\n",(0,l.jsx)(s.p,{children:"Create the XSchema data Structure for one class"}),"\n",(0,l.jsx)(s.h3,{id:"gettyperef",children:"GetTypeRef"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method GetTypeRef(ns As %Integer, key As %Integer, ByRef nsno As %Integer, ByRef localname As %String) As %String\n"})}),"\n",(0,l.jsx)(s.h3,{id:"outputxschema",children:"OutputXSchema"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-objectscript-class",children:"Method OutputXSchema(nsno As %Integer)\n"})}),"\n",(0,l.jsx)(s.p,{children:"Output the XSchema data structure to a file"})]})}function d(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453:(e,s,a)=>{a.d(s,{R:()=>r,x:()=>i});var l=a(96540);const n={},t=l.createContext(n);function r(e){const s=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),l.createElement(t.Provider,{value:s},e.children)}}}]);