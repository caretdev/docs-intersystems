"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[22461],{82707:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>l,default:()=>o,frontMatter:()=>r,toc:()=>i});var t=s(74848),a=s(28453);const r={pagination_prev:null,pagination_next:null},l="%TSQL.sys.indexes",i=[{value:"Parameters",id:"parameters",level:2},{value:"READONLY",id:"readonly",level:3},{value:"Properties",id:"properties",level:2},{value:"schema",id:"schema",level:3},{value:"parentobjname",id:"parentobjname",level:3},{value:"keycnt",id:"keycnt",level:3},{value:"id",id:"id",level:3},{value:"name",id:"name",level:3},{value:"indid",id:"indid",level:3},{value:"doampg",id:"doampg",level:3},{value:"ioampg",id:"ioampg",level:3},{value:"status",id:"status",level:3},{value:"status2",id:"status2",level:3},{value:"indexfields",id:"indexfields",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"tsqlsysindexes",children:"%TSQL.sys.indexes"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %TSQL.sys.indexes Extends %Persistent [ SqlRowIdPrivate, StorageStrategy = SQLStorage, System = 4 ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"sysindexes contains one row for each clustered index (IDKey index), one row for each nonclustered index (all other indexes), one row for each table that has no clustered index, and one row for each table that contains text or image columns."}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(n.h3,{id:"readonly",children:"READONLY"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter READONLY = 1;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h3,{id:"schema",children:"schema"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property schema As %String(MAXLEN = 128) [ SqlColumnNumber = 10 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Name of the schema the column resides in"}),"\n",(0,t.jsx)(n.h3,{id:"parentobjname",children:"parentobjname"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property parentobjname As %String(MAXLEN = 128) [ SqlColumnNumber = 11, SqlFieldName = parent_obj_name ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Parent Object name Object name of the parent_obj."}),"\n",(0,t.jsx)(n.h3,{id:"keycnt",children:"keycnt"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property keycnt As %SmallInt [ SqlColumnNumber = 9 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Number of keys for a clustered index on an allpages-locked table; number of keys, plus 1 for all other indexes"}),"\n",(0,t.jsx)(n.h3,{id:"id",children:"id"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property id As %Integer [ SqlColumnNumber = 3 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"ID of a table, or ID of table to which index belongs"}),"\n",(0,t.jsx)(n.h3,{id:"name",children:"name"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property name As %String(MAXLEN = 128) [ SqlColumnNumber = 2 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Index or table name"}),"\n",(0,t.jsx)(n.h3,{id:"indid",children:"indid"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property indid As %SmallInt [ SqlColumnNumber = 4 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"0 if a table; 1 if a clustered index on an allpages-locked table; >1 if a nonclustered index or a clustered index on a data-only-locked table; 255 if text, image or Java off-row structure (LOB structure)"}),"\n",(0,t.jsx)(n.h3,{id:"doampg",children:"doampg"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property doampg As %Integer [ SqlColumnNumber = 5 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Page number for the object allocation map of a table"}),"\n",(0,t.jsx)(n.h3,{id:"ioampg",children:"ioampg"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property ioampg As %Integer [ SqlColumnNumber = 6 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Page number for the allocation map of an index or (LOB structure)"}),"\n",(0,t.jsx)(n.h3,{id:"status",children:"status"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property status As %SmallInt [ SqlColumnNumber = 8 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Internal system status information Decimal Hex Status 1 0x1 Index supports foreign key constraint 2 0x2 Index supports primary key/unique declarative constraint 4 0x4 Index includes an IDENTITY column 8 0x8 Constraint name not specified 16 0x10 Large I/Os (prefetch) not enabled for table, index, or text chain 32 0x20 MRU cache strategy not enabled for table, index, or text chain 64 0x40 Ascending inserts turned on for the table 256 0x0100 Index is presorted and does not need to be copied to new extents 512 0x0200 Table is a data-only-locked table with a clustered index 8192 0x2000 Index on a data-only-locked table is suspect"}),"\n",(0,t.jsx)(n.h3,{id:"status2",children:"status2"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property status2 As %Integer [ SqlColumnNumber = 7 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Internal system status information Decimal Hex Status 1 0x1 Abort current command or trigger if attempt to insert duplicate key 2 0x2 Unique index 4 0x4 Abort current command or trigger if attempt to insert duplicate row; always 0 for data-only-locked tables 16 0x10 Clustered index 64 0x40 Index allows duplicate rows, if an allpages-locked table; always 0 for data-only-locked tables 128 0x80 Sorted object; not set for tables without clustered indexes or for text objects 512 0x200 sorted data option used in create index statement 2048 0x800 Index on primary key 32768 0x8000 Suspect index; index was created under another sort order"}),"\n",(0,t.jsx)(n.h3,{id:"indexfields",children:"indexfields"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property indexfields As list Of %String(MAXLEN = 128) [ SqlColumnNumber = 12, SqlFieldName = index_fields ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"List of fields in the index. NULL for indid = 0 and 255"})]})}function o(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>i});var t=s(96540);const a={},r=t.createContext(a);function l(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);