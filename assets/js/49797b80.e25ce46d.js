"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[64614],{47329:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>r,default:()=>o,frontMatter:()=>a,toc:()=>l});var t=s(74848),i=s(28453);const a={pagination_prev:null,pagination_next:null},r="%iKnow.Configuration",l=[{value:"Properties",id:"properties",level:2},{value:"Id",id:"id",level:3},{value:"Name",id:"name",level:3},{value:"DetectLanguage",id:"detectlanguage",level:3},{value:"Languages",id:"languages",level:3},{value:"UserDictionary",id:"userdictionary",level:3},{value:"Summarize",id:"summarize",level:3},{value:"MaxConceptLength",id:"maxconceptlength",level:3},{value:"IsTransient",id:"istransient",level:3},{value:"Indexer",id:"indexer",level:3},{value:"Methods",id:"methods",level:2},{value:"CreateDefaultConfig",id:"createdefaultconfig",level:3},{value:"Create",id:"create",level:3},{value:"Open",id:"open",level:3},{value:"OpenId",id:"openid",level:3},{value:"Exists",id:"exists",level:3},{value:"Delete",id:"delete",level:3},{value:"DeleteId",id:"deleteid",level:3},{value:"%OnNew",id:"onnew",level:3},{value:"ResolveLanguage",id:"resolvelanguage",level:3},{value:"ConfigureIndexer",id:"configureindexer",level:3},{value:"GetAllConfigurationsExecute",id:"getallconfigurationsexecute",level:3},{value:"GetAllConfigurationsClose",id:"getallconfigurationsclose",level:3},{value:"GetAllConfigurationsFetch",id:"getallconfigurationsfetch",level:3},{value:"%OnBeforeSave",id:"onbeforesave",level:3},{value:"LanguagesIsValid",id:"languagesisvalid",level:3},{value:"%ConstructClone",id:"constructclone",level:3},{value:"%DeleteExtent",id:"deleteextent",level:3},{value:"%KillExtentData",id:"killextentdata",level:3},{value:"CheckIfManaged",id:"checkifmanaged",level:3},{value:"%OnDelete",id:"ondelete",level:3},{value:"Normalize",id:"normalize",level:3},{value:"NormalizeWithParams",id:"normalizewithparams",level:3},{value:"CreateTransientConfig",id:"createtransientconfig",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"iknowconfiguration",children:"%iKnow.Configuration"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %iKnow.Configuration Extends %Persistent [ Deprecated, Final, StorageStrategy = iKnowStorage, System = 4 ]\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The InterSystems IRIS NLP iKnow technology is now deprecated. Please see the ",(0,t.jsx)(n.a,{href:"https://docs.intersystems.com/irislatest/csp/docbook/DocBook.UI.Page.cls?KEY=GIKNOW",children:"product documentation"})," for more detail."]}),"\n",(0,t.jsx)(n.p,{children:"This class groups the configuration parameters to drive the iKnow Smart Indexing algorithm as executed by the iKnow engine (external libraries). Configurations are referred to by name and can be used across domains within the same namespace."}),"\n",(0,t.jsx)(n.p,{children:"When creating a configuration, you can pass initial values for the following properties to its %New method:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Name (required)"}),"\n",(0,t.jsx)(n.li,{children:"DetectLanguage"}),"\n",(0,t.jsx)(n.li,{children:"Languages"}),"\n",(0,t.jsx)(n.li,{children:"UserDictionary"}),"\n",(0,t.jsx)(n.li,{children:"Summarize\nCheck the respective property descriptions for more details."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h3,{id:"id",children:"Id"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Id As %Integer [ Internal, ReadOnly ];\n"})}),"\n",(0,t.jsx)(n.h3,{id:"name",children:"Name"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Name As %String [ ReadOnly ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"The name of this configuration, which should be unique within the namespace (case-insensitive)"}),"\n",(0,t.jsx)(n.h3,{id:"detectlanguage",children:"DetectLanguage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property DetectLanguage As %Boolean;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Whether or not to use Automatic Language Identification"}),"\n",(0,t.jsx)(n.h3,{id:"languages",children:"Languages"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Languages As %List;\n"})}),"\n",(0,t.jsx)(n.p,{children:"The list of languages the engine should take into account when processing the text."}),"\n",(0,t.jsx)(n.h3,{id:"userdictionary",children:"UserDictionary"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property UserDictionary As %String(MAXLEN = 1000);\n"})}),"\n",(0,t.jsx)(n.p,{children:"The name to the User Dictionary to use for rewriting and standardizing input as it is read by the engine. See also %iKnow.UserDictionary. Alternatively, the path to a file-based User Dictionary can be supplied."}),"\n",(0,t.jsx)(n.h3,{id:"summarize",children:"Summarize"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Summarize As %Integer [ Deprecated, InitialExpression = 1 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"This setting is deprecated. Summaries are now generated at query time."}),"\n",(0,t.jsx)(n.h3,{id:"maxconceptlength",children:"MaxConceptLength"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property MaxConceptLength As %Integer(MINVAL = 0) [ Internal ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Maximum cluster length. Advanced use only."}),"\n",(0,t.jsx)(n.h3,{id:"istransient",children:"IsTransient"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property IsTransient As %Boolean [ Internal, Private, Transient ];\n"})}),"\n",(0,t.jsx)(n.h3,{id:"indexer",children:"Indexer"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property Indexer As %iKnow.Indexer [ Internal, Private, Transient ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"Private Indexer object for Normalize method."}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"createdefaultconfig",children:"CreateDefaultConfig"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod CreateDefaultConfig() As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Automatically (re)create the default configuration"}),"\n",(0,t.jsx)(n.h3,{id:"create",children:"Create"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod Create(name As %String, DetectLanguage As %Integer = 0, languages As %List = {$lb("en")}, userDictionary As %String = "", summarize As %Integer = 1, maxConceptLength As %Integer = 0, Output sc As %Status = {$$$OK}) As %iKnow.Configuration [ Deprecated ]\n'})}),"\n",(0,t.jsx)(n.p,{children:"Create a new Configuration object using the specified parameters"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Deprecated"}),": Please use %New and %Save"]}),"\n",(0,t.jsx)(n.h3,{id:"open",children:"Open"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Open(name As %String, Output pSC As %Status = {$$$OK}) As %iKnow.Configuration\n"})}),"\n",(0,t.jsx)(n.p,{children:"Opens the Configuration object with the supplied name. When requesting the default configuration ($$$DEFAULTCONFIG), it will be created if it didn't exist yet for this namespace."}),"\n",(0,t.jsx)(n.h3,{id:"openid",children:"OpenId"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod OpenId(id As %Integer) As %iKnow.Configuration [ Deprecated ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Opens the Configuration object with the supplied ID"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Deprecated"}),": Please use %OpenId"]}),"\n",(0,t.jsx)(n.h3,{id:"exists",children:"Exists"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Exists(name As %String) As %Boolean [ Deprecated ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Checks whether a Configuration object exists with the given name"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Deprecated"}),": Please use NameIndexExists"]}),"\n",(0,t.jsx)(n.h3,{id:"delete",children:"Delete"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Delete(configName As %String) As %Status [ Deprecated ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Deletes a named configuration"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Deprecated"}),": Please use NameIndexOpen and %DeleteId"]}),"\n",(0,t.jsx)(n.h3,{id:"deleteid",children:"DeleteId"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod DeleteId(configId As %String) As %Status [ Deprecated ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Deletes a configuration specified by ID"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Deprecated"}),": Please use %DeleteId"]}),"\n",(0,t.jsx)(n.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Method %OnNew(pName As %String, pDetectLanguage As %Integer = 0, pLanguages As %List = {$lb("en")}, pUserDictionary As %String = "", pSummarize As %Integer = 1, pMaxConceptLength As %Integer = 0, pTransient As %Boolean = 0) As %Status [ Private, ServerOnly = 1 ]\n'})}),"\n",(0,t.jsx)(n.p,{children:"Creates a Configuration object with the specified parameters."}),"\n",(0,t.jsx)(n.p,{children:"Note: Use of the pMaxConceptLength parameter is deprecated as from 2013.2"}),"\n",(0,t.jsx)(n.p,{children:"."}),"\n",(0,t.jsx)(n.h3,{id:"resolvelanguage",children:"ResolveLanguage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method ResolveLanguage(tLanguage) As %String [ Internal ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"configureindexer",children:"ConfigureIndexer"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method ConfigureIndexer(indexer As %iKnow.Indexer) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Configures an %iKnow.Indexer object with the settings stored in this Configuration object"}),"\n",(0,t.jsx)(n.h3,{id:"getallconfigurationsexecute",children:"GetAllConfigurationsExecute"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetAllConfigurationsExecute(ByRef qHandle As %Binary) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Simple class query to retrieve all the configurations for this Namespace."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Deprecated"}),": Please use normal SQL queries to approach this class."]}),"\n",(0,t.jsx)(n.h3,{id:"getallconfigurationsclose",children:"GetAllConfigurationsClose"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetAllConfigurationsClose(ByRef qHandle As %Binary) As %Status [ Internal, PlaceAfter = GetAllConfigurationsExecute ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"getallconfigurationsfetch",children:"GetAllConfigurationsFetch"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetAllConfigurationsFetch(ByRef qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status [ Internal, PlaceAfter = GetAllConfigurationsExecute ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"onbeforesave",children:"%OnBeforeSave"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method %OnBeforeSave(insert As %Boolean) As %Status [ Private, ServerOnly = 1 ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"languagesisvalid",children:"LanguagesIsValid"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod LanguagesIsValid(pLanguages As %String) As %Status [ Private, ServerOnly = 1 ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"constructclone",children:"%ConstructClone"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method %ConstructClone(deep As %Boolean = 0, ByRef cloned As %String, location As %String) As %RegisteredObject [ ServerOnly = 0 ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"deleteextent",children:"%DeleteExtent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %DeleteExtent(concurrency As %Integer = -1, ByRef deletecount, ByRef instancecount, pInitializeExtent As %Integer = 1) As %Status [ ServerOnly = 0 ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"killextentdata",children:"%KillExtentData"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %KillExtentData(killstreams As %Boolean = 0) As %Status [ Private, ServerOnly = 1 ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"checkifmanaged",children:"CheckIfManaged"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod CheckIfManaged(pConfig As %iKnow.Configuration) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ondelete",children:"%OnDelete"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %OnDelete(oid As %ObjectIdentity) As %Status [ Private, ServerOnly = 1 ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"normalize",children:"Normalize"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Method Normalize(pString As %String, pLanguage As %String = "", Output pSC As %Status = {$$$OK}, pCleanPunctuation As %Boolean = 1) As %String\n'})}),"\n",(0,t.jsx)(n.p,{children:"Takes an input string pString and returns its normalized form as returned by the iKnow engine. Using this method will ensure a string has the same form as any results (entities) returned by the engine as a result of iKnow indexing with this Configuration object."}),"\n",(0,t.jsx)(n.p,{children:"More specifically, this normalization takes into account the following properties:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"User Dictionary literal input substitutions."}),"\n",(0,t.jsx)(n.li,{children:"Language model preprocess filters."}),"\n",(0,t.jsx)(n.li,{children:"Character normalization (lower casing and some punctuation separation)"}),"\n",(0,t.jsx)(n.li,{children:"Whitespace compression."}),"\n",(0,t.jsx)(n.li,{children:"Entity filters."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Input substitution adheres to the User Dictionary as specified in the UserDictionary property of this Configuration. If not specified through pLanguage (as a two-letter language code), the language will be randomly selected by the engine from the list specified in this Configuration's Languages property, so it's recommended to supply a value for pLanguage if Languages contains more than one entry. If specified, pLanguage should appear in Languages"}),"\n",(0,t.jsx)(n.p,{children:"See also NormalizeWithParams to normalize without a Configuration object."}),"\n",(0,t.jsx)(n.h3,{id:"normalizewithparams",children:"NormalizeWithParams"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod NormalizeWithParams(pString As %String, pLanguage As %String = "en", pUserDictionary As %String = "", Output pSC As %Status = {$$$OK}, pCleanPunctuation As %Boolean = 1) As %String\n'})}),"\n",(0,t.jsx)(n.p,{children:"Takes an input string pString and returns its normalized form as returned by the iKnow engine. Using this method will ensure a string has the same form as any results (entities) returned by the engine as a result of indexing operations."}),"\n",(0,t.jsx)(n.p,{children:"More specifically, this normalization takes into account the following properties:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"User Dictionary literal input substitutions."}),"\n",(0,t.jsx)(n.li,{children:"Language model preprocess filters."}),"\n",(0,t.jsx)(n.li,{children:"Character normalization (lower casing and some punctuation separation)"}),"\n",(0,t.jsx)(n.li,{children:"Whitespace compression."}),"\n",(0,t.jsx)(n.li,{children:"Entity filters."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Input substitution adheres to the User Dictionary as specified through pUserDictionary and the preprocess filters for language pLanguage are used."}),"\n",(0,t.jsx)(n.p,{children:"See also Normalize to normalize using an existing Configuration object."}),"\n",(0,t.jsx)(n.h3,{id:"createtransientconfig",children:"CreateTransientConfig"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod CreateTransientConfig(pLanguage As %String = "en", pUserDictionary As %String = "", Output pSC As %Status = {$$$OK}) As %iKnow.Configuration [ Internal ]\n'})})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(96540);const i={},a=t.createContext(i);function r(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);