"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[33073],{70405:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>o,default:()=>l,frontMatter:()=>a,toc:()=>i});var r=t(74848),n=t(28453);const a={pagination_prev:null,pagination_next:null},o="%REST.Impl",i=[{value:"Parameters",id:"parameters",level:2},{value:"ExposeServerExceptions",id:"exposeserverexceptions",level:3},{value:"Methods",id:"methods",level:2},{value:"%SetStatusCode",id:"setstatuscode",level:3},{value:"%SetContentType",id:"setcontenttype",level:3},{value:"%GetContentType",id:"getcontenttype",level:3},{value:"%SetHeader",id:"setheader",level:3},{value:"%SetCookieFromHeader",id:"setcookiefromheader",level:3},{value:"%SetHeaderIfEmpty",id:"setheaderifempty",level:3},{value:"%GetHeader",id:"getheader",level:3},{value:"%DeleteHeader",id:"deleteheader",level:3},{value:"%ReportRESTError",id:"reportresterror",level:3},{value:"%CheckAccepts",id:"checkaccepts",level:3},{value:"%WriteResponse",id:"writeresponse",level:3},{value:"%LogError",id:"logerror",level:3},{value:"%CheckUniqueArray",id:"checkuniquearray",level:3}];function c(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"restimpl",children:"%REST.Impl"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Class %REST.Impl Extends %RegisteredObject [ System = 4 ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Abstract superclass for REST implementation classes generated from OpenAPI specifications."}),"\n",(0,r.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(s.h3,{id:"exposeserverexceptions",children:"ExposeServerExceptions"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter ExposeServerExceptions = 0;\n"})}),"\n",(0,r.jsx)(s.p,{children:"If ExposeServerExceptions is overridden as true, then details of internal errors will be exposed."}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h3,{id:"setstatuscode",children:"%SetStatusCode"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %SetStatusCode(statusCode As %String)\n"})}),"\n",(0,r.jsx)(s.p,{children:"The HTTP Status code to be sent back in the response. The HTTP status codes are defined in RFC 2068."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.a,{href:"http://www.faqs.org/rfcs/rfc2068.html",children:"http://www.faqs.org/rfcs/rfc2068.html"})}),"\n",(0,r.jsx)(s.h3,{id:"setcontenttype",children:"%SetContentType"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %SetContentType(contentType As %String)\n"})}),"\n",(0,r.jsx)(s.p,{children:"Set the content-type header of the response"}),"\n",(0,r.jsx)(s.h3,{id:"getcontenttype",children:"%GetContentType"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetContentType()\n"})}),"\n",(0,r.jsx)(s.p,{children:"Get the content-type header of the request"}),"\n",(0,r.jsx)(s.h3,{id:"setheader",children:"%SetHeader"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %SetHeader(name As %String, value As %String)\n"})}),"\n",(0,r.jsx)(s.p,{children:"Sets a custom HTTP header into the reply. If you set the same header twice it will append the information to the first with a ',' between them. Note that name is not case sensitive, however we will remember the case of the header when sending this to the client."}),"\n",(0,r.jsx)(s.h3,{id:"setcookiefromheader",children:"%SetCookieFromHeader"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %SetCookieFromHeader(cookie As %String)\n"})}),"\n",(0,r.jsx)(s.p,{children:"Sets a custom HTTP Cookie into the reply. Takes the value of a Set-Cookie header as a String and parses out its properties. These include name,value,expires,path,etc... Created for use with WSGI."}),"\n",(0,r.jsx)(s.h3,{id:"setheaderifempty",children:"%SetHeaderIfEmpty"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %SetHeaderIfEmpty(name As %String, value As %String) As %Boolean\n"})}),"\n",(0,r.jsx)(s.p,{children:"Helper method that sets a header if it is currently empty, if it already has a value it does nothing. Returns true if the header was set and false if it did nothing."}),"\n",(0,r.jsx)(s.h3,{id:"getheader",children:"%GetHeader"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %GetHeader(name As %String) As %String\n"})}),"\n",(0,r.jsx)(s.p,{children:"Return the value of the name request header. Note that name is not case sensitive"}),"\n",(0,r.jsx)(s.h3,{id:"deleteheader",children:"%DeleteHeader"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %DeleteHeader(name As %String)\n"})}),"\n",(0,r.jsx)(s.p,{children:"Remove a header from the response. Note that name is not case sensitive"}),"\n",(0,r.jsx)(s.h3,{id:"reportresterror",children:"%ReportRESTError"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %ReportRESTError(statusCode As %String, sc As %Status, exposeServerExceptions As %Boolean = 0)\n"})}),"\n",(0,r.jsx)(s.p,{children:"Report an error when processing a request. The implementation class may contain an override of %ReportRESTError in order to format the error response as required by the REST application. The override should use the %WriteResponse method to return the error response."}),"\n",(0,r.jsx)(s.h3,{id:"checkaccepts",children:"%CheckAccepts"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %CheckAccepts(produces As %String) As %Boolean\n"})}),"\n",(0,r.jsx)(s.p,{children:"Check that the ACCEPT request header is included in the produces list."}),"\n",(0,r.jsx)(s.h3,{id:"writeresponse",children:"%WriteResponse"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %WriteResponse(response)\n"})}),"\n",(0,r.jsx)(s.p,{children:"%WriteResponse is used by the dispatch class to write the response to this request."}),"\n",(0,r.jsx)(s.h3,{id:"logerror",children:"%LogError"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %LogError(methodName As %String, error As %String, data As %String)\n"})}),"\n",(0,r.jsx)(s.p,{children:"Log an API Management error"}),"\n",(0,r.jsx)(s.h3,{id:"checkuniquearray",children:"%CheckUniqueArray"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %CheckUniqueArray(array As %ListOfDataTypes) As %Boolean [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Check that all items of an array are unique."})]})}function l(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>i});var r=t(96540);const n={},a=r.createContext(n);function o(e){const s=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);