"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[66727],{95449:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>i,default:()=>d,frontMatter:()=>l,toc:()=>r});var a=t(74848),n=t(28453);const l={pagination_prev:null,pagination_next:null},i="%DeepSee.UserPortal.Workflow",r=[{value:"Parameters",id:"parameters",level:2},{value:"PAGENAME",id:"pagename",level:3},{value:"HOMEPAGE",id:"homepage",level:3},{value:"WORKLIST1VIEW;",id:"worklist1view",level:3},{value:"WORKLIST2VIEW;",id:"worklist2view",level:3},{value:"Properties",id:"properties",level:2},{value:"currItemId",id:"curritemid",level:3},{value:"lastMessage",id:"lastmessage",level:3},{value:"hzSplit",id:"hzsplit",level:3},{value:"lastUpdateMsg",id:"lastupdatemsg",level:3},{value:"namespace",id:"namespace",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"CSS3Style",id:"css3style",level:3},{value:"Style",id:"style",level:3},{value:"menuPane",id:"menupane",level:3},{value:"contentsRightPane",id:"contentsrightpane",level:3},{value:"Methods",id:"methods",level:2},{value:"DrawWorklistTitle",id:"drawworklisttitle",level:3},{value:"DrawTaskHeader",id:"drawtaskheader",level:3},{value:"DrawTaskDetails",id:"drawtaskdetails",level:3},{value:"DrawTaskList",id:"drawtasklist",level:3},{value:"%OnAfterCreatePage",id:"onaftercreatepage",level:3},{value:"%OnGetTitle",id:"ongettitle",level:3},{value:"%OnGetPageName",id:"ongetpagename",level:3},{value:"refreshTimerHandler",id:"refreshtimerhandler",level:3},{value:"listRefreshed",id:"listrefreshed",level:3},{value:"refreshTasks",id:"refreshtasks",level:3},{value:"activateSearchBox",id:"activatesearchbox",level:3},{value:"searchKeyPress",id:"searchkeypress",level:3},{value:"doSearch",id:"dosearch",level:3},{value:"onAdjustSizes",id:"onadjustsizes",level:3},{value:"onPopupAction",id:"onpopupaction",level:3},{value:"updateWorklistTitle",id:"updateworklisttitle",level:3},{value:"updateDetails",id:"updatedetails",level:3},{value:"invokeAction",id:"invokeaction",level:3},{value:"toggleDetails",id:"toggledetails",level:3},{value:"setSplit",id:"setsplit",level:3},{value:"startSplitTimer",id:"startsplittimer",level:3},{value:"clearSplitTimer",id:"clearsplittimer",level:3},{value:"splitTimerHandler",id:"splittimerhandler",level:3},{value:"selectItem",id:"selectitem",level:3},{value:"%OnGetWorklistOptions1",id:"ongetworklistoptions1",level:3},{value:"%OnGetWorklistOptions2",id:"ongetworklistoptions2",level:3},{value:"%GetWorkflowTasksForUser",id:"getworkflowtasksforuser",level:3},{value:"ShowForm",id:"showform",level:3},{value:"actionButtonHandler",id:"actionbuttonhandler",level:3},{value:"%OnSubmit",id:"onsubmit",level:3},{value:"gotoSMP",id:"gotosmp",level:3},{value:"onloadHandler",id:"onloadhandler",level:3},{value:"downloadLink",id:"downloadlink",level:3}];function c(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"deepseeuserportalworkflow",children:"%DeepSee.UserPortal.Workflow"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Class %DeepSee.UserPortal.Workflow Extends %DeepSee.UserPortal.standardPage [ System = 4 ]\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Workflow InBox page.",(0,a.jsx)(s.br,{}),"\nShows the list of current workflow tasks for the current user."]}),"\n",(0,a.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(s.h3,{id:"pagename",children:"PAGENAME"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter PAGENAME = "Workflow Inbox";\n'})}),"\n",(0,a.jsx)(s.p,{children:"Name of this page."}),"\n",(0,a.jsx)(s.h3,{id:"homepage",children:"HOMEPAGE"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HOMEPAGE = "_DeepSee.UserPortal.Home.zen";\n'})}),"\n",(0,a.jsx)(s.p,{children:"URL of home page (used in links)."}),"\n",(0,a.jsx)(s.h3,{id:"worklist1view",children:"WORKLIST1VIEW;"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter WORKLIST1VIEW;\n"})}),"\n",(0,a.jsx)(s.p,{children:"Starting view for worklist 1."}),"\n",(0,a.jsx)(s.h3,{id:"worklist2view",children:"WORKLIST2VIEW;"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter WORKLIST2VIEW;\n"})}),"\n",(0,a.jsx)(s.p,{children:"Starting view for worklist 2."}),"\n",(0,a.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,a.jsx)(s.h3,{id:"curritemid",children:"currItemId"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Property currItemId As %String(ZENURL = "ID");\n'})}),"\n",(0,a.jsx)(s.p,{children:"Item id of current item."}),"\n",(0,a.jsx)(s.h3,{id:"lastmessage",children:"lastMessage"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'Property lastMessage As %String(ZENURL = "MSG");\n'})}),"\n",(0,a.jsx)(s.p,{children:"Message from form submit handler."}),"\n",(0,a.jsx)(s.h3,{id:"hzsplit",children:"hzSplit"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Property hzSplit As %Integer [ InitialExpression = 70 ];\n"})}),"\n",(0,a.jsx)(s.p,{children:"Percentage height of task list."}),"\n",(0,a.jsx)(s.h3,{id:"lastupdatemsg",children:"lastUpdateMsg"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Property lastUpdateMsg As %String;\n"})}),"\n",(0,a.jsx)(s.p,{children:"Last update message."}),"\n",(0,a.jsx)(s.h3,{id:"namespace",children:"namespace"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Property namespace As %ZEN.Datatype.string [ InitialExpression = {$namespace} ];\n"})}),"\n",(0,a.jsx)(s.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,a.jsx)(s.h3,{id:"css3style",children:"CSS3Style"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"XData CSS3Style\n"})}),"\n",(0,a.jsx)(s.h3,{id:"style",children:"Style"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"XData Style\n"})}),"\n",(0,a.jsx)(s.h3,{id:"menupane",children:"menuPane"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'XData menuPane [ XMLNamespace = "http://www.intersystems.com/zen" ]\n'})}),"\n",(0,a.jsx)(s.p,{children:"This XML defines the menu for this page."}),"\n",(0,a.jsx)(s.h3,{id:"contentsrightpane",children:"contentsRightPane"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'XData contentsRightPane [ XMLNamespace = "http://www.intersystems.com/zen" ]\n'})}),"\n",(0,a.jsx)(s.p,{children:"This XML defines the main display area."}),"\n",(0,a.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,a.jsx)(s.h3,{id:"drawworklisttitle",children:"DrawWorklistTitle"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method DrawWorklistTitle(pSeed As %String) As %Status [ Final ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Draw the contents of the worklist title area."}),"\n",(0,a.jsx)(s.h3,{id:"drawtaskheader",children:"DrawTaskHeader"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method DrawTaskHeader(pSeed As %String) As %Status [ Final ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Draw the contents of the Task Header area."}),"\n",(0,a.jsx)(s.h3,{id:"drawtaskdetails",children:"DrawTaskDetails"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method DrawTaskDetails(pSeed As %String) As %Status [ Final ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Draw the contents of the Task Details area."}),"\n",(0,a.jsx)(s.h3,{id:"drawtasklist",children:"DrawTaskList"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method DrawTaskList(pSeed As %String) As %Status [ Final ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Draw the contents of the Task List area."}),"\n",(0,a.jsx)(s.h3,{id:"onaftercreatepage",children:"%OnAfterCreatePage"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %OnAfterCreatePage() As %Status\n"})}),"\n",(0,a.jsx)(s.p,{children:"Decorate the page."}),"\n",(0,a.jsx)(s.h3,{id:"ongettitle",children:"%OnGetTitle"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %OnGetTitle() As %String\n"})}),"\n",(0,a.jsx)(s.p,{children:"Get the (localized) title string for the page. This should be implemented in a subclass."}),"\n",(0,a.jsx)(s.h3,{id:"ongetpagename",children:"%OnGetPageName"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %OnGetPageName() As %String\n"})}),"\n",(0,a.jsx)(s.p,{children:"Get the (localized) name of the page. This should be implemented in a subclass."}),"\n",(0,a.jsx)(s.h3,{id:"refreshtimerhandler",children:"refreshTimerHandler"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod refreshTimerHandler(timer) [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Refresh timer has fired."}),"\n",(0,a.jsx)(s.h3,{id:"listrefreshed",children:"listRefreshed"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod listRefreshed() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Called whenever task list is refreshed.."}),"\n",(0,a.jsx)(s.h3,{id:"refreshtasks",children:"refreshTasks"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod refreshTasks() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Reload the task list."}),"\n",(0,a.jsx)(s.h3,{id:"activatesearchbox",children:"activateSearchBox"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod activateSearchBox() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Activate the search text box;"}),"\n",(0,a.jsx)(s.h3,{id:"searchkeypress",children:"searchKeyPress"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod searchKeyPress(evt) [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Key press in search box."}),"\n",(0,a.jsx)(s.h3,{id:"dosearch",children:"doSearch"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod doSearch() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Perform a search."}),"\n",(0,a.jsx)(s.h3,{id:"onadjustsizes",children:"onAdjustSizes"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod onAdjustSizes(load, contentWidth, contentHeight) [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Adjust sizes of content area."}),"\n",(0,a.jsx)(s.h3,{id:"onpopupaction",children:"onPopupAction"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod onPopupAction(popupName, action, value) [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"This client event is fired when the a popup page launched from this page fires an action."}),"\n",(0,a.jsx)(s.h3,{id:"updateworklisttitle",children:"updateWorklistTitle"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod updateWorklistTitle() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Update the title for the dashboard."}),"\n",(0,a.jsx)(s.h3,{id:"updatedetails",children:"updateDetails"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod updateDetails(taskid) [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Update the details panel if the taskid is not the same as URL"}),"\n",(0,a.jsx)(s.h3,{id:"invokeaction",children:"invokeAction"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod invokeAction(type, rowid) [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Invoke an action on a row."}),"\n",(0,a.jsx)(s.h3,{id:"toggledetails",children:"toggleDetails"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod toggleDetails() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Make details section big or little."}),"\n",(0,a.jsx)(s.h3,{id:"setsplit",children:"setSplit"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod setSplit(split) [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Invoke an action on a row."}),"\n",(0,a.jsx)(s.h3,{id:"startsplittimer",children:"startSplitTimer"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod startSplitTimer() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Start the split timer."}),"\n",(0,a.jsx)(s.h3,{id:"clearsplittimer",children:"clearSplitTimer"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod clearSplitTimer() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Stop the split timer."}),"\n",(0,a.jsx)(s.h3,{id:"splittimerhandler",children:"splitTimerHandler"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod splitTimerHandler() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Action for split timer."}),"\n",(0,a.jsx)(s.h3,{id:"selectitem",children:"selectItem"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod selectItem(id) [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Click on item in task list."}),"\n",(0,a.jsx)(s.h3,{id:"ongetworklistoptions1",children:"%OnGetWorklistOptions1"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %OnGetWorklistOptions1(Output pOptions, Output pDefaultMode) As %Status\n"})}),"\n",(0,a.jsx)(s.p,{children:"Return list of options for work list 1."}),"\n",(0,a.jsx)(s.h3,{id:"ongetworklistoptions2",children:"%OnGetWorklistOptions2"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method %OnGetWorklistOptions2(Output pOptions, Output pDefaultMode) As %Status\n"})}),"\n",(0,a.jsx)(s.p,{children:"Return list of options for work list 2."}),"\n",(0,a.jsx)(s.h3,{id:"getworkflowtasksforuser",children:"%GetWorkflowTasksForUser"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod %GetWorkflowTasksForUser(Output pList, Output pColumns, pSearchKey As %String = "") As %Status\n'})}),"\n",(0,a.jsx)(s.p,{children:"Return list of workflow tasks for the current user."}),"\n",(0,a.jsx)(s.h3,{id:"showform",children:"ShowForm"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method ShowForm(pItem As %RegisteredObject, pState As %String) As %Status\n"})}),"\n",(0,a.jsx)(s.p,{children:"Show form for this worklist item"}),"\n",(0,a.jsx)(s.h3,{id:"actionbuttonhandler",children:"actionButtonHandler"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod actionButtonHandler(action, confirmMsg) [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Called by action buttons on the detail form."}),"\n",(0,a.jsx)(s.h3,{id:"onsubmit",children:"%OnSubmit"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %OnSubmit(pSubmit As %ZEN.Submit) As %Status\n"})}),"\n",(0,a.jsx)(s.p,{children:"Submit handler-- this processes submits of the task form."}),"\n",(0,a.jsx)(s.h3,{id:"gotosmp",children:"gotoSMP"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod gotoSMP() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"Show the System Management portal."}),"\n",(0,a.jsx)(s.h3,{id:"onloadhandler",children:"onloadHandler"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod onloadHandler() [ Language = javascript ]\n"})}),"\n",(0,a.jsx)(s.p,{children:"This client event, if present, is fired when the page is loaded."}),"\n",(0,a.jsx)(s.h3,{id:"downloadlink",children:"downloadLink"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-objectscript-class",children:"Method downloadLink() As %String [ ZenMethod ]\n"})})]})}function d(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>r});var a=t(96540);const n={},l=a.createContext(n);function i(e){const s=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),a.createElement(l.Provider,{value:s},e.children)}}}]);