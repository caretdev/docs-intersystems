"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[58958],{4221:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>i,default:()=>l,frontMatter:()=>a,toc:()=>o});var n=t(74848),r=t(28453);const a={pagination_prev:null,pagination_next:null},i="%Exception.StatusException",o=[{value:"Properties",id:"properties",level:2},{value:"NextException",id:"nextexception",level:3},{value:"Methods",id:"methods",level:2},{value:"CreateFromStatus",id:"createfromstatus",level:3},{value:"OnAsStatus",id:"onasstatus",level:3},{value:"DisplayString",id:"displaystring",level:3},{value:"OnAsSQLCODE",id:"onassqlcode",level:3},{value:"SQLMessageString",id:"sqlmessagestring",level:3},{value:"OnAsSQLMessage",id:"onassqlmessage",level:3},{value:"ThrowIfInterrupt",id:"throwifinterrupt",level:3}];function c(e){const s={br:"br",code:"code",database:"database",filefull:"filefull",h1:"h1",h2:"h2",h3:"h3",header:"header",interrupt:"interrupt",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"exceptionstatusexception",children:"%Exception.StatusException"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Class %Exception.StatusException Extends %Exception.AbstractException\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Class to hold %Status style exceptions",(0,n.jsx)(s.br,{}),"\nIf you wish to create one with %New then the 4th argument is a $lb of data values to the error %Status, e.g.",(0,n.jsx)(s.br,{}),"\nSet exception=##class(%Exception.StatusException).%New(Name,Code,Location,$lb(arg1,arg2,arg3,arg4))"]}),"\n",(0,n.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(s.h3,{id:"nextexception",children:"NextException"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property NextException As %RawString;\n"})}),"\n",(0,n.jsx)(s.p,{children:"Container for additional exceptions in the %Status value"}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(s.h3,{id:"createfromstatus",children:"CreateFromStatus"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CreateFromStatus(pSC As %Status) As %Exception.AbstractException\n"})}),"\n",(0,n.jsx)(s.p,{children:"Convert a %Status into an exception"}),"\n",(0,n.jsx)(s.h3,{id:"onasstatus",children:"OnAsStatus"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Method OnAsStatus() As %Status [ Private ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Override this method to provide a custom conversion of an exception to a status"}),"\n",(0,n.jsx)(s.h3,{id:"displaystring",children:"DisplayString"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Method DisplayString(pLevel As %Integer = 0) As %String\n"})}),"\n",(0,n.jsx)(s.p,{children:"This returns a string that represents the exception. Users should feel free to modify the format in subclasses"}),"\n",(0,n.jsx)(s.h3,{id:"onassqlcode",children:"OnAsSQLCODE"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Method OnAsSQLCODE() As %Integer [ Private ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Override this method to provide a custom conversion of an exception to an SQLCODE value"}),"\n",(0,n.jsx)(s.h3,{id:"sqlmessagestring",children:"SQLMessageString"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Method SQLMessageString(pLevel As %Integer = 0) [ Deprecated ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This returns a string that represents the SQL %msg string. Users should feel free to modify the format and content in subclasses DEPRECATED - use AsSQLMessage() instead. Override OnAsSQLMessage() to customize the value returned by AsSQLMessage()."}),"\n",(0,n.jsx)(s.h3,{id:"onassqlmessage",children:"OnAsSQLMessage"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Method OnAsSQLMessage() As %String(MAXLEN="")\n'})}),"\n",(0,n.jsx)(s.h3,{id:"throwifinterrupt",children:"ThrowIfInterrupt"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ThrowIfInterrupt(sc As %Status) As %Exception.AbstractException\n"})}),"\n",(0,n.jsxs)(s.p,{children:["If ",(0,n.jsx)(s.code,{children:"sc"})," is an ",(0,n.jsxs)(s.interrupt,{children:[" or a hard error like ",(0,n.jsxs)(s.filefull,{children:[" or ",(0,n.jsx)(s.database,{children:", use ZTRAP to re-throw the error. For any other error status, turn it into an exception and return that. This method should not be called with an OK status."})]})]})]})]})}function l(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>o});var n=t(96540);const r={},a=n.createContext(r);function i(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);