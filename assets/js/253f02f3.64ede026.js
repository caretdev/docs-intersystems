"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[48792],{85257:(e,r,s)=>{s.r(r),s.d(r,{contentTitle:()=>l,default:()=>d,frontMatter:()=>t,toc:()=>i});var n=s(74848),a=s(28453);const t={pagination_prev:null,pagination_next:null},l="%XML.Utils.SchemaHandler",i=[{value:"Properties",id:"properties",level:2},{value:"Tree",id:"tree",level:3},{value:"InSchema",id:"inschema",level:3},{value:"Level",id:"level",level:3},{value:"ElStack",id:"elstack",level:3},{value:"Reader",id:"reader",level:3},{value:"SourceName",id:"sourcename",level:3},{value:"PrefixMap",id:"prefixmap",level:3},{value:"TargetNS",id:"targetns",level:3},{value:"SaveTargetNS",id:"savetargetns",level:3},{value:"Included",id:"included",level:3},{value:"Methods",id:"methods",level:2},{value:"ParseFile",id:"parsefile",level:3},{value:"ParseStream",id:"parsestream",level:3},{value:"ParseURL",id:"parseurl",level:3},{value:"UnpackAttrs",id:"unpackattrs",level:3},{value:"GetFullPath",id:"getfullpath",level:3},{value:"startDocument",id:"startdocument",level:3},{value:"startPrefixMapping",id:"startprefixmapping",level:3},{value:"endPrefixMapping",id:"endprefixmapping",level:3},{value:"startElement",id:"startelement",level:3},{value:"endElement",id:"endelement",level:3},{value:"characters",id:"characters",level:3}];function c(e){const r={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"xmlutilsschemahandler",children:"%XML.Utils.SchemaHandler"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Class %XML.Utils.SchemaHandler Extends %XML.SAX.ContentHandler [ System = 3 ]\n"})}),"\n",(0,n.jsxs)(r.p,{children:["A SAX content handler that processes XML Schema files.",(0,n.jsx)(r.br,{}),"\nThis class is used by the XML Schema Wizard; it is not for direct use within applications. This class is used internally by InterSystems IRIS. You should not make direct use of it within your applications. There is no guarantee made about either the behavior or future operation of this class."]}),"\n",(0,n.jsx)(r.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(r.h3,{id:"tree",children:"Tree"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Property Tree As %Integer;\n"})}),"\n",(0,n.jsx)(r.p,{children:"Integer tree id within ^IRIS.Temp"}),"\n",(0,n.jsx)(r.h3,{id:"inschema",children:"InSchema"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Property InSchema As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(r.p,{children:"Are we in a schema?"}),"\n",(0,n.jsx)(r.h3,{id:"level",children:"Level"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Property Level As %Integer [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(r.p,{children:"Stack level"}),"\n",(0,n.jsx)(r.h3,{id:"elstack",children:"ElStack"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Property ElStack As %String [ MultiDimensional ];\n"})}),"\n",(0,n.jsxs)(r.p,{children:["Stack of parsed elements.",(0,n.jsx)(r.br,{}),"\nEach entry contains: $LB(local, elno)"]}),"\n",(0,n.jsx)(r.h3,{id:"reader",children:"Reader"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Property Reader As SchemaReader;\n"})}),"\n",(0,n.jsx)(r.p,{children:"The SchemaReader that invoked us."}),"\n",(0,n.jsx)(r.h3,{id:"sourcename",children:"SourceName"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Property SourceName As %String;\n"})}),"\n",(0,n.jsx)(r.p,{children:"The file we are parsing"}),"\n",(0,n.jsx)(r.h3,{id:"prefixmap",children:"PrefixMap"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Property PrefixMap As %String [ MultiDimensional ];\n"})}),"\n",(0,n.jsxs)(r.p,{children:["List of namespace prefixes and their mappings",(0,n.jsx)(r.br,{}),"\nPrefixMap(prefix) = uri",(0,n.jsx)(r.br,{}),'\nPrefixMap(prefix,#) = uri (for "stacked" prefixes)']}),"\n",(0,n.jsx)(r.h3,{id:"targetns",children:"TargetNS"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Property TargetNS As %String;\n"})}),"\n",(0,n.jsx)(r.p,{children:"current target namespace for this schema"}),"\n",(0,n.jsx)(r.h3,{id:"savetargetns",children:"SaveTargetNS"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Property SaveTargetNS As %String [ Private ];\n"})}),"\n",(0,n.jsx)(r.p,{children:"Save original target namespace when starting processing of schema"}),"\n",(0,n.jsx)(r.h3,{id:"included",children:"Included"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Property Included As %Boolean;\n"})}),"\n",(0,n.jsx)(r.p,{children:"included or imported schema being processed"}),"\n",(0,n.jsx)(r.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(r.h3,{id:"parsefile",children:"ParseFile"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:'ClassMethod ParseFile(filename As %String, reader As SchemaReader, target As %String = "", bInclude As %Boolean = 0) As %Status\n'})}),"\n",(0,n.jsx)(r.p,{children:"Parse an XML Schema file"}),"\n",(0,n.jsx)(r.h3,{id:"parsestream",children:"ParseStream"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"ClassMethod ParseStream(stream As %AbstractStream, reader As SchemaReader) As %Status\n"})}),"\n",(0,n.jsx)(r.p,{children:"Parse an XML Schema stream"}),"\n",(0,n.jsx)(r.h3,{id:"parseurl",children:"ParseURL"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:'ClassMethod ParseURL(url As %String, reader As SchemaReader, target As %String = "", bInclude As %Boolean = 0) As %Status\n'})}),"\n",(0,n.jsx)(r.p,{children:"Parse an XML Schema from a URL"}),"\n",(0,n.jsx)(r.h3,{id:"unpackattrs",children:"UnpackAttrs"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Method UnpackAttrs(attrs As %List, ByRef array As %String)\n"})}),"\n",(0,n.jsx)(r.p,{children:"Converts list of attrs into an array keyed by attr name"}),"\n",(0,n.jsx)(r.h3,{id:"getfullpath",children:"GetFullPath"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"ClassMethod GetFullPath(base As %String, file As %String) As %String\n"})}),"\n",(0,n.jsx)(r.h3,{id:"startdocument",children:"startDocument"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Method startDocument()\n"})}),"\n",(0,n.jsx)(r.h3,{id:"startprefixmapping",children:"startPrefixMapping"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Method startPrefixMapping(prefix As %Library.String, uri As %Library.String)\n"})}),"\n",(0,n.jsx)(r.h3,{id:"endprefixmapping",children:"endPrefixMapping"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Method endPrefixMapping(prefix As %Library.String)\n"})}),"\n",(0,n.jsx)(r.h3,{id:"startelement",children:"startElement"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Method startElement(uri As %Library.String, local As %Library.String, qname As %Library.String, attrs As %List)\n"})}),"\n",(0,n.jsx)(r.h3,{id:"endelement",children:"endElement"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Method endElement(uri As %Library.String, local As %Library.String, qname As %Library.String)\n"})}),"\n",(0,n.jsx)(r.h3,{id:"characters",children:"characters"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-objectscript-class",children:"Method characters(chars As %Library.String, length As %Library.Integer)\n"})})]})}function d(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,r,s)=>{s.d(r,{R:()=>l,x:()=>i});var n=s(96540);const a={},t=n.createContext(a);function l(e){const r=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),n.createElement(t.Provider,{value:r},e.children)}}}]);