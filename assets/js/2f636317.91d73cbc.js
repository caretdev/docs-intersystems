"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[32323],{10164:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>c,default:()=>a,frontMatter:()=>i,toc:()=>d});var t=s(74848),r=s(28453);const i={pagination_prev:null,pagination_next:null},c="%External.Messaging.RabbitMQMessage",d=[{value:"Properties",id:"properties",level:2},{value:"exchange",id:"exchange",level:3},{value:"routingKey",id:"routingkey",level:3},{value:"encodedContent",id:"encodedcontent",level:3},{value:"contentType",id:"contenttype",level:3},{value:"contentEncoding",id:"contentencoding",level:3},{value:"headers",id:"headers",level:3},{value:"deliveryMode",id:"deliverymode",level:3},{value:"priority",id:"priority",level:3},{value:"correlationId",id:"correlationid",level:3},{value:"replyTo",id:"replyto",level:3},{value:"expiration",id:"expiration",level:3},{value:"messageId",id:"messageid",level:3},{value:"timestamp",id:"timestamp",level:3},{value:"type",id:"type",level:3},{value:"userId",id:"userid",level:3},{value:"appId",id:"appid",level:3},{value:"clusterId",id:"clusterid",level:3},{value:"Methods",id:"methods",level:2},{value:"SetContent",id:"setcontent",level:3},{value:"SetEncodedContent",id:"setencodedcontent",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"externalmessagingrabbitmqmessage",children:"%External.Messaging.RabbitMQMessage"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %External.Messaging.RabbitMQMessage Extends %External.Messaging.Message\n"})}),"\n",(0,t.jsx)(n.p,{children:"RabbitMQ message content and properties"}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h3,{id:"exchange",children:"exchange"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property exchange As %String(MAXLEN = 100);\n"})}),"\n",(0,t.jsx)(n.p,{children:"The exchange to which this message should be published"}),"\n",(0,t.jsx)(n.h3,{id:"routingkey",children:"routingKey"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property routingKey As %String(MAXLEN = 100);\n"})}),"\n",(0,t.jsx)(n.p,{children:"The routing key to publish with this message"}),"\n",(0,t.jsx)(n.h3,{id:"encodedcontent",children:"encodedContent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property encodedContent As %Stream.GlobalBinary(%JSONINCLUDE = "NONE");\n'})}),"\n",(0,t.jsx)(n.p,{children:"The content of the message, stored in a binary stream. Content should be encoded in the preferred scheme before writing to the stream, and decoded after reading if necessary."}),"\n",(0,t.jsx)(n.p,{children:'For example, to encode using UTF-8, then call $ZCONVERT(text, "O", "UTF8") and write the result to this stream.'}),"\n",(0,t.jsx)(n.h3,{id:"contenttype",children:"contentType"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property contentType As %String(MAXLEN = 100);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Message content type"}),"\n",(0,t.jsx)(n.h3,{id:"contentencoding",children:"contentEncoding"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property contentEncoding As %String(MAXLEN = 100);\n"})}),"\n",(0,t.jsx)(n.p,{children:'Message content encoding Only "UTF-8" is supported'}),"\n",(0,t.jsx)(n.h3,{id:"headers",children:"headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property headers As array Of %String(MAXLEN = "");\n'})}),"\n",(0,t.jsx)(n.p,{children:'This will be converted to a map from String to Object in Java, and attached to the message as the "headers" property'}),"\n",(0,t.jsx)(n.h3,{id:"deliverymode",children:"deliveryMode"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property deliveryMode As %Integer(MAXVAL = 2, MINVAL = 1);\n"})}),"\n",(0,t.jsx)(n.p,{children:"2 indicates persistent, and 1 indicates transient"}),"\n",(0,t.jsx)(n.h3,{id:"priority",children:"priority"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property priority As %Integer;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Message priority"}),"\n",(0,t.jsx)(n.h3,{id:"correlationid",children:"correlationId"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property correlationId As %String(MAXLEN = 1000);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Message correlation Id"}),"\n",(0,t.jsx)(n.h3,{id:"replyto",children:"replyTo"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property replyTo As %String(MAXLEN = 100);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Message reply to"}),"\n",(0,t.jsx)(n.h3,{id:"expiration",children:"expiration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property expiration As %String(MAXLEN = 100);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Message expriation"}),"\n",(0,t.jsx)(n.h3,{id:"messageid",children:"messageId"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property messageId As %String(MAXLEN = 1000);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Message Id"}),"\n",(0,t.jsx)(n.h3,{id:"timestamp",children:"timestamp"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property timestamp As %TimeStamp;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Message timestamp"}),"\n",(0,t.jsx)(n.h3,{id:"type",children:"type"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property type As %String(MAXLEN = 100);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Message type"}),"\n",(0,t.jsx)(n.h3,{id:"userid",children:"userId"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property userId As %String(MAXLEN = 1000);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Message user Id"}),"\n",(0,t.jsx)(n.h3,{id:"appid",children:"appId"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property appId As %String(MAXLEN = 1000);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Message app Id"}),"\n",(0,t.jsx)(n.h3,{id:"clusterid",children:"clusterId"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property clusterId As %String(MAXLEN = 1000);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Cluster Id"}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"setcontent",children:"SetContent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method SetContent(content As %Binary)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Set binary content"}),"\n",(0,t.jsx)(n.h3,{id:"setencodedcontent",children:"SetEncodedContent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method SetEncodedContent(content As %String)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Encode string content as UTF-8"})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var t=s(96540);const r={},i=t.createContext(r);function c(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);