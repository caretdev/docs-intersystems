"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[51701],{63825:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>a,default:()=>i,frontMatter:()=>o,toc:()=>l});var t=s(74848),r=s(28453);const o={pagination_prev:null,pagination_next:null},a="%Compiler.Type.Index",l=[{value:"Methods",id:"methods",level:2},{value:"Exists",id:"exists",level:3},{value:"Check",id:"check",level:3},{value:"Open",id:"open",level:3},{value:"Delete",id:"delete",level:3},{value:"SQLExists",id:"sqlexists",level:3},{value:"SQLCheckUnique",id:"sqlcheckunique",level:3},{value:"SQLFindPKeyByConstraint",id:"sqlfindpkeybyconstraint",level:3},{value:"SQLFindRowIDByConstraint",id:"sqlfindrowidbyconstraint",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"compilertypeindex",children:"%Compiler.Type.Index"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %Compiler.Type.Index [ NoContext, Not ProcedureBlock, System = 2 ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Class Member Class: Index"}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"exists",children:"Exists"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod Exists(ByRef id As %String = "") As %Boolean [ CodeMode = generator, ProcedureBlock = 1, ServerOnly = 0 ]\n'})}),"\n",(0,t.jsx)(n.p,{children:"Exists() This method returns true if an object whose index key value matches the value/values passed in by the caller. The optional byref id parameter will contain the id matching the object that was found to match the index key value upon a successful return."}),"\n",(0,t.jsx)(n.h3,{id:"check",children:"Check"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Check(lockonly As %Integer = 0, concurrency As %Integer = -1) As %Status [ CodeMode = generator, ProcedureBlock = 1, ServerOnly = 1 ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Check() This method checks for the existence of the key and locks the object associated with that key. The optional lockonly parameter is used to validate the key. If lockonly is true then we just want to acquire/release a lock for the id associated with the key value. If the key value doesn't exist then lockonly causes a success status to be returned, otherwise failure is returned. If lockonly is not true then the id associated with the key is looked up, if found the associated object is locked/released. Also, the key is validated again after the lock is acquired. A %Status value is returned."}),"\n",(0,t.jsx)(n.h3,{id:"open",children:"Open"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Open(concurrency As %Integer = -1, ByRef sc As %Status = {$$$OK}) As %ObjectHandle [ CodeMode = generator, ProcedureBlock = 1, ServerOnly = 0 ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"The index Open method is generated as a member method for for unique and primary key indices as well as an IDKEY index based on more than one index property. This method, Open, will open the object whose index property values match the supplied values. If no object that matches the supplied values is found then if the optional status parameter is set to an error message. This interface is the same as %OpenId except that Open accepts one parameter corresponding to each property in the index. For example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'Set person = ##class(Sample.Person).SSNKeyOpen("111-22-3333",2,.sc) \n'})}),"\n",(0,t.jsx)(n.p,{children:'Upon successful execution, person will be the oref that references an instance of Sample.Person whose SSN property value is "111-22-3333". The concurrency value is 2 and, if an error occurred its value will be in the variable sc.'}),"\n",(0,t.jsx)(n.h3,{id:"delete",children:"Delete"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Delete(concurrency As %Integer = -1) As %Status [ CodeMode = generator, GenerateAfter = Open, ProcedureBlock = 1, ServerOnly = 0 ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"sqlexists",children:"SQLExists"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod SQLExists(pLockOnly As %Boolean = 0, ByRef pUnlockRef As %String, %pVal... As %String) As %Status [ CodeMode = generator, Internal, ServerOnly = 1 ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"sqlcheckunique",children:"SQLCheckUnique"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod SQLCheckUnique(pFromOrig As %Boolean = 0, %pID As %String, %pVals... As %String) As %Status [ CodeMode = generator, Internal, ServerOnly = 1 ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"sqlfindpkeybyconstraint",children:"SQLFindPKeyByConstraint"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod SQLFindPKeyByConstraint(%con As %String) As %Status [ CodeMode = generator, Internal, ServerOnly = 1 ]\n"})}),"\n",(0,t.jsx)(n.h3,{id:"sqlfindrowidbyconstraint",children:"SQLFindRowIDByConstraint"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod SQLFindRowIDByConstraint(%con As %String, pInternal As %Boolean = 0) As %Status [ CodeMode = generator, Internal, ServerOnly = 1 ]\n"})})]})}function i(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var t=s(96540);const r={},o=t.createContext(r);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);