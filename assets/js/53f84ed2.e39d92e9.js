"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[15722],{30002:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>c,default:()=>o,frontMatter:()=>r,toc:()=>l});var i=t(74848),n=t(28453);const r={pagination_prev:null,pagination_next:null},c="%SYSTEM.Context.CSP",l=[{value:"Properties",id:"properties",level:2},{value:"SQLGatewayTimeout",id:"sqlgatewaytimeout",level:3},{value:"AuthTokenInfo",id:"authtokeninfo",level:3},{value:"persistentDevices",id:"persistentdevices",level:3},{value:"Methods",id:"methods",level:2},{value:"%OnNew",id:"onnew",level:3},{value:"AddPersistentDevice",id:"addpersistentdevice",level:3},{value:"RemovePersistentDevice",id:"removepersistentdevice",level:3},{value:"IsPersistent",id:"ispersistent",level:3},{value:"PurgePersistentDevices",id:"purgepersistentdevices",level:3},{value:"RemoveAllPersistentDevices",id:"removeallpersistentdevices",level:3},{value:"NextPersistentDevice",id:"nextpersistentdevice",level:3}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"systemcontextcsp",children:"%SYSTEM.Context.CSP"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-objectscript-class",children:"Class %SYSTEM.Context.CSP Extends %Library.SystemBase\n"})}),"\n",(0,i.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(s.h3,{id:"sqlgatewaytimeout",children:"SQLGatewayTimeout"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-objectscript-class",children:"Property SQLGatewayTimeout As %Integer;\n"})}),"\n",(0,i.jsx)(s.p,{children:"Timeout (in seconds) for SQL Gateway connections. If a connection has not been used for longer than this time, it will be terminated. The timeout is applied at the end of each CSP request."}),"\n",(0,i.jsx)(s.h3,{id:"authtokeninfo",children:"AuthTokenInfo"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-objectscript-class",children:"Property AuthTokenInfo As %DynamicObject;\n"})}),"\n",(0,i.jsx)(s.h3,{id:"persistentdevices",children:"persistentDevices"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-objectscript-class",children:"Property persistentDevices As %String [ MultiDimensional ];\n"})}),"\n",(0,i.jsx)(s.p,{children:"Array of devices that should not be closed after each request"}),"\n",(0,i.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(s.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-objectscript-class",children:"Method %OnNew() As %Status [ Private ]\n"})}),"\n",(0,i.jsx)(s.h3,{id:"addpersistentdevice",children:"AddPersistentDevice"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-objectscript-class",children:"Method AddPersistentDevice(device As %String)\n"})}),"\n",(0,i.jsx)(s.p,{children:"Add the specified device to the list of persistent devices. Devices in this list will not be closed after each request."}),"\n",(0,i.jsx)(s.h3,{id:"removepersistentdevice",children:"RemovePersistentDevice"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-objectscript-class",children:"Method RemovePersistentDevice(device As %String)\n"})}),"\n",(0,i.jsx)(s.p,{children:"Remove the specified device from the set of persistent devices. This will allow the device to be closed normally after the current request."}),"\n",(0,i.jsx)(s.h3,{id:"ispersistent",children:"IsPersistent"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-objectscript-class",children:"Method IsPersistent(device As %String) As %Boolean\n"})}),"\n",(0,i.jsx)(s.p,{children:"Check if the specified device is in the list of persistent devices."}),"\n",(0,i.jsx)(s.h3,{id:"purgepersistentdevices",children:"PurgePersistentDevices"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-objectscript-class",children:"Method PurgePersistentDevices()\n"})}),"\n",(0,i.jsx)(s.p,{children:"This method will remove any devices in the persistent list that are no longer open."}),"\n",(0,i.jsx)(s.h3,{id:"removeallpersistentdevices",children:"RemoveAllPersistentDevices"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-objectscript-class",children:"Method RemoveAllPersistentDevices()\n"})}),"\n",(0,i.jsx)(s.p,{children:"Remove all devices marked as persistent. The devices are not closed immediately; they will be closed at the end of the current request"}),"\n",(0,i.jsx)(s.h3,{id:"nextpersistentdevice",children:"NextPersistentDevice"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-objectscript-class",children:"Method NextPersistentDevice(device As %String, direction As %Integer = 1)\n"})}),"\n",(0,i.jsx)(s.p,{children:"Given a device, this method returns the next persistent device in this list, in collation order. This can be used to iterate over the list of devices."}),"\n",(0,i.jsx)(s.p,{children:'device indicates the current location of the iterator. Specify "" to retrieve the first device'}),"\n",(0,i.jsx)(s.p,{children:"direction specify 1 to retrieve the next device in collation order, or -1 to retrieve the previous device. The default is 1."}),"\n",(0,i.jsx)(s.p,{children:'returns the next device, or "" if there are no more devices.'})]})}function o(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>c,x:()=>l});var i=t(96540);const n={},r=i.createContext(n);function c(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);