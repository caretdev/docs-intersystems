"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[11659],{61729:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>c,default:()=>d,frontMatter:()=>i,toc:()=>a});var r=t(74848),s=t(28453);const i={pagination_prev:null,pagination_next:null},c="%SOAP.Security.SecurityTokenReference",a=[{value:"Parameters",id:"parameters",level:2},{value:"XMLFORMAT",id:"xmlformat",level:3},{value:"NAMESPACE",id:"namespace",level:3},{value:"Properties",id:"properties",level:2},{value:"Reference",id:"reference",level:3},{value:"Usage",id:"usage",level:3},{value:"Length",id:"length",level:3},{value:"Nonce",id:"nonce",level:3},{value:"TokenType",id:"tokentype",level:3},{value:"X509Credentials",id:"x509credentials",level:3},{value:"Methods",id:"methods",level:2},{value:"GetDirectReference",id:"getdirectreference",level:3},{value:"GetX509DirectReference",id:"getx509directreference",level:3},{value:"GetSCTReference",id:"getsctreference",level:3},{value:"GetSAMLDirectReference",id:"getsamldirectreference",level:3},{value:"GetX509KeyIdentifier",id:"getx509keyidentifier",level:3},{value:"GetSAMLKeyIdentifier",id:"getsamlkeyidentifier",level:3},{value:"GetX509Data",id:"getx509data",level:3},{value:"GetKeyIdentifier",id:"getkeyidentifier",level:3},{value:"SetIdentifier",id:"setidentifier",level:3},{value:"ValidateTokenRef",id:"validatetokenref",level:3},{value:"ValidateElement",id:"validateelement",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"soapsecuritysecuritytokenreference",children:"%SOAP.Security.SecurityTokenReference"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"Class %SOAP.Security.SecurityTokenReference Extends (%XML.Security.KeyInfoClause, %SOAP.Security.Element) [ Inheritance = right, System = 4 ]\n"})}),"\n",(0,r.jsx)(n.p,{children:'SecurityTokenReference element for SOAP Security header. This class is used internally by InterSystems IRIS. You should not make direct use of it within your applications. There is no guarantee made about either the behavior or future operation of this class."'}),"\n",(0,r.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(n.h3,{id:"xmlformat",children:"XMLFORMAT"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter XMLFORMAT = "literal";\n'})}),"\n",(0,r.jsx)(n.h3,{id:"namespace",children:"NAMESPACE"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter NAMESPACE = "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd";\n'})}),"\n",(0,r.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(n.h3,{id:"reference",children:"Reference"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:'Property Reference As list Of %RegisteredObject(XMLCHOICELIST = "%SOAP.Security.Reference,%SOAP.Security.KeyIdentifier,%XML.Security.X509Data", XMLPROJECTION = "element", XMLREF = 1, XMLTYPECONSTRAINT = "choice");\n'})}),"\n",(0,r.jsx)(n.h3,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:'Property Usage As %String(MAXLEN = "", XMLPROJECTION = "attribute");\n'})}),"\n",(0,r.jsx)(n.h3,{id:"length",children:"Length"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:'Property Length As %xsd.unsignedLong(REFNAMESPACE = "http://docs.oasis-open.org/ws-sx/ws-secureconversation/200512", XMLPROJECTION = "attribute", XMLREF = 1);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"nonce",children:"Nonce"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:'Property Nonce As %xsd.base64Binary(REFNAMESPACE = "http://docs.oasis-open.org/ws-sx/ws-secureconversation/200512", XMLPROJECTION = "attribute", XMLREF = 1);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"tokentype",children:"TokenType"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:'Property TokenType As %String(MAXLEN = "", REFNAMESPACE = "http://docs.oasis-open.org/wss/oasis-wss-wssecurity-secext-1.1.xsd", XMLPROJECTION = "attribute", XMLREF = 1);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"x509credentials",children:"X509Credentials"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:'Property X509Credentials As %RawString(XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,r.jsx)(n.p,{children:"If token is based on X509 certificate, this is the X509 credentials class."}),"\n",(0,r.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h3,{id:"getdirectreference",children:"GetDirectReference"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetDirectReference(tokenURI As %String, valueType As %String) As %SOAP.Security.SecurityTokenReference\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a SecurityTokenReference containing a direct reference with no ValueType. This form is used for reference to EncryptedKey."}),"\n",(0,r.jsx)(n.h3,{id:"getx509directreference",children:"GetX509DirectReference"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetX509DirectReference(tokenURI As %String) As %SOAP.Security.SecurityTokenReference\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a SecurityTokenReference containing a direct reference to an X.509 BinarySecurityToken"}),"\n",(0,r.jsx)(n.h3,{id:"getsctreference",children:"GetSCTReference"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetSCTReference(SCT As %SOAP.WSSC.SecurityContextToken) As %SOAP.Security.SecurityTokenReference\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a SecurityTokenReference containing a remote reference to a SecurityContextToken"}),"\n",(0,r.jsx)(n.h3,{id:"getsamldirectreference",children:"GetSAMLDirectReference"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetSAMLDirectReference(tokenURI As %String) As %SOAP.Security.SecurityTokenReference\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a SecurityTokenReference containing a direct reference to aSAML Assertion."}),"\n",(0,r.jsx)(n.h3,{id:"getx509keyidentifier",children:"GetX509KeyIdentifier"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetX509KeyIdentifier(valueType As %String, credentials As %SYS.X509Credentials, Output status As %Status) As %SOAP.Security.SecurityTokenReference\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a SecurityTokenReference containing a KeyIdentfier If no SecurityTokenReference is returned the status argument is set to the error %Status."}),"\n",(0,r.jsx)(n.h3,{id:"getsamlkeyidentifier",children:"GetSAMLKeyIdentifier"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetSAMLKeyIdentifier(credentials As %SAML.Assertion, type As %String) As %SOAP.Security.SecurityTokenReference\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a SecurityTokenReference to a SAML token containing a KeyIdentfier"}),"\n",(0,r.jsx)(n.h3,{id:"getx509data",children:"GetX509Data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetX509Data(valueType As %String, credentials As %SYS.X509Credentials, Output status As %Status) As %SOAP.Security.SecurityTokenReference\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a SecurityTokenReference containing an X509Data element If no X509Data element is returned the status argument is set to the error %Status."}),"\n",(0,r.jsx)(n.h3,{id:"getkeyidentifier",children:"GetKeyIdentifier"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod GetKeyIdentifier(valueType As %String, value As %Binary) As %SOAP.Security.SecurityTokenReference\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create a SecurityTokenReference containing a KeyIdentfier based on an encrypted key."}),"\n",(0,r.jsx)(n.h3,{id:"setidentifier",children:"SetIdentifier"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"Method SetIdentifier(key As %Binary) [ Internal ]\n"})}),"\n",(0,r.jsx)(n.p,{children:'Set the Identifier of %XML.SecurityTokenReference if it is ""'}),"\n",(0,r.jsx)(n.h3,{id:"validatetokenref",children:"ValidateTokenRef"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"Method ValidateTokenRef(service As %SOAP.WebBase, ByRef tokenType As %String, Output credentials As %RawString, topLevel As %Boolean) As %String [ Internal ]\n"})}),"\n",(0,r.jsx)(n.p,{children:'Validate this input KeyInfo clause. Default behavior is to ignore the clause. If valid, set credentials and tokenType and return "". credentials is either %SYS.X509Credentials or %Binary If not valid, return error code.'}),"\n",(0,r.jsx)(n.h3,{id:"validateelement",children:"ValidateElement"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-objectscript-class",children:"Method ValidateElement(document As %XML.Document, service As %SOAP.WebBase) As %String [ Internal ]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Validate the SecurityTokenReference element as a direct child of the Security header element. If invalid return an error code."})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>a});var r=t(96540);const s={},i=r.createContext(s);function c(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);