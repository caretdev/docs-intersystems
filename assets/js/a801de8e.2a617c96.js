"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[19425],{87153:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>l,default:()=>c,frontMatter:()=>i,toc:()=>r});var n=t(74848),a=t(28453);const i={pagination_prev:null,pagination_next:null},l="%CSP.UI.Portal.Background.Utils",r=[{value:"Parameters",id:"parameters",level:2},{value:"DOMAIN",id:"domain",level:3},{value:"Properties",id:"properties",level:2},{value:"OpenDetailsPage",id:"opendetailspage",level:3},{value:"OutputPage",id:"outputpage",level:3},{value:"Methods",id:"methods",level:2},{value:"GetTaskInfo",id:"gettaskinfo",level:3},{value:"HasEnded",id:"hasended",level:3},{value:"timeout",id:"timeout",level:3},{value:"updateButtons",id:"updatebuttons",level:3},{value:"drawData",id:"drawdata",level:3},{value:"openDetails",id:"opendetails",level:3},{value:"GetTaskList",id:"gettasklist",level:3},{value:"LogMsg",id:"logmsg",level:3}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"cspuiportalbackgroundutils",children:"%CSP.UI.Portal.Background.Utils"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Class %CSP.UI.Portal.Background.Utils [ Abstract, System = 4 ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This class contains shared methods used by the systems background task UI pages."}),"\n",(0,n.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(s.h3,{id:"domain",children:"DOMAIN"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter DOMAIN = "%Utility";\n'})}),"\n",(0,n.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(s.h3,{id:"opendetailspage",children:"OpenDetailsPage"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Property OpenDetailsPage As %String [ InitialExpression = {..Link("/csp/sys/%CSP.UI.Portal.Background.Dialog.TaskInfo.zen",,1)} ];\n'})}),"\n",(0,n.jsx)(s.h3,{id:"outputpage",children:"OutputPage"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Property OutputPage As %ZEN.Datatype.string [ InitialExpression = {..Link("%25CSP.UI.Portal.Background.TaskInfoOutput.zen")} ];\n'})}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(s.h3,{id:"gettaskinfo",children:"GetTaskInfo"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetTaskInfo(ByRef pParms, Output pObject As %RegisteredObject) As %Status\n"})}),"\n",(0,n.jsx)(s.h3,{id:"hasended",children:"HasEnded"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod HasEnded(SysBGTaskId) As %ZEN.proxyObject [ ZenMethod ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"timeout",children:"timeout"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod timeout() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This function is executed when SaveQuery is processed to run in the background."}),"\n",(0,n.jsx)(s.h3,{id:"updatebuttons",children:"updateButtons"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod updateButtons(proxy) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"drawdata",children:"drawData"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod drawData() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"opendetails",children:"openDetails"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClientMethod openDetails(SysBGTaskId) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Show information for the background job id in a dialog window"}),"\n",(0,n.jsx)(s.h3,{id:"gettasklist",children:"GetTaskList"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetTaskList(pDirectory, Output pTaskList) As %Status\n"})}),"\n",(0,n.jsx)(s.p,{children:"Return on-going background tasklist (Input: database directory)"}),"\n",(0,n.jsx)(s.h3,{id:"logmsg",children:"LogMsg"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod LogMsg(ErrMsg As %String = "", Status As %String = "ERROR")\n'})}),"\n",(0,n.jsx)(s.p,{children:'Log error into ^|"%SYS"|IRIS.Temp.MgtPortalTask($J,"Status") and ^|"%SYS"|IRIS.Temp.MgtPortalTask($J,"Details")'})]})}function c(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>r});var n=t(96540);const a={},i=n.createContext(a);function l(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);