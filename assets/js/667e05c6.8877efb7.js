"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[14509],{71465:(e,t,a)=>{a.r(t),a.d(t,{contentTitle:()=>i,default:()=>o,frontMatter:()=>r,toc:()=>l});var n=a(74848),s=a(28453);const r={pagination_prev:null,pagination_next:null},i="%Stream.DynamicCharacter",l=[{value:"Parameters",id:"parameters",level:2},{value:"READLEN",id:"readlen",level:3},{value:"BUFLEN",id:"buflen",level:3},{value:"Properties",id:"properties",level:2},{value:"DAOData",id:"daodata",level:3},{value:"DAOPos",id:"daopos",level:3},{value:"DAOSize",id:"daosize",level:3},{value:"LineTerminator",id:"lineterminator",level:3},{value:"Position",id:"position",level:3},{value:"Size",id:"size",level:3},{value:"Methods",id:"methods",level:2},{value:"PositionGet",id:"positionget",level:3},{value:"SizeGet",id:"sizeget",level:3},{value:"%NormalizeObject",id:"normalizeobject",level:3},{value:"%ValidateObject",id:"validateobject",level:3},{value:"IsNull",id:"isnull",level:3},{value:"%IsNull",id:"isnull-1",level:3},{value:"%OnNew",id:"onnew",level:3},{value:"%LoadData",id:"loaddata",level:3},{value:"%OnRollBack",id:"onrollback",level:3},{value:"%SaveData",id:"savedata",level:3},{value:"%DeleteData",id:"deletedata",level:3},{value:"%GetLockReference",id:"getlockreference",level:3},{value:"%OnConstructClone",id:"onconstructclone",level:3},{value:"Read",id:"read",level:3},{value:"ReadLine",id:"readline",level:3},{value:"ReadLineIntoStream",id:"readlineintostream",level:3},{value:"%LocationSet",id:"locationset",level:3},{value:"Write",id:"write",level:3},{value:"WriteLine",id:"writeline",level:3},{value:"MoveToEnd",id:"movetoend",level:3},{value:"MoveTo",id:"moveto",level:3},{value:"Rewind",id:"rewind",level:3},{value:"Flush",id:"flush",level:3},{value:"CopyFrom",id:"copyfrom",level:3},{value:"OutputToDevice",id:"outputtodevice",level:3},{value:"Clear",id:"clear",level:3},{value:"%ObjectModified",id:"objectmodified",level:3},{value:"%IsModified",id:"ismodified",level:3},{value:"%LogicalToStorage",id:"logicaltostorage",level:3},{value:"%StorageToLogical",id:"storagetological",level:3},{value:"BuildValueArray",id:"buildvaluearray",level:3}];function c(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"streamdynamiccharacter",children:"%Stream.DynamicCharacter"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Class %Stream.DynamicCharacter Extends %Stream.Object [ ClientDataType = CHARACTERSTREAM, OdbcType = LONGVARCHAR, System = 2 ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"%Stream.DynamicCharacter character stream containing the textual value of an element of a %DynamicAbstractObject. It is particularly useful for holding the value of a %DynamicAbstractObject element with a textual value that would exceed the capacity of an ObjectScript string variable. A %Stream.DynamicCharacter object is readonly and it cannot be modified or saved. But it can be copied to any other %Stream class object that does support modification and saving."}),"\n",(0,n.jsx)(t.p,{children:'One way to create a %Stream.DynamicCharacter is by making a method call that looks like dao.%Get(key,default,"stream") where dao is an object reference to a subclass of %DynamicAbstractObject, and where key is the key name value of an element of a %DynamicObject or the index value of an element of a %DynamicArray. You can also get a %Stream.DynamicCharacter object by calling the %GetNext(.key,.value,.type) method in one of subclasses of the %Iterator.AbstractIterator class.'}),"\n",(0,n.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(t.h3,{id:"readlen",children:"READLEN"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Parameter READLEN = 32000;\n"})}),"\n",(0,n.jsx)(t.p,{children:"Default length for a Read."}),"\n",(0,n.jsx)(t.h3,{id:"buflen",children:"BUFLEN"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Parameter BUFLEN = 32000;\n"})}),"\n",(0,n.jsx)(t.p,{children:"Default read length when buffering"}),"\n",(0,n.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(t.h3,{id:"daodata",children:"DAOData"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property DAOData [ Internal, ReadOnly ];\n"})}),"\n",(0,n.jsx)(t.h3,{id:"daopos",children:"DAOPos"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property DAOPos As %Integer [ InitialExpression = 1, Private ];\n"})}),"\n",(0,n.jsx)(t.h3,{id:"daosize",children:"DAOSize"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property DAOSize As %Integer [ Private ];\n"})}),"\n",(0,n.jsx)(t.h3,{id:"lineterminator",children:"LineTerminator"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property LineTerminator As %String(MAXLEN = 10) [ InitialExpression = {$char(13,10)}, Transient ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"The line terminator we use for this stream. It defaults to $CHAR(13,10), CR/LF. Maximum length is 10 characters."}),"\n",(0,n.jsx)(t.h3,{id:"position",children:"Position"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Position As %Integer [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Position is a read-only property containing the current character position of the %Stream.DynamicCharacter. The next Read() method call will start reading at this character position. Character position 1 is the position of the first character in the stream. When Position contains the value 1 then the first Read() (after creation of the stream or after execution of the Rewind() method) has not yet been executed. After the last character has been read then Position will again contain the value 1."}),"\n",(0,n.jsx)(t.h3,{id:"size",children:"Size"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Size As %Integer [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Size is a read-only property containing the current size of the %Stream.DynamicCharacter in characters"}),"\n",(0,n.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(t.h3,{id:"positionget",children:"PositionGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method PositionGet() As %Integer [ CodeMode = expression ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Implements Property Position which contains the current position within the data stream."}),"\n",(0,n.jsx)(t.h3,{id:"sizeget",children:"SizeGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method SizeGet() As %Integer [ CodeMode = expression ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Implements Property Size which contains the current size of the data stream."}),"\n",(0,n.jsx)(t.h3,{id:"normalizeobject",children:"%NormalizeObject"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %NormalizeObject() As %Status [ CodeMode = expression ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"validateobject",children:"%ValidateObject"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %ValidateObject(force As %Integer = 0) As %Status [ CodeMode = expression ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"isnull",children:"IsNull"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method IsNull() As %Boolean [ CodeMode = expression ]\n"})}),"\n",(0,n.jsx)(t.p,{children:'Returns true if this is a "NULL" stream; that is, a stream which has never been written to and saved. This is used by the InterSystems IRIS ODBC server. But a %Stream.DynamicCharacter is never NULL, even if it only contains the empty string.'}),"\n",(0,n.jsx)(t.h3,{id:"isnull-1",children:"%IsNull"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %IsNull() As %Boolean [ CodeMode = expression ]\n"})}),"\n",(0,n.jsx)(t.p,{children:'Returns true if this is a "NULL" stream; that is, a stream which has never been written to and saved. This is used by the InterSystems IRIS ODBC server. But a %Stream.DynamicCharacter is never NULL, even if it only contains the empty string.'}),"\n",(0,n.jsx)(t.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnNew(initval) As %Status [ Private ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"loaddata",children:"%LoadData"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %LoadData(id As %String) As %Status [ Private ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"onrollback",children:"%OnRollBack"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnRollBack() As %Status [ Private ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"savedata",children:"%SaveData"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %SaveData(ByRef sid As %String) As %Status [ Private ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"deletedata",children:"%DeleteData"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %DeleteData(streamvalue As %String, concurrency As %Integer) As %Status [ Private ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"getlockreference",children:"%GetLockReference"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'ClassMethod %GetLockReference(pLocation As %String(MAXLEN="") = "", pId As %String(MAXLEN="") = "") As %String(MAXLEN="") [ Private ]\n'})}),"\n",(0,n.jsx)(t.p,{children:"Returns the global reference used to lock the current stream object."}),"\n",(0,n.jsx)(t.h3,{id:"onconstructclone",children:"%OnConstructClone"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnConstructClone(object As %RegisteredObject, deep As %Boolean = 0, ByRef cloned As %String) As %Status [ Private ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"read",children:"Read"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Read(ByRef len As %Integer = {..#READLEN}, ByRef sc As %Status) As %String\n"})}),"\n",(0,n.jsx)(t.h3,{id:"readline",children:"ReadLine"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ReadLine(ByRef len As %Integer = {..#READLEN}, ByRef sc As %Status, ByRef eol As %Boolean) As %String\n"})}),"\n",(0,n.jsx)(t.h3,{id:"readlineintostream",children:"ReadLineIntoStream"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ReadLineIntoStream(ByRef sc As %Status) As %Stream.Object\n"})}),"\n",(0,n.jsx)(t.p,{children:"This reads from the stream until it finds the LineTerminator and returns a new %Stream.TmpCharacter stream containing the characters in the line. If the stream does not contain the line terminator then this can potentially be the entire stream."}),"\n",(0,n.jsx)(t.h3,{id:"locationset",children:"%LocationSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %LocationSet(val As %String) As %Status\n"})}),"\n",(0,n.jsx)(t.h3,{id:"write",children:"Write"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method Write(data As %String = "") As %Status\n'})}),"\n",(0,n.jsx)(t.p,{children:"Not supported. %Stream.DynamicCharacter is readonly."}),"\n",(0,n.jsx)(t.h3,{id:"writeline",children:"WriteLine"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method WriteLine(data As %String = "") As %Status\n'})}),"\n",(0,n.jsx)(t.p,{children:"Not supported. %Stream.DynamicCharacter is readonly."}),"\n",(0,n.jsx)(t.h3,{id:"movetoend",children:"MoveToEnd"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method MoveToEnd() As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Not supported. %Stream.DynamicCharacter is readonly."}),"\n",(0,n.jsx)(t.h3,{id:"moveto",children:"MoveTo"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method MoveTo(position As %Integer) As %Boolean\n"})}),"\n",(0,n.jsx)(t.p,{children:"Move to this position in the stream. If this succeeds then return true, else return false."}),"\n",(0,n.jsx)(t.p,{children:"MoveTo(1) is equivalent to a Rewind(). MoveTo(1) will always succeed and it will position the %Stream.DynamicCharacter at character position 1 even if the %Stream.DynamicCharacter contains no characters. Moving to position 1 (or earlier) will be at the first character of the stream; position 2 will be at the second character of the stream, etc."}),"\n",(0,n.jsx)(t.h3,{id:"rewind",children:"Rewind"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Rewind() As %Status\n"})}),"\n",(0,n.jsx)(t.h3,{id:"flush",children:"Flush"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Flush() As %Status\n"})}),"\n",(0,n.jsx)(t.h3,{id:"copyfrom",children:"CopyFrom"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method CopyFrom(source As %Stream.Object) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Not supported. %Stream.DynamicCharacter is readonly."}),"\n",(0,n.jsx)(t.h3,{id:"outputtodevice",children:"OutputToDevice"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method OutputToDevice(ByRef len As %Integer = -1) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Write out len characters of the stream to the current device starting from the current position. If len is omitted or set to -1 then the OutputToDevice method will write out the entire stream starting at the beginning and then rewind back to the beginning. If len>0 and we are unable to write len characters because we reach the end of the stream then we will stop writing and set the AtEnd property to 1. Otherwise, we will leave the stream positioned after the last character written to the device. If parameter len is passed by reference and if no error occurs then the number of characters actually written to the output device will be assigned to len. If zero characters are written because we are already positioned at the end of the stream then len will be assigned to -1. If an error occurs while writing the device then len will be assigned to -2, an error %Status value will be returned and the stream will rollback to its original position."}),"\n",(0,n.jsx)(t.h3,{id:"clear",children:"Clear"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Clear(permanent As %Boolean = 1) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Not supported. %Stream.DynamicCharacter is readonly."}),"\n",(0,n.jsx)(t.h3,{id:"objectmodified",children:"%ObjectModified"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %ObjectModified() As %Integer [ ServerOnly = 1 ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"ismodified",children:"%IsModified"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %IsModified() As %Integer\n"})}),"\n",(0,n.jsx)(t.h3,{id:"logicaltostorage",children:"%LogicalToStorage"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %LogicalToStorage(val As %String) As %String [ Private ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"storagetological",children:"%StorageToLogical"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod %StorageToLogical(val As %String) As %String [ Private ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"buildvaluearray",children:"BuildValueArray"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method BuildValueArray(ByRef subvalue As %String) As %Status [ Private ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Callback for searchable stream"})]})}function o(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>l});var n=a(96540);const s={},r=n.createContext(s);function i(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);