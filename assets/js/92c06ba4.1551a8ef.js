"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[13936],{7882:(e,r,t)=>{t.r(r),t.d(r,{contentTitle:()=>l,default:()=>o,frontMatter:()=>s,toc:()=>i});var c=t(74848),n=t(28453);const s={pagination_prev:null,pagination_next:null},l="%iKnow.Objects.VirtualSource",i=[{value:"Parameters",id:"parameters",level:2},{value:"READONLY",id:"readonly",level:3},{value:"Properties",id:"properties",level:2},{value:"DomainId",id:"domainid",level:3},{value:"VirtualSourceId",id:"virtualsourceid",level:3},{value:"SourceId",id:"sourceid",level:3},{value:"ListerId",id:"listerid",level:3},{value:"GroupId",id:"groupid",level:3},{value:"LocalReference",id:"localreference",level:3},{value:"FirstSentenceId",id:"firstsentenceid",level:3},{value:"SentenceCount",id:"sentencecount",level:3},{value:"FirstEntityOccurrenceId",id:"firstentityoccurrenceid",level:3},{value:"EntityOccurrenceCount",id:"entityoccurrencecount",level:3},{value:"FirstCrcOccurrenceId",id:"firstcrcoccurrenceid",level:3},{value:"CrcOccurrenceCount",id:"crcoccurrencecount",level:3},{value:"FirstPathId",id:"firstpathid",level:3},{value:"PathCount",id:"pathcount",level:3},{value:"ExternalId",id:"externalid",level:3},{value:"FullText",id:"fulltext",level:3}];function a(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.header,{children:(0,c.jsx)(r.h1,{id:"iknowobjectsvirtualsource",children:"%iKnow.Objects.VirtualSource"})}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Class %iKnow.Objects.VirtualSource Extends %Persistent [ Deprecated, StorageStrategy = iKnowStorage, System = 4 ]\n"})}),"\n",(0,c.jsx)(r.p,{children:"This is a read-only object representation wrapping the internal iKnow data structures for Virtual Sources."}),"\n",(0,c.jsx)(r.p,{children:"This class can be used from ObjectScript or SQL to access a single or small number of entries, but the storage mappings are not meant to support elaborate or complex queries targeting this SQL table."}),"\n",(0,c.jsx)(r.p,{children:"Please use the predefined queries in %iKnow.Queries.SourceAPI and other query classes to consult source data as the internal global structures are designed to optimize performance for these queries rather than general-purpose access."}),"\n",(0,c.jsx)(r.h2,{id:"parameters",children:"Parameters"}),"\n",(0,c.jsx)(r.h3,{id:"readonly",children:"READONLY"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Parameter READONLY = 1;\n"})}),"\n",(0,c.jsx)(r.h2,{id:"properties",children:"Properties"}),"\n",(0,c.jsx)(r.h3,{id:"domainid",children:"DomainId"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property DomainId As %Integer;\n"})}),"\n",(0,c.jsx)(r.h3,{id:"virtualsourceid",children:"VirtualSourceId"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property VirtualSourceId As %Integer;\n"})}),"\n",(0,c.jsx)(r.h3,{id:"sourceid",children:"SourceId"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property SourceId As %Integer [ Calculated, SqlComputeCode = { set {SourceId} = -{VirtualSourceId} }, SqlComputed ];\n"})}),"\n",(0,c.jsx)(r.h3,{id:"listerid",children:"ListerId"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property ListerId As %Integer [ Calculated, SqlComputeCode = { set {ListerId} = $lg($lg(^IRIS.IKV.SrcId({DomainId},{VirtualSourceId}),4),1) }, SqlComputed ];\n"})}),"\n",(0,c.jsx)(r.h3,{id:"groupid",children:"GroupId"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property GroupId As %Integer [ Calculated, SqlComputeCode = { set {GroupId} = $lg($lg(^IRIS.IKV.SrcId({DomainId},{VirtualSourceId}),4),2) }, SqlComputed ];\n"})}),"\n",(0,c.jsx)(r.h3,{id:"localreference",children:"LocalReference"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property LocalReference As %String(MAXLEN = 1000) [ Calculated, SqlComputeCode = { set {LocalReference} = $lg($lg(^IRIS.IKV.SrcId({DomainId},{VirtualSourceId}),4),3) }, SqlComputed ];\n"})}),"\n",(0,c.jsx)(r.h3,{id:"firstsentenceid",children:"FirstSentenceId"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property FirstSentenceId As %Integer [ Calculated, SqlComputeCode = { set {FirstSentenceId} = $lg(^IRIS.IKV.SrcDetails({DomainId},{VirtualSourceId}),1)+1 }, SqlComputed ];\n"})}),"\n",(0,c.jsx)(r.h3,{id:"sentencecount",children:"SentenceCount"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property SentenceCount As %Integer;\n"})}),"\n",(0,c.jsx)(r.h3,{id:"firstentityoccurrenceid",children:"FirstEntityOccurrenceId"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property FirstEntityOccurrenceId As %Integer [ Calculated, SqlComputeCode = { set {FirstEntityOccurrenceId} = $lg(^IRIS.IKV.SrcDetails({DomainId},{VirtualSourceId}),3)+1 }, SqlComputed ];\n"})}),"\n",(0,c.jsx)(r.h3,{id:"entityoccurrencecount",children:"EntityOccurrenceCount"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property EntityOccurrenceCount As %Integer;\n"})}),"\n",(0,c.jsx)(r.h3,{id:"firstcrcoccurrenceid",children:"FirstCrcOccurrenceId"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property FirstCrcOccurrenceId As %Integer [ Calculated, SqlComputeCode = { set {FirstCrcOccurrenceId} = $lg(^IRIS.IKV.SrcDetails({DomainId},{VirtualSourceId}),5)+1 }, SqlComputed ];\n"})}),"\n",(0,c.jsx)(r.h3,{id:"crcoccurrencecount",children:"CrcOccurrenceCount"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property CrcOccurrenceCount As %Integer;\n"})}),"\n",(0,c.jsx)(r.h3,{id:"firstpathid",children:"FirstPathId"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property FirstPathId As %Integer [ Calculated, SqlComputeCode = { set {FirstPathId} = $lg(^IRIS.IKV.SrcDetails({DomainId},{VirtualSourceId}),7)+1 }, SqlComputed ];\n"})}),"\n",(0,c.jsx)(r.h3,{id:"pathcount",children:"PathCount"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property PathCount As %Integer;\n"})}),"\n",(0,c.jsx)(r.h3,{id:"externalid",children:"ExternalId"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:"Property ExternalId As %String(MAXLEN = 2000) [ Calculated, SqlComputeCode = { set {ExternalId} = ##class(%iKnow.Queries.SourceAPI).GetExternalId({DomainId},-{VirtualSourceId}) }, SqlComputed ];\n"})}),"\n",(0,c.jsx)(r.h3,{id:"fulltext",children:"FullText"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{className:"language-objectscript-class",children:'Property FullText As %String(MAXLEN = "") [ Calculated, SqlComputeCode = { new txt,to,i,o,more  s txt = "", to=$lg(^IRIS.IKV.SrcDetails({DomainId},{VirtualSourceId}),2) for i = 1:1:to { k o  set more = ##class(%iKnow.Queries.SentenceAPI).GetValue({DomainId},i,.o,{VirtualSourceId})  set o="" for { set o = $order(o(o),1,more) q:o=""  set txt = txt _ more _ " " } }  set {FullText} = $e(txt,1,*-1) }, SqlComputed ];\n'})})]})}function o(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,c.jsx)(r,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},28453:(e,r,t)=>{t.d(r,{R:()=>l,x:()=>i});var c=t(96540);const n={},s=c.createContext(n);function l(e){const r=c.useContext(s);return c.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),c.createElement(s.Provider,{value:r},e.children)}}}]);