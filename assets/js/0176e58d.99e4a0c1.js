"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[68699],{33946:(e,n,a)=>{a.r(n),a.d(n,{contentTitle:()=>r,default:()=>c,frontMatter:()=>l,toc:()=>i});var t=a(74848),s=a(28453);const l={pagination_prev:null,pagination_next:null},r="%ZEN.Component.calendar",i=[{value:"Parameters",id:"parameters",level:2},{value:"SYSMODULE;",id:"sysmodule",level:3},{value:"DOMAIN",id:"domain",level:3},{value:"Properties",id:"properties",level:2},{value:"startYear",id:"startyear",level:3},{value:"endYear",id:"endyear",level:3},{value:"minDate",id:"mindate",level:3},{value:"maxDate",id:"maxdate",level:3},{value:"dayList",id:"daylist",level:3},{value:"monthList",id:"monthlist",level:3},{value:"firstDayOfWeek",id:"firstdayofweek",level:3},{value:"year",id:"year",level:3},{value:"month",id:"month",level:3},{value:"gapWidth",id:"gapwidth",level:3},{value:"fixedMonth",id:"fixedmonth",level:3},{value:"showTime",id:"showtime",level:3},{value:"defaultTime",id:"defaulttime",level:3},{value:"timeCaption",id:"timecaption",level:3},{value:"multiSelect",id:"multiselect",level:3},{value:"rangeSelect",id:"rangeselect",level:3},{value:"isRange",id:"isrange",level:3},{value:"listOfValues",id:"listofvalues",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"Style",id:"style",level:3},{value:"Methods",id:"methods",level:2},{value:"%DrawHTML",id:"drawhtml",level:3},{value:"renderContents",id:"rendercontents",level:3},{value:"changeMonth",id:"changemonth",level:3},{value:"prevMonth",id:"prevmonth",level:3},{value:"nextMonth",id:"nextmonth",level:3},{value:"selectDay",id:"selectday",level:3},{value:"renderCalendarAll",id:"rendercalendarall",level:3},{value:"renderCalendar",id:"rendercalendar",level:3},{value:"parseDate",id:"parsedate",level:3},{value:"findStartYear",id:"findstartyear",level:3},{value:"findEndYear",id:"findendyear",level:3},{value:"timeKeyHandler",id:"timekeyhandler",level:3},{value:"timeChangeHandler",id:"timechangehandler",level:3},{value:"setProperty",id:"setproperty",level:3}];function d(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"zencomponentcalendar",children:"%ZEN.Component.calendar"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %ZEN.Component.calendar Extends control [ Deprecated, System = 3 ]\n"})}),"\n",(0,t.jsxs)(n.p,{children:["A calendar control.",(0,t.jsx)(n.br,{}),"\nThis is a custom control built out of HTML primitives.",(0,t.jsx)(n.br,{}),"\nThe value associated with this control is in %Timestamp format: YYYY-MM-DD"]}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(n.h3,{id:"sysmodule",children:"SYSMODULE;"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter SYSMODULE;\n"})}),"\n",(0,t.jsx)(n.p,{children:'Do not include in "form" module.'}),"\n",(0,t.jsx)(n.h3,{id:"domain",children:"DOMAIN"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter DOMAIN = "%ZEN";\n'})}),"\n",(0,t.jsx)(n.p,{children:"Localization domain"}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h3,{id:"startyear",children:"startYear"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property startYear As %ZEN.Datatype.integer(MINVAL = 1600);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Starting year displayed by year selector in calendar. If not defined, default is 10 years previous to now or the year portion of minDate if defined."}),"\n",(0,t.jsx)(n.h3,{id:"endyear",children:"endYear"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property endYear As %ZEN.Datatype.integer(MAXVAL = 9999);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Ending year displayed by year selector in calendar. If not defined, default is 30 years after now or the year portion of maxDate if defined."}),"\n",(0,t.jsx)(n.h3,{id:"mindate",children:"minDate"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property minDate As %ZEN.Datatype.string(ZENEXPRESSION = 1);\n"})}),"\n",(0,t.jsxs)(n.p,{children:['Optional. If specified, this is the earliest date allowed by the calendar. This is a date in the form "YYYY-MM-DD".',(0,t.jsx)(n.br,{}),"\nNote that setting this does not effect what years are displayed by the calendar; that is controlled by the startYear and endYear properties."]}),"\n",(0,t.jsx)(n.h3,{id:"maxdate",children:"maxDate"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property maxDate As %ZEN.Datatype.string(ZENEXPRESSION = 1);\n"})}),"\n",(0,t.jsxs)(n.p,{children:['Optional. If specified, this is the latest date allowed by the calendar. This is a date in the form "YYYY-MM-DD".',(0,t.jsx)(n.br,{}),"\nNote that setting this does not effect what years are displayed by the calendar; that is controlled by the startYear and endYear properties."]}),"\n",(0,t.jsx)(n.h3,{id:"daylist",children:"dayList"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property dayList As %ZEN.Datatype.csv(ZENLOCALIZE = 1);\n"})}),"\n",(0,t.jsx)(n.p,{children:"List of localized day abbreviations shown at top of calendar."}),"\n",(0,t.jsx)(n.h3,{id:"monthlist",children:"monthList"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property monthList As %ZEN.Datatype.csv(ZENLOCALIZE = 1);\n"})}),"\n",(0,t.jsx)(n.p,{children:"List of localized month names shown at top of calendar."}),"\n",(0,t.jsx)(n.h3,{id:"firstdayofweek",children:"firstDayOfWeek"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property firstDayOfWeek As %ZEN.Datatype.integer(MAXVAL = 6, MINVAL = 0) [ InitialExpression = 0 ];\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Specified which day of the week (Sunday=0, Saturday = 6) is displayed as the starting day of the week.",(0,t.jsx)(n.br,{}),"\nThis allows for customizing the calendar for locales where weeks start with other days of the week."]}),"\n",(0,t.jsx)(n.h3,{id:"year",children:"year"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property year As %ZEN.Datatype.integer;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Year displayed by control."}),"\n",(0,t.jsx)(n.h3,{id:"month",children:"month"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property month As %ZEN.Datatype.integer(MAXVAL = 12, MINVAL = 1);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Month (1 to 12) displayed by control."}),"\n",(0,t.jsx)(n.h3,{id:"gapwidth",children:"gapWidth"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property gapWidth As %ZEN.Datatype.length [ InitialExpression = "40px" ];\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Size of the gap between the month and year indicators.",(0,t.jsx)(n.br,{}),"\nSetting this provides a way to adjust the overall size of the calendar."]}),"\n",(0,t.jsx)(n.h3,{id:"fixedmonth",children:"fixedMonth"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property fixedMonth As %ZEN.Datatype.boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"If true, then this calendar will display a single month and provide no way for the user to change month and year."}),"\n",(0,t.jsx)(n.h3,{id:"showtime",children:"showTime"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property showTime As %ZEN.Datatype.boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"If true, then this calendar will also display and allow the user to edit the time of day portion of a date. In this case, the value used by this control will be in xDBC timestamp format: YYYY-MM-DD HH:MM:SS"}),"\n",(0,t.jsx)(n.h3,{id:"defaulttime",children:"defaultTime"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property defaultTime As %ZEN.Datatype.string;\n"})}),"\n",(0,t.jsx)(n.p,{children:"If specified and showTime is true, and the value supplied does not include a time portion, this will be used as the initial time displayed in the popup calendar."}),"\n",(0,t.jsx)(n.h3,{id:"timecaption",children:"timeCaption"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property timeCaption As %ZEN.Datatype.caption;\n"})}),"\n",(0,t.jsx)(n.p,{children:"Localized caption for time input box (see showTime)."}),"\n",(0,t.jsx)(n.h3,{id:"multiselect",children:"multiSelect"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property multiSelect As %ZEN.Datatype.boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"If true, then allow the user to select multiple days by pressing the CTRL key when clicking on a date. The most recent selection is used as the value of the control. The list of multiple values is placed into the listOfValues array."}),"\n",(0,t.jsx)(n.h3,{id:"rangeselect",children:"rangeSelect"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Property rangeSelect As %ZEN.Datatype.boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,t.jsx)(n.p,{children:"If true, then allow the user to select ranges of days by pressing the SHIFT key when clicking on a date. The most recent selection is used as the value of the control. The start and end values are placed into the listOfValues array and isRange will be set true."}),"\n",(0,t.jsx)(n.h3,{id:"isrange",children:"isRange"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property isRange As %ZEN.Datatype.boolean(XMLPROJECTION = "none") [ InitialExpression = 0 ];\n'})}),"\n",(0,t.jsx)(n.p,{children:"Indicates that the current list of values contains a date range."}),"\n",(0,t.jsx)(n.h3,{id:"listofvalues",children:"listOfValues"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:'Property listOfValues As list Of %ZEN.Datatype.string(XMLPROJECTION = "none");\n'})}),"\n",(0,t.jsx)(n.p,{children:"List of current selected values (when in multi-select mode). If a range is selected, then this list will contain the starting and ending values for the range."}),"\n",(0,t.jsx)(n.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,t.jsx)(n.h3,{id:"style",children:"Style"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"XData Style\n"})}),"\n",(0,t.jsx)(n.p,{children:"defines style sheet used by this component"}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"drawhtml",children:"%DrawHTML"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method %DrawHTML()\n"})}),"\n",(0,t.jsx)(n.h3,{id:"rendercontents",children:"renderContents"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod renderContents() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Client-side method to render control."}),"\n",(0,t.jsx)(n.h3,{id:"changemonth",children:"changeMonth"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod changeMonth() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Called when user changes month or year. Does not change current value of calandar."}),"\n",(0,t.jsx)(n.h3,{id:"prevmonth",children:"prevMonth"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod prevMonth() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Move back one month; do not change current value;"}),"\n",(0,t.jsx)(n.h3,{id:"nextmonth",children:"nextMonth"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod nextMonth() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Move forward one month; do not change current value;"}),"\n",(0,t.jsx)(n.h3,{id:"selectday",children:"selectDay"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod selectDay(day, evt) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Called when user clicks on a day."}),"\n",(0,t.jsx)(n.h3,{id:"rendercalendarall",children:"renderCalendarAll"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod renderCalendarAll() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Fill in contents of entire calendar (month and year drop downs)."}),"\n",(0,t.jsx)(n.h3,{id:"rendercalendar",children:"renderCalendar"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod renderCalendar() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Fill in contents of calendar"}),"\n",(0,t.jsx)(n.h3,{id:"parsedate",children:"parseDate"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod parseDate(value) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Take a date value in xDBC format (YYYY-MM-DD) and, if valid set the value of this control to the date."}),"\n",(0,t.jsx)(n.h3,{id:"findstartyear",children:"findStartYear"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod findStartYear() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Compute the starting year displayed by this calendar."}),"\n",(0,t.jsx)(n.h3,{id:"findendyear",children:"findEndYear"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod findEndYear() [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Compute the ending year displayed by this calendar."}),"\n",(0,t.jsx)(n.h3,{id:"timekeyhandler",children:"timeKeyHandler"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod timeKeyHandler(evt) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Handler for keypress event in time control."}),"\n",(0,t.jsx)(n.h3,{id:"timechangehandler",children:"timeChangeHandler"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod timeChangeHandler(evt) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Handler for change event in time control."}),"\n",(0,t.jsx)(n.h3,{id:"setproperty",children:"setProperty"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"ClientMethod setProperty(property, value, value2) [ Language = javascript ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Set the value of a named property."})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>i});var t=a(96540);const s={},l=t.createContext(s);function r(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);