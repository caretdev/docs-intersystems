"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[81293],{16920:(e,n,t)=>{t.r(n),t.d(n,{contentTitle:()=>a,default:()=>c,frontMatter:()=>r,toc:()=>d});var s=t(74848),i=t(28453);const r={pagination_prev:null,pagination_next:null},a="%iKnow.UserDictionary",d=[{value:"Properties",id:"properties",level:2},{value:"Id",id:"id",level:3},{value:"Name",id:"name",level:3},{value:"Description",id:"description",level:3},{value:"IsTransient",id:"istransient",level:3},{value:"Normalizer",id:"normalizer",level:3},{value:"Methods",id:"methods",level:2},{value:"NormalizerGet",id:"normalizerget",level:3},{value:"NextEntry",id:"nextentry",level:3},{value:"GetEntry",id:"getentry",level:3},{value:"OpenByName",id:"openbyname",level:3},{value:"CreateFromFile",id:"createfromfile",level:3},{value:"CreateTransient",id:"createtransient",level:3},{value:"%OnNew",id:"onnew",level:3},{value:"%OnBeforeSave",id:"onbeforesave",level:3},{value:"ClearEntries",id:"clearentries",level:3},{value:"%OnDelete",id:"ondelete",level:3},{value:"AddEntry",id:"addentry",level:3},{value:"AddNegationTerm",id:"addnegationterm",level:3},{value:"AddPositiveSentimentTerm",id:"addpositivesentimentterm",level:3},{value:"AddNegativeSentimentTerm",id:"addnegativesentimentterm",level:3},{value:"AddNumber",id:"addnumber",level:3},{value:"AddTime",id:"addtime",level:3},{value:"AddUnit",id:"addunit",level:3},{value:"AddCertaintyTerm",id:"addcertaintyterm",level:3},{value:"AddSentenceEnd",id:"addsentenceend",level:3},{value:"AddSentenceNoEnd",id:"addsentencenoend",level:3},{value:"AddConcept",id:"addconcept",level:3},{value:"AddRelation",id:"addrelation",level:3},{value:"AddNonRelevant",id:"addnonrelevant",level:3},{value:"AddAttribute",id:"addattribute",level:3},{value:"RemoveEntry",id:"removeentry",level:3},{value:"GetEntries",id:"getentries",level:3},{value:"CheckIfManaged",id:"checkifmanaged",level:3},{value:"%ConstructClone",id:"constructclone",level:3},{value:"%DeleteExtent",id:"deleteextent",level:3},{value:"%KillExtentData",id:"killextentdata",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"iknowuserdictionary",children:"%iKnow.UserDictionary"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Class %iKnow.UserDictionary Extends %Persistent [ Deprecated, StorageStrategy = SqlStorage, System = 4 ]\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The InterSystems IRIS NLP iKnow technology is now deprecated. Please see the ",(0,s.jsx)(n.a,{href:"https://docs.intersystems.com/irislatest/csp/docbook/DocBook.UI.Page.cls?KEY=GIKNOW",children:"product documentation"})," for more detail."]}),"\n",(0,s.jsx)(n.p,{children:"This class represents User Dictionaries, used to rewrite fragments of input data specific to a particular use case."}),"\n",(0,s.jsx)(n.p,{children:"When creating a User Dictionary, you can pass initial values for the following properties to its %New method:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Name (required)"}),"\n",(0,s.jsx)(n.li,{children:"Description\nCheck the respective property descriptions for more details."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(n.h3,{id:"id",children:"Id"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Id As %Integer [ Final, ReadOnly ];\n"})}),"\n",(0,s.jsx)(n.h3,{id:"name",children:"Name"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Name As %String [ Final, ReadOnly ];\n"})}),"\n",(0,s.jsx)(n.h3,{id:"description",children:"Description"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Description As %String [ Final ];\n"})}),"\n",(0,s.jsx)(n.h3,{id:"istransient",children:"IsTransient"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property IsTransient As %Boolean [ InitialExpression = 0, Internal, Private, Transient ];\n"})}),"\n",(0,s.jsx)(n.p,{children:"This property is used for transient versions only"}),"\n",(0,s.jsx)(n.h3,{id:"normalizer",children:"Normalizer"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Property Normalizer As %iKnow.Configuration [ Internal, Private, Transient ];\n"})}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h3,{id:"normalizerget",children:"NormalizerGet"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method NormalizerGet() As %iKnow.Configuration [ Internal, ServerOnly = 1 ]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"nextentry",children:"NextEntry"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method NextEntry(pKey As %Integer) As %Integer [ Internal ]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getentry",children:"GetEntry"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method GetEntry(pKey As %Integer) As %List [ Internal ]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"openbyname",children:"OpenByName"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod OpenByName(pName As %String) As %iKnow.UserDictionary\n"})}),"\n",(0,s.jsx)(n.p,{children:'Returns a User Dictionary object by name. First, this method checks if pName is a name used by any saved User Dictionary object. If none found, it is used as a file path for the legacy file-based User Dictionaries. If there is no file at this path, "" is returned.'}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),": file-based User Dictionaries are deprecated. Please use object-based ones by using %New, %Save and AddEntry."]}),"\n",(0,s.jsx)(n.h3,{id:"createfromfile",children:"CreateFromFile"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod CreateFromFile(pPath As %String) As %iKnow.UserDictionary [ Internal ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Creates a UserDictionary instance based on a file containing comma-separated from/to pairs on each line. The instance produced by this classmethod is transient and cannot be saved through %Save()"}),"\n",(0,s.jsx)(n.h3,{id:"createtransient",children:"CreateTransient"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod CreateTransient(pName As %String = "") As %iKnow.UserDictionary [ Internal ]\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'Method %OnNew(pName As %String, pDescription As %String = "") As %Status [ Private, ServerOnly = 1 ]\n'})}),"\n",(0,s.jsx)(n.h3,{id:"onbeforesave",children:"%OnBeforeSave"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method %OnBeforeSave(insert As %Boolean) As %Status [ Private, ServerOnly = 1 ]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"clearentries",children:"ClearEntries"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method ClearEntries() As %Status\n"})}),"\n",(0,s.jsx)(n.p,{children:"Removes all entries from this user dictionary (only relevant for non-transient ones)"}),"\n",(0,s.jsx)(n.h3,{id:"ondelete",children:"%OnDelete"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %OnDelete(oid As %ObjectIdentity) As %Status [ Private, ServerOnly = 1 ]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addentry",children:"AddEntry"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddEntry(pRewriteFrom As %String, pRewriteTo As %String, ByRef pPosition As %Integer = 0) As %Status\n"})}),"\n",(0,s.jsx)(n.p,{children:"Adds a single entry to this User Dictionary at position. If position <= 0 (default=0), it is added at the bottom of the list, otherwise at the requested position, shifting existing entries down if it was already taken."}),"\n",(0,s.jsx)(n.p,{children:"These changes are saved automatically. There is no need to call %Save"}),"\n",(0,s.jsx)(n.h3,{id:"addnegationterm",children:"AddNegationTerm"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddNegationTerm(pWord As %String, Output pPosition As %Integer) As %Status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addpositivesentimentterm",children:"AddPositiveSentimentTerm"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddPositiveSentimentTerm(pWord As %String, Output pPosition As %Integer) As %Status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addnegativesentimentterm",children:"AddNegativeSentimentTerm"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddNegativeSentimentTerm(pWord As %String, Output pPosition As %Integer) As %Status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addnumber",children:"AddNumber"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddNumber(pWord As %String, Output pPosition As %Integer) As %Status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addtime",children:"AddTime"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddTime(pWord As %String, Output pPosition As %Integer) As %Status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addunit",children:"AddUnit"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddUnit(pWord As %String, Output pPosition As %Integer) As %Status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addcertaintyterm",children:"AddCertaintyTerm"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddCertaintyTerm(pWord As %String, pLevel As %Integer = 9, Output pPosition) As %Status\n"})}),"\n",(0,s.jsx)(n.p,{children:"Use pLevel to specify the level of certainty for this term (1-9). A value of 1 implies a very uncertain statement, a value of 9 a very certain one."}),"\n",(0,s.jsx)(n.h3,{id:"addsentenceend",children:"AddSentenceEnd"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddSentenceEnd(pToken As %String, Output pPosition) As %Status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addsentencenoend",children:"AddSentenceNoEnd"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddSentenceNoEnd(pToken As %String, Output pPosition) As %Status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addconcept",children:"AddConcept"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddConcept(pWord As %String, Output pPosition) As %Status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addrelation",children:"AddRelation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddRelation(pWord As %String, Output pPosition) As %Status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addnonrelevant",children:"AddNonRelevant"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method AddNonRelevant(pWord As %String, Output pPosition) As %Status\n"})}),"\n",(0,s.jsx)(n.h3,{id:"addattribute",children:"AddAttribute"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:'Method AddAttribute(pWord As %String, pAttribute As %String = "UDNegation", Output pPosition, pMetadata As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,s.jsx)(n.p,{children:"Generic method to add attribute marker terms. See the attribute-specific helper methods for practical entry points that avoid keyword typos:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"AddNegationTerm"}),"\n",(0,s.jsx)(n.li,{children:"AddPositiveSentimentTerm"}),"\n",(0,s.jsx)(n.li,{children:"AddNegativeSentimentTerm"}),"\n",(0,s.jsx)(n.li,{children:"AddCertaintyTerm"}),"\n",(0,s.jsx)(n.li,{children:"AddNumber"}),"\n",(0,s.jsx)(n.li,{children:"AddTime"}),"\n",(0,s.jsx)(n.li,{children:"AddUnit"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Supported metadata can be passed using pMetadata"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:'set meta = "c=9" // certainty level do userDictionary.AddAttribute("absolutely", "UDCertainty",, meta)'})}),"\n",(0,s.jsx)(n.h3,{id:"removeentry",children:"RemoveEntry"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method RemoveEntry(pPosition As %Integer) As %Status\n"})}),"\n",(0,s.jsx)(n.p,{children:"Removes the User Dictionary entry registered at position. This method will not impact the order or position of any remaining entries."}),"\n",(0,s.jsx)(n.p,{children:"These changes are saved automatically. There is no need to call %Save"}),"\n",(0,s.jsx)(n.h3,{id:"getentries",children:"GetEntries"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method GetEntries(ByRef pResult) As %Status\n"})}),"\n",(0,s.jsx)(n.p,{children:"Returns the contents of this User Dictionary in the form pResult(position) = $lb(rewriteFrom, rewriteTo [, metadata])."}),"\n",(0,s.jsx)(n.h3,{id:"checkifmanaged",children:"CheckIfManaged"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod CheckIfManaged(pUserDict As %iKnow.UserDictionary) As %Status [ Internal ]\n"})}),"\n",(0,s.jsx)(n.p,{children:"Checks if the supplied User Dictionary instance is managed"}),"\n",(0,s.jsx)(n.h3,{id:"constructclone",children:"%ConstructClone"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"Method %ConstructClone(deep As %Boolean = 0, ByRef cloned As %String, location As %String) As %RegisteredObject [ ServerOnly = 0 ]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"deleteextent",children:"%DeleteExtent"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %DeleteExtent(concurrency As %Integer = -1, ByRef deletecount, ByRef instancecount, pInitializeExtent As %Integer = 1) As %Status [ ServerOnly = 0 ]\n"})}),"\n",(0,s.jsx)(n.h3,{id:"killextentdata",children:"%KillExtentData"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod %KillExtentData(killstreams As %Boolean = 0) As %Status [ Private, ServerOnly = 1 ]\n"})})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>d});var s=t(96540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);