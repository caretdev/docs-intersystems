"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[30359],{28504:(e,l,a)=>{a.r(l),a.d(l,{contentTitle:()=>o,default:()=>c,frontMatter:()=>s,toc:()=>t});var n=a(74848),r=a(28453);const s={pagination_prev:null,pagination_next:null},o="SYS.DataCheck.GlobalReference",t=[{value:"Parameters",id:"parameters",level:2},{value:"MAXLEN",id:"maxlen",level:3},{value:"Methods",id:"methods",level:2},{value:"CollatesAfter",id:"collatesafter",level:3},{value:"GlobalName",id:"globalname",level:3},{value:"Encode",id:"encode",level:3},{value:"Normalize",id:"normalize",level:3},{value:"IsValid",id:"isvalid",level:3},{value:"LogicalToDisplay",id:"logicaltodisplay",level:3},{value:"DisplayToLogical",id:"displaytological",level:3}];function i(e){const l={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.header,{children:(0,n.jsx)(l.h1,{id:"sysdatacheckglobalreference",children:"SYS.DataCheck.GlobalReference"})}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-objectscript-class",children:"Class SYS.DataCheck.GlobalReference Extends %Binary\n"})}),"\n",(0,n.jsx)(l.p,{children:"Datatype for global node names used in DataCheck. Only to be used in the context of DataCheck."}),"\n",(0,n.jsx)(l.p,{children:"Valid global references contain no extended reference, no naked references, and only literal subscripts. In their normalized form they include a leading ^. Consumers should check validity and normalize (via Normalize or by validating the class which has this datatype as a property) before using the reference."}),"\n",(0,n.jsx)(l.p,{children:'Null is a valid global reference for DataCheck and represents the end of the universe of possible subscripts for any global. In other words, "" collates after any other valid global reference.'}),"\n",(0,n.jsx)(l.p,{children:'Null appearing as a subscript is valid and represents the beginning of the range of the subscript level in which it appears. In other words, ^X(123,"") collates before ^X(123, followed by any other subscripts).'}),"\n",(0,n.jsx)(l.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(l.h3,{id:"maxlen",children:"MAXLEN"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-objectscript-class",children:"Parameter MAXLEN As INTEGER;\n"})}),"\n",(0,n.jsx)(l.p,{children:"Global References are not limited by number of characters, but by the length of their encoded representation"}),"\n",(0,n.jsx)(l.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(l.h3,{id:"collatesafter",children:"CollatesAfter"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-objectscript-class",children:"ClassMethod CollatesAfter(key1 As GlobalReference, key2 As GlobalReference, col As %Integer = 5, alreadynormalized As %Boolean = 0) As %Boolean [ Internal ]\n"})}),"\n",(0,n.jsx)(l.p,{children:"Returns true if the global reference in 'key1' collates after the global reference in 'key2' in collation 'col', otherwise returns false"}),"\n",(0,n.jsx)(l.h3,{id:"globalname",children:"GlobalName"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-objectscript-class",children:"ClassMethod GlobalName(key As GlobalReference, Output normalized As GlobalReference) As GlobalReference [ Internal ]\n"})}),"\n",(0,n.jsx)(l.p,{children:"Validates and normalizes the global reference specified by 'key', returning it without any subscripts, and returning the full global reference in the 'normalized' argument."}),"\n",(0,n.jsx)(l.h3,{id:"encode",children:"Encode"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-objectscript-class",children:"ClassMethod Encode(ref As GlobalReference, col As %Integer = 5, alreadynormalized As %Boolean = 0) As %String [ Internal ]\n"})}),"\n",(0,n.jsx)(l.p,{children:"Returns the encoded form of the global reference"}),"\n",(0,n.jsx)(l.h3,{id:"normalize",children:"Normalize"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-objectscript-class",children:"ClassMethod Normalize(%val As GlobalReference) As GlobalReference\n"})}),"\n",(0,n.jsx)(l.p,{children:"Returns the non-null global reference, including the \"^\", passed though $name, or null if the global reference is null. This method will validate the global reference and throw an error if the global reference is invalid. You may use IsValid with the 'normalized' output parameter avoid errors."}),"\n",(0,n.jsx)(l.h3,{id:"isvalid",children:"IsValid"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-objectscript-class",children:"ClassMethod IsValid(%val As GlobalReference, Output normalized As GlobalReference) As %Status\n"})}),"\n",(0,n.jsx)(l.p,{children:"Returns $$$OK if the global reference in '%val' is valid, or an error status if invalid. If valid, the normalized value is returned by reference in the 'normalized' parameter. Note that a global reference which passes this test, although syntactically valid, may not actually be usable depending on the changeable state of the system. For example, upon using a valid global reference in a database operation, one may still encounter errors like  if the collation of the global does not allow a particular subscript, or if it contains a null subscript and null subscript support is turned off."}),"\n",(0,n.jsx)(l.h3,{id:"logicaltodisplay",children:"LogicalToDisplay"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-objectscript-class",children:"ClassMethod LogicalToDisplay(%val As GlobalReference) As %String\n"})}),"\n",(0,n.jsx)(l.p,{children:'Quotes subscripts for display purposes and converts "" to an end-of-global marker for display purposes'}),"\n",(0,n.jsx)(l.h3,{id:"displaytological",children:"DisplayToLogical"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-objectscript-class",children:"ClassMethod DisplayToLogical(%val As %Binary) As GlobalReference\n"})}),"\n",(0,n.jsx)(l.p,{children:"Converts from quoted display form back to normalized GlobalReference format, or -1 on error"})]})}function c(e={}){const{wrapper:l}={...(0,r.R)(),...e.components};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(i,{...e})}):i(e)}},28453:(e,l,a)=>{a.d(l,{R:()=>o,x:()=>t});var n=a(96540);const r={},s=n.createContext(r);function o(e){const l=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(l):{...l,...e}}),[l,e])}function t(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(s.Provider,{value:l},e.children)}}}]);