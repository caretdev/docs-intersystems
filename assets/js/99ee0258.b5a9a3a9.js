"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[36674],{76071:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>l,default:()=>o,frontMatter:()=>r,toc:()=>i});var n=t(74848),a=t(28453);const r={pagination_prev:null,pagination_next:null},l="%CSP.REST",i=[{value:"Parameters",id:"parameters",level:2},{value:"CONTENTTYPEJSON",id:"contenttypejson",level:3},{value:"CONTENTTYPETEXT",id:"contenttypetext",level:3},{value:"HTTP200OK",id:"http200ok",level:3},{value:"HTTP201CREATED",id:"http201created",level:3},{value:"HTTP202ACCEPTED",id:"http202accepted",level:3},{value:"HTTP204NOCONTENT",id:"http204nocontent",level:3},{value:"HTTP400BADREQUEST",id:"http400badrequest",level:3},{value:"HTTP304NOTMODIFIED",id:"http304notmodified",level:3},{value:"HTTP401UNAUTHORIZED",id:"http401unauthorized",level:3},{value:"HTTP403FORBIDDEN",id:"http403forbidden",level:3},{value:"HTTP404NOTFOUND",id:"http404notfound",level:3},{value:"HTTP405METHODNOTALLOWED",id:"http405methodnotallowed",level:3},{value:"HTTP406NOTACCEPTABLE",id:"http406notacceptable",level:3},{value:"HTTP409CONFLICT",id:"http409conflict",level:3},{value:"HTTP415UNSUPPORTEDMEDIATYPE",id:"http415unsupportedmediatype",level:3},{value:"HTTP422UNPROCESSABLEENTITY",id:"http422unprocessableentity",level:3},{value:"HTTP423LOCKED",id:"http423locked",level:3},{value:"HTTP500INTERNALSERVERERROR",id:"http500internalservererror",level:3},{value:"TokenLoginEndpoint",id:"tokenloginendpoint",level:3},{value:"TokenLogoutEndpoint",id:"tokenlogoutendpoint",level:3},{value:"TokenRevokeEndpoint",id:"tokenrevokeendpoint",level:3},{value:"TokenRefreshEndpoint",id:"tokenrefreshendpoint",level:3},{value:"UseSession",id:"usesession",level:3},{value:"HandleCorsRequest;",id:"handlecorsrequest",level:3},{value:"SpecificationClass",id:"specificationclass",level:3},{value:"IgnoreWrites",id:"ignorewrites",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"UrlMap",id:"urlmap",level:3},{value:"Schema",id:"schema",level:3},{value:"Methods",id:"methods",level:2},{value:"Page",id:"page",level:3},{value:"Error",id:"error",level:3},{value:"Login",id:"login",level:3},{value:"GetAuthChallenge",id:"getauthchallenge",level:3},{value:"OnPreDispatch",id:"onpredispatch",level:3},{value:"AccessCheck",id:"accesscheck",level:3},{value:"DispatchRequest",id:"dispatchrequest",level:3},{value:"HandleTokenResponse",id:"handletokenresponse",level:3},{value:"ReportHttpStatusCode",id:"reporthttpstatuscode",level:3},{value:"Http403",id:"http403",level:3},{value:"Http404",id:"http404",level:3},{value:"Http405",id:"http405",level:3},{value:"Http500",id:"http500",level:3},{value:"outputStatus",id:"outputstatus",level:3},{value:"ParseUrlMap",id:"parseurlmap",level:3},{value:"GetRegexForUrl",id:"getregexforurl",level:3},{value:"SupportedVerbs",id:"supportedverbs",level:3},{value:"DispatchMap",id:"dispatchmap",level:3},{value:"StatusToProxyObject",id:"statustoproxyobject",level:3},{value:"StatusToJSON",id:"statustojson",level:3},{value:"mnemonicForStatusCode",id:"mnemonicforstatuscode",level:3},{value:"SetResponseHeaderIfEmpty",id:"setresponseheaderifempty",level:3},{value:"AcceptsContentType",id:"acceptscontenttype",level:3}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"csprest",children:"%CSP.REST"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Class %CSP.REST Extends %CSP.Login [ System = 3 ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Applications wishing to support REST should subclass this class, implement the methods to be called, and define a UrlMap XDATA block which maps Urls and request Method (DELETE/GET/POST/PUT) to those methods. Users define a csp web application which will be serviced by their custom subclass. To achieve this, in the management portal set the 'Dispatch Class' to the name of the custom subclass of %CSP.REST."}),"\n",(0,n.jsx)(s.p,{children:"Note: %CSP.REST extends %CSP.Login instead of just %CSP.Page because %CSP.Login contains the default CORS support as well as being a subclass of %CSP.Page."}),"\n",(0,n.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(s.h3,{id:"contenttypejson",children:"CONTENTTYPEJSON"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter CONTENTTYPEJSON As STRING = "application/json";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"contenttypetext",children:"CONTENTTYPETEXT"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter CONTENTTYPETEXT As STRING = "text/plain";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http200ok",children:"HTTP200OK"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP200OK As STRING = "200 OK";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http201created",children:"HTTP201CREATED"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP201CREATED As STRING = "201 Created";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http202accepted",children:"HTTP202ACCEPTED"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP202ACCEPTED As STRING = "202 Accepted";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http204nocontent",children:"HTTP204NOCONTENT"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP204NOCONTENT As STRING = "204 No Content";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http400badrequest",children:"HTTP400BADREQUEST"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP400BADREQUEST As STRING = "400 Bad Request";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http304notmodified",children:"HTTP304NOTMODIFIED"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP304NOTMODIFIED As STRING = "304 Not Modified";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http401unauthorized",children:"HTTP401UNAUTHORIZED"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP401UNAUTHORIZED As STRING = "401 Unauthorized";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http403forbidden",children:"HTTP403FORBIDDEN"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP403FORBIDDEN As STRING = "403 Forbidden";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http404notfound",children:"HTTP404NOTFOUND"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP404NOTFOUND As STRING = "404 Not Found";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http405methodnotallowed",children:"HTTP405METHODNOTALLOWED"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP405METHODNOTALLOWED As STRING = "405 Method Not Allowed";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http406notacceptable",children:"HTTP406NOTACCEPTABLE"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP406NOTACCEPTABLE As STRING = "406 Not Acceptable";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http409conflict",children:"HTTP409CONFLICT"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP409CONFLICT As STRING = "409 Conflict";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http415unsupportedmediatype",children:"HTTP415UNSUPPORTEDMEDIATYPE"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP415UNSUPPORTEDMEDIATYPE = "415 Unsupported Media Type";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http422unprocessableentity",children:"HTTP422UNPROCESSABLEENTITY"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP422UNPROCESSABLEENTITY = "422 Unprocessable Entity";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http423locked",children:"HTTP423LOCKED"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP423LOCKED = "423 Locked";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"http500internalservererror",children:"HTTP500INTERNALSERVERERROR"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter HTTP500INTERNALSERVERERROR As STRING = "500 Internal Server Error";\n'})}),"\n",(0,n.jsx)(s.h3,{id:"tokenloginendpoint",children:"TokenLoginEndpoint"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter TokenLoginEndpoint As STRING = "login";\n'})}),"\n",(0,n.jsx)(s.p,{children:'If the REST application is using token authentication, then this parameter gives the path to use for the "login" endpoint. The default is "/login".'}),"\n",(0,n.jsx)(s.h3,{id:"tokenlogoutendpoint",children:"TokenLogoutEndpoint"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter TokenLogoutEndpoint As STRING = "logout";\n'})}),"\n",(0,n.jsx)(s.p,{children:'If the REST application is using token authentication, then this parameter gives the path to use for the "logout" endpoint. The default is "/logout".'}),"\n",(0,n.jsx)(s.h3,{id:"tokenrevokeendpoint",children:"TokenRevokeEndpoint"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter TokenRevokeEndpoint As STRING = "revoke";\n'})}),"\n",(0,n.jsx)(s.p,{children:'If the REST application is using token authentication, then this parameter gives the path to use for the token revocation endpoint. The default is "/revoke".'}),"\n",(0,n.jsx)(s.h3,{id:"tokenrefreshendpoint",children:"TokenRefreshEndpoint"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter TokenRefreshEndpoint As STRING = "refresh";\n'})}),"\n",(0,n.jsx)(s.p,{children:'If the REST application is using token authentication, then this parameter gives the path to use for the "refresh" endpoint. The default is "/refresh".'}),"\n",(0,n.jsx)(s.h3,{id:"usesession",children:"UseSession"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter UseSession As BOOLEAN = 0;\n"})}),"\n",(0,n.jsx)(s.p,{children:"This parameter controls the CSP session support. By default the CSP session will be ended after each request in accordance with the spirit of REST. However this CAN be overridden by the user. To use a session, it's necessary to manage the CSPSESSION cookie. Browsers do this automatically but command line tools such as CURL require the setting of options."}),"\n",(0,n.jsx)(s.p,{children:"Note that if you choose to use a session then this will use a CSP license until the session is ended or expires and the grace period has been satisfied. If you use the default of no session then this will be the same behavior as SOAP requests of holding a license for ten seconds."}),"\n",(0,n.jsx)(s.h3,{id:"handlecorsrequest",children:"HandleCorsRequest;"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter HandleCorsRequest;\n"})}),"\n",(0,n.jsx)(s.p,{children:"This parameter influences the CORS support. The default is an empty string meaning 'not specified'. If set to true (1) then CORS processing is ON. If set to false (0) then CORS processing is OFF. If left unset (\"\") then the decision to process CORS is delegated to the setting on the URL map route."}),"\n",(0,n.jsx)(s.h3,{id:"specificationclass",children:"SpecificationClass"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter SpecificationClass As STRING [ Internal ];\n"})}),"\n",(0,n.jsx)(s.p,{children:"This parameter is used by the REST facilities to allow overrides of the the default naming convention when associating a %REST.Spec specification class with this implementation."}),"\n",(0,n.jsx)(s.h3,{id:"ignorewrites",children:"IgnoreWrites"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Parameter IgnoreWrites As BOOLEAN [ Internal ] = 0;\n"})}),"\n",(0,n.jsx)(s.p,{children:"If IgnoreWrites is true, then write commands from REST methods will be ignored. IgnoreWrites is set to true to allow only output from API Management generated methods by returning the result."}),"\n",(0,n.jsx)(s.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,n.jsx)(s.h3,{id:"urlmap",children:"UrlMap"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'XData UrlMap [ XMLNamespace = "http://www.intersystems.com/urlmap" ]\n'})}),"\n",(0,n.jsx)(s.p,{children:"The UrlMap determines how a Url should map to a HTTP Method and a Target ClassMethod indicated by the 'Call' attribute. The call attribute is either the name of a method or the name of a class and method seperated by a ':'. Parameters within the URL preceded by a ':' will be extracted from the supplied URL and passed as arguments to the named method. In this Route Entry GET requests to /class/namespace/classname will call the GetClass method  In this Route Entry both POST and PUT requests are dispatched to the same method. Called methods can determine which verb was used by checking the value of %request.Method  To influence CORS processing you can set the \"Cors\" attribute to \"true\", default is \"false\". The \"Cors\" attribute is only considered if the PARAMETER 'HandleCorsRequest' is left unspecified.  Use a Map Entry to forward ALL requests made to a particular URL prefix. For example. If your web application has a base url route of /api/v1 and you want to map all requests to /api/v1/docserver (including all sub-urls) enter a Map entry like this:  This will result in calls such as /api/v1/docserver/class/Samples/Sample.Person being redirected to the class %API.v1.DocServer ( another subclass of %CSP.REST )for futher processing."}),"\n",(0,n.jsx)(s.h3,{id:"schema",children:"Schema"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"XData Schema [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This is the Schema which defines the form of the dispatch map"}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(s.h3,{id:"page",children:"Page"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Page(skipheader As %Boolean = 1) As %Status [ ProcedureBlock = 1 ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This method matches the request and method and calls the dispatcher"}),"\n",(0,n.jsx)(s.h3,{id:"error",children:"Error"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Error(skipheader As %Boolean = 1) As %Status\n"})}),"\n",(0,n.jsx)(s.p,{children:"Called for a REST page in the event of an error being trapped by CSP server"}),"\n",(0,n.jsx)(s.h3,{id:"login",children:"Login"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Login(skipheader As %Boolean = 1) As %Status [ ProcedureBlock = 0 ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Called for a REST page in the event of a login being required"}),"\n",(0,n.jsx)(s.h3,{id:"getauthchallenge",children:"GetAuthChallenge"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetAuthChallenge() As %String\n"})}),"\n",(0,n.jsx)(s.p,{children:"This method determines what challenge will be sent with a 401 (Unauthorized) response. The default is the type of the Authorization header used in the request. For unauthenticated requests, the default is 'Basic'. Note most browsers will display a native login prompt in response to a 'Basic' challenge."}),"\n",(0,n.jsx)(s.h3,{id:"onpredispatch",children:"OnPreDispatch"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod OnPreDispatch(pUrl As %String, pMethod As %String, ByRef pContinue As %Boolean) As %Status\n"})}),"\n",(0,n.jsx)(s.p,{children:"This method gets called prior to dispatch of the request. Put any common code here that you want to be executed for EVERY request. If pContinue is set to 0, the request will NOT be dispatched according to the UrlMap. In this case it's the responsibility of the user to return a response."}),"\n",(0,n.jsx)(s.h3,{id:"accesscheck",children:"AccessCheck"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod AccessCheck(Output pAuthorized As %Boolean = 0) As %Status\n"})}),"\n",(0,n.jsx)(s.p,{children:"This method performs a basic access check. You can override this to add additional checks."}),"\n",(0,n.jsx)(s.h3,{id:"dispatchrequest",children:"DispatchRequest"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod DispatchRequest(url As %String, method As %String, forwarded As %Boolean = 0, args...) As %Status\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Dispatch a REST request according to URL and Method. The ",(0,n.jsx)(s.strong,{children:"pArgs"})," argument is a local array of parameters from the caller. The ",(0,n.jsx)(s.strong,{children:"forwarded"})," argument is no longer used."]}),"\n",(0,n.jsx)(s.h3,{id:"handletokenresponse",children:"HandleTokenResponse"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod HandleTokenResponse(skipheader As %Boolean = 1) As %Status [ Final, Internal ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"reporthttpstatuscode",children:"ReportHttpStatusCode"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ReportHttpStatusCode(pHttpStatus, pSC As %Status = {$$$OK}) As %Status\n"})}),"\n",(0,n.jsx)(s.p,{children:"Issue an 'Http' error"}),"\n",(0,n.jsx)(s.h3,{id:"http403",children:"Http403"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Http403(pSC As %Status = {$$$OK}) As %Status [ Deprecated, Final ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Issue a '403' error (Deprecated, use ..ReportHttpStatusCode)"}),"\n",(0,n.jsx)(s.h3,{id:"http404",children:"Http404"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Http404(pSC As %Status = {$$$OK}) As %Status [ Deprecated, Final ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Issue a '404' error (Deprecated, use ..ReportHttpStatusCode)"}),"\n",(0,n.jsx)(s.h3,{id:"http405",children:"Http405"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod Http405(pSupportedVerbs As %String = "") As %Status\n'})}),"\n",(0,n.jsx)(s.p,{children:"Issue a '405' error ( user can override)"}),"\n",(0,n.jsx)(s.h3,{id:"http500",children:"Http500"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Http500(pE As %Exception.AbstractException) As %Status\n"})}),"\n",(0,n.jsx)(s.p,{children:"Issue a '500' error and give some indication as to what occurred"}),"\n",(0,n.jsx)(s.h3,{id:"outputstatus",children:"outputStatus"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod outputStatus(pSC As %Status) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This method takes a status, renders it as JSON (if requested) and outputs the result"}),"\n",(0,n.jsx)(s.h3,{id:"parseurlmap",children:"ParseUrlMap"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ParseUrlMap(classname As %String, ByRef routes As %DynamicArray) As %Status [ Final, Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This method parses the URLMap XData block, combines it with the superclass UrlMap (if relevant) and returns the optimized set of routes in the routes array. This is used by the SupportedVerbs, DispatchMap and Method generators."}),"\n",(0,n.jsx)(s.h3,{id:"getregexforurl",children:"GetRegexForUrl"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetRegexForUrl(url As %String) As %String [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"supportedverbs",children:"SupportedVerbs"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SupportedVerbs(pUrl, Output pVerbs As %String) As %Status [ CodeMode = objectgenerator, GenerateAfter = ParseUrlMap ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"This generator creates the SupportedVerbs Method used to determine supported verbs to return for the OPTIONS request."}),"\n",(0,n.jsx)(s.h3,{id:"dispatchmap",children:"DispatchMap"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod DispatchMap(url As %String, method As %String, Output verbsMatched As %String = "", Output args) As %String [ CodeMode = objectgenerator, GenerateAfter = ParseUrlMap, Internal ]\n'})}),"\n",(0,n.jsx)(s.p,{children:"This generator creates the DispatchMap Method used to dispatch the Url and Method to the associated target method"}),"\n",(0,n.jsx)(s.h3,{id:"statustoproxyobject",children:"StatusToProxyObject"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod StatusToProxyObject(pSC As %Status, ByRef pJSON As %ZEN.proxyObject) As %Status [ Final ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Render a %Status as JSON (in the form of an array of objects representing each status value)."}),"\n",(0,n.jsx)(s.h3,{id:"statustojson",children:"StatusToJSON"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod StatusToJSON(pSC As %Status, ByRef pJSON As %DynamicObject) As %Status [ Final ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Render a %Status as JSON."}),"\n",(0,n.jsx)(s.h3,{id:"mnemonicforstatuscode",children:"mnemonicForStatusCode"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod mnemonicForStatusCode(pCode As %String) As %String [ Internal ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"Convert a status code value into its mnemonic (if available)"}),"\n",(0,n.jsx)(s.h3,{id:"setresponseheaderifempty",children:"SetResponseHeaderIfEmpty"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SetResponseHeaderIfEmpty(pHeader As %String, pValue As %String)\n"})}),"\n",(0,n.jsx)(s.p,{children:"This utility method sets a response header only if it currently does not have a value"}),"\n",(0,n.jsx)(s.h3,{id:"acceptscontenttype",children:"AcceptsContentType"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod AcceptsContentType(pType As %String) As %Boolean\n"})}),"\n",(0,n.jsx)(s.p,{children:"This method tests the HTTP_ACCEPT header and returns true if the passed content type is acceptable"})]})}function o(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>i});var n=t(96540);const a={},r=n.createContext(a);function l(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);