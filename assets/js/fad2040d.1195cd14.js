"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[30054],{60228:(e,s,r)=>{r.r(s),r.d(s,{contentTitle:()=>a,default:()=>o,frontMatter:()=>i,toc:()=>n});var t=r(74848),l=r(28453);const i={pagination_prev:null,pagination_next:null},a="%Library.SQLCatalogPriv",n=[{value:"Parameters",id:"parameters",level:2},{value:"SQLPUBLICSECURITY",id:"sqlpublicsecurity",level:3},{value:"Methods",id:"methods",level:2},{value:"SQLRolesExecute",id:"sqlrolesexecute",level:3},{value:"SQLRolesFetch",id:"sqlrolesfetch",level:3},{value:"SQLRolesClose",id:"sqlrolesclose",level:3},{value:"SQLRolePrivilegesExecute",id:"sqlroleprivilegesexecute",level:3},{value:"SQLRolePrivilegesFetch",id:"sqlroleprivilegesfetch",level:3},{value:"SQLRolePrivilegesClose",id:"sqlroleprivilegesclose",level:3},{value:"SQLRoleUserExecute",id:"sqlroleuserexecute",level:3},{value:"SQLRoleUserFetch",id:"sqlroleuserfetch",level:3},{value:"SQLRoleUserClose",id:"sqlroleuserclose",level:3},{value:"SQLUsersExecute",id:"sqlusersexecute",level:3},{value:"SQLUsersFetch",id:"sqlusersfetch",level:3},{value:"SQLUsersClose",id:"sqlusersclose",level:3},{value:"SQLUserExistsExecute",id:"sqluserexistsexecute",level:3},{value:"SQLUserExistsFetch",id:"sqluserexistsfetch",level:3},{value:"SQLUserExistsClose",id:"sqluserexistsclose",level:3},{value:"SQLUserPrivsExecute",id:"sqluserprivsexecute",level:3},{value:"SQLUserPrivsFetch",id:"sqluserprivsfetch",level:3},{value:"SQLUserPrivsClose",id:"sqluserprivsclose",level:3},{value:"SQLUserRoleExecute",id:"sqluserroleexecute",level:3},{value:"SQLUserRoleFetch",id:"sqluserrolefetch",level:3},{value:"SQLUserRoleClose",id:"sqluserroleclose",level:3},{value:"SQLUserSysPrivsExecute",id:"sqlusersysprivsexecute",level:3},{value:"SQLUserSysPrivsFetch",id:"sqlusersysprivsfetch",level:3},{value:"SQLUserSysPrivsClose",id:"sqlusersysprivsclose",level:3}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"librarysqlcatalogpriv",children:"%Library.SQLCatalogPriv"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Class %Library.SQLCatalogPriv [ Not Hidden, System = 3 ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"SQL Catalog Queries - Privileged"}),"\n",(0,t.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(s.h3,{id:"sqlpublicsecurity",children:"SQLPUBLICSECURITY"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter SQLPUBLICSECURITY = "{""SQLCatalogPriv_SQLUsers"":""E""}";\n'})}),"\n",(0,t.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(s.h3,{id:"sqlrolesexecute",children:"SQLRolesExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLRolesExecute(ByRef %q As %Binary) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Get a list of all SQL Roles. -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=- SQLRoles Procedure \t%SQLCatalogPriv_SQLRoles() \t\tTakes no parameters \t\tReturns all SQL Roles defined \t\tROWSPEC = ROLE_NAME:%Library.String\t- Name of the role \t\t\t  DESCRIPTION:%Library.String\t- Role's Desription \t\t\t  CREATED_BY:%Library.String\t- SQL User who created the Role \t\t\t  ESCALATION_ONLY:%Library.Boolean - Can this role be assigned at login, or can it only be used for escalation? -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-"}),"\n",(0,t.jsx)(s.h3,{id:"sqlrolesfetch",children:"SQLRolesFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLRolesFetch(ByRef %q As %Binary, ByRef Row As %List, AtEnd As %Integer) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqlrolesclose",children:"SQLRolesClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLRolesClose(%q As %Library.Binary) As %Library.Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqlroleprivilegesexecute",children:"SQLRolePrivilegesExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod SQLRolePrivilegesExecute(ByRef %q As %Binary, role As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Get a list of Privileges granted to a Role -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=- SQLRolePrivleges Procedure \t%SQLCatalogPriv_SQLRolePrivileges('rolename') \t\tTakes 1 %String/VARCHAR type parameter which is the name of a Role. \t\tReturns all privileges granted to the role. \t\tROWSPEC = TYPE:%String\t\t\t- TABLE or VIEW or PROCEDURE \t\t\t  NAME:%String\t\t\t- Name of the object with privs granted to the role \t\t\t  PRIVILEGE:%String\t\t- Privilege granted \t\t\t  GRANTED_BY:%String\t\t- SQL user name who granted the privilege \t\t\t  GRANT_OPTION:%String\t\t- 'Yes' or 'No', privilege granted with grant option -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-"}),"\n",(0,t.jsx)(s.h3,{id:"sqlroleprivilegesfetch",children:"SQLRolePrivilegesFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLRolePrivilegesFetch(ByRef %q As %Binary, ByRef Row As %List, AtEnd As %Integer) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqlroleprivilegesclose",children:"SQLRolePrivilegesClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLRolePrivilegesClose(%q As %Library.Binary) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqlroleuserexecute",children:"SQLRoleUserExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod SQLRoleUserExecute(ByRef %q As %Binary, role As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Get a list of all Users/Roles granted a Role. -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-   SQLRoleUser Procedure \t%SQLCatalogPriv_SQLRoleUser('rolename') \t\tTakes 1 %String/VARCHAR type parameter which is the name of a Role. \t\tReturns all SQL Users granted the role \t\tROWSPEC = NAME:%Library.String\t- Name of the SQL user granted the role \t\t\t  TYPE:%Library.String  - ROLE or USER, type of UID it is granted too -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-"}),"\n",(0,t.jsx)(s.h3,{id:"sqlroleuserfetch",children:"SQLRoleUserFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLRoleUserFetch(ByRef %q As %Binary, ByRef Row As %List, AtEnd As %Integer) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqlroleuserclose",children:"SQLRoleUserClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLRoleUserClose(%q As %Library.Binary) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqlusersexecute",children:"SQLUsersExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLUsersExecute(ByRef %q As %Binary) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"Get a list of all Users. -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=- SQLUsers Procedure \t%SQLCatalogPriv_SQLUsers() \t\tTakes no parameters \t\tReturns a list of SQL users: \t\tROWSPEC = USERNAME:%Library.String    - Name of the SQL user \t\t\t  DESCRIPTION:%Library.String - SQL User description \t\t\t  ENABLED:%Library.String     - Yes/No: is user definition enabled? \t\t\t  NAMESPACE:%Library.String   - User's Namespace \t\t\t  ROUTINE:%Library.String     - Routine -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-"}),"\n",(0,t.jsx)(s.h3,{id:"sqlusersfetch",children:"SQLUsersFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLUsersFetch(ByRef %q As %Binary, ByRef Row As %List, AtEnd As %Integer) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqlusersclose",children:"SQLUsersClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLUsersClose(%q As %Library.Binary) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqluserexistsexecute",children:"SQLUserExistsExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod SQLUserExistsExecute(ByRef %q As %Binary, user As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"If the user exists, return the username; otherwise nothing -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=- SQLUserExists Procedure \t%SQLCatalogPriv_SQLUserExists('username') \t\tTakes 1 %String/VARCHAR type parameter which is the name of an SQL user. \t\tReturns the SQL username if the user exists, otherwise nothing: \t\tROWSPEC = USER_NAME:%String\t- Name of the SQL user -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-"}),"\n",(0,t.jsx)(s.h3,{id:"sqluserexistsfetch",children:"SQLUserExistsFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLUserExistsFetch(ByRef %q As %Binary, ByRef Row As %List, AtEnd As %Integer) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqluserexistsclose",children:"SQLUserExistsClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLUserExistsClose(%q As %Binary) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqluserprivsexecute",children:"SQLUserPrivsExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod SQLUserPrivsExecute(ByRef %q As %Binary, user As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Get a list of Privileges granted to a SQL User -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=- SQLUserPrivs Procedure \t%SQLCatalogPriv_SQLUserPrivs('username') \t\tTakes 1 %String/VARCHAR type parameter which is the name of a SQL User. \t\tReturns all privileges granted to the user. \t\tROWSPEC = TYPE:%Library.String\t\t- TABLE, VIEW, STORED PROCEDURE \t\t\t  NAME:%Library.String \t\t- Name of the item with privs granted to the user \t\t\t  PRIVILEGE:%Library.String \t- Privilege granted \t\t\t  GRANTED_BY:%Library.String\t- SQL user name who granted the privilege \t\t\t  GRANT_OPTION:%Library.String\t- 'Yes' or 'No', privilege granted with grant option \t\t\t  GRANTED_VIA:%Library.String   - Direct, SuperUser, Role, _PUBLIC - How was the user granted the priv -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-"}),"\n",(0,t.jsx)(s.h3,{id:"sqluserprivsfetch",children:"SQLUserPrivsFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLUserPrivsFetch(ByRef %q As %Binary, ByRef Row As %List, AtEnd As %Integer) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqluserprivsclose",children:"SQLUserPrivsClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLUserPrivsClose(%q As %Library.Binary) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqluserroleexecute",children:"SQLUserRoleExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod SQLUserRoleExecute(ByRef %q As %Binary, user As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Get a list of all Roles granted to an SQL User. -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=- SQLUserRole Procedure \t%SQLCatalogPriv_SQLUserRole('username') \t\tTakes 1 %Library.String/VARCHAR type parameter which is the name of a SQL user. \t\tReturns all Roles granted to the user \t\tROWSPEC = ROLE_NAME:%Library.String\t- Name of the role granted to the user \t\t\t  ADMIN_OPTION:%Library.Boolean - 1/0 Role granted with Admin Option? -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-"}),"\n",(0,t.jsx)(s.h3,{id:"sqluserrolefetch",children:"SQLUserRoleFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLUserRoleFetch(ByRef %q As %Binary, ByRef Row As %List, AtEnd As %Integer) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqluserroleclose",children:"SQLUserRoleClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLUserRoleClose(%q As %Library.Binary) As %Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqlusersysprivsexecute",children:"SQLUserSysPrivsExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod SQLUserSysPrivsExecute(ByRef %q As %Library.Binary, user As %Library.String = "") As %Library.Status [ Internal ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Get all System Privileges granted to the user/role 'user' -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=- SQLUserSysPriv Procedure \t%SQLCatalogPriv_SQLUserSysPrivs('username') \t\tTakes 1 %String/VARCHAR type parameter which is the name of an SQL User or Role. \t\tReturns all system privileges granted to a user or role \t\tROWSPEC = PRIVILEGE:%Library.String\t- Name of the system privilege granted \t\t\t  ADMIN_OPTION:%Library.String\t- 'Yes' or 'No' whether the privilege was granted with admin option \t\t\t  GRANTED_VIA:%Library.String\t- Direct, SuperUser, Role, _PUBLIC - How was the user granted the priv -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-"}),"\n",(0,t.jsx)(s.h3,{id:"sqlusersysprivsfetch",children:"SQLUserSysPrivsFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLUserSysPrivsFetch(ByRef %q As %Library.Binary, ByRef Row As %Library.List, AtEnd As %Library.Integer) As %Library.Status [ Internal ]\n"})}),"\n",(0,t.jsx)(s.h3,{id:"sqlusersysprivsclose",children:"SQLUserSysPrivsClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SQLUserSysPrivsClose(ByRef %q As %Library.Binary) As %Library.Status [ Internal ]\n"})})]})}function o(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>a,x:()=>n});var t=r(96540);const l={},i=t.createContext(l);function a(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function n(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);