"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[55651],{14280:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>a,default:()=>c,frontMatter:()=>r,toc:()=>d});var n=t(74848),i=t(28453);const r={pagination_prev:null,pagination_next:null},a="%ExtentMgr.GUID",d=[{value:"Properties",id:"properties",level:2},{value:"GUID",id:"guid",level:3},{value:"OID",id:"oid",level:3},{value:"Methods",id:"methods",level:2},{value:"GetGUID",id:"getguid",level:3},{value:"idxOIDExists",id:"idxoidexists",level:3}];function l(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"extentmgrguid",children:"%ExtentMgr.GUID"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Class %ExtentMgr.GUID Extends %Persistent [ Final, StorageStrategy = GUID, System = 3 ]\n"})}),"\n",(0,n.jsx)(s.p,{children:"GUID,OID value pairs are recorded in ^OBJ.GUID. %ExtentMgr.GUID is a persistent class that models ^OBJ.GUID. This class can be queried using SQL. It is also a fully functioning persistent class with the GUID as the ID value. The OID property is swizzle-able. Instances of this class can be deleted and updated. New instances can be created."}),"\n",(0,n.jsx)(s.p,{children:"This class defines two indexes. idxGUID is the IDKEY for the class and indexes the GUID value. idxOID is a unique index on OID and indexes the OID value. The GUID value is stored in the idxOID as data. Index methods Open and Exists can be used for various purposes. For example, to see if an OID is defined in the GUID registry, simply call the idxOIDExists() method, passing in the requested OID value. All index Exists() methods will return the ID corresponding to the requested key value in an option pass by reference argument. For example:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:'SAMPLES>set person = ##class(Sample.Person).%OpenId(5)  \tSAMPLES>write "Exists: ",##class(%ExtentMgr.GUID).idxOIDExists(person.%Oid(),.id),", GUID: ",id \tExists: 1, GUID: A7413A9A-F73C-11DF-BF93-23DF9B6F8200 \tSAMPLES> \n'})}),"\n",(0,n.jsx)(s.p,{children:"Remember, OIDs are meant to be opaque values and simply constructing an OID value using $ListBuild is breaking encapsulation and it might not produce the desired results. For example:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:'SAMPLES>write "Exists: ",##class(%ExtentMgr.GUID).idxOIDExists($ListBuild(5,"Sample.Person"),.id),", GUID: ",id \tExists: 0, GUID: \tSAMPLES> \n'})}),"\n",(0,n.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(s.h3,{id:"guid",children:"GUID"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property GUID As %Library.Binary;\n"})}),"\n",(0,n.jsx)(s.h3,{id:"oid",children:"OID"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:"Property OID As %Library.Persistent(CLASSNAME = 1) [ Required ];\n"})}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(s.h3,{id:"getguid",children:"GetGUID"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod GetGUID(pOID As %Library.Binary = "") As %Library.Binary [ SqlName = GetGUID, SqlProc ]\n'})}),"\n",(0,n.jsx)(s.p,{children:"GetGUID returns a GUID value registered to the object whose OID is pOID. If no GUID is currently assigned to that object or if pOID is NULL then NULL is returned."}),"\n",(0,n.jsx)(s.h3,{id:"idxoidexists",children:"idxOIDExists"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod idxOIDExists(pOID As %Library.Binary = "", ByRef id As %String = "") As %Boolean [ ServerOnly = 0 ]\n'})}),"\n",(0,n.jsx)(s.p,{children:"idxOIDExists() This method returns true if a GUID exists whose OID matches the pOID value passed in by the caller. The optional byref id parameter will contain the id matching the object that was found to match the index key value upon a successful return."})]})}function c(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>d});var n=t(96540);const i={},r=n.createContext(i);function a(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);