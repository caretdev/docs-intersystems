"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[5714],{47927:(e,s,t)=>{t.r(s),t.d(s,{contentTitle:()=>l,default:()=>o,frontMatter:()=>n,toc:()=>a});var r=t(74848),i=t(28453);const n={pagination_prev:null,pagination_next:null},l="SYS.History.WriteDaemon",a=[{value:"Properties",id:"properties",level:2},{value:"StartTime",id:"starttime",level:3},{value:"Sleep",id:"sleep",level:3},{value:"WIJTime",id:"wijtime",level:3},{value:"WriteTime",id:"writetime",level:3},{value:"CycleTime",id:"cycletime",level:3},{value:"SizeWrite",id:"sizewrite",level:3},{value:"BufferWrite",id:"bufferwrite",level:3},{value:"BufferRedirty",id:"bufferredirty",level:3},{value:"TempQueue",id:"tempqueue",level:3},{value:"TempWrite",id:"tempwrite",level:3},{value:"ProcInGlobal",id:"procinglobal",level:3},{value:"StatusFlags",id:"statusflags",level:3},{value:"TimeStamp",id:"timestamp",level:3},{value:"Methods",id:"methods",level:2},{value:"GetCycles",id:"getcycles",level:3},{value:"PropList",id:"proplist",level:3},{value:"SetSummary",id:"setsummary",level:3},{value:"SampleExecute",id:"sampleexecute",level:3},{value:"SampleClose",id:"sampleclose",level:3},{value:"SampleFetch",id:"samplefetch",level:3}];function c(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"syshistorywritedaemon",children:"SYS.History.WriteDaemon"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Class SYS.History.WriteDaemon Extends %SerialObject [ System = 3 ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"A class describing the metrics kept for the Write Daemon cycle history. The system keeps a list of the last 20 cycles."}),"\n",(0,r.jsx)(s.p,{children:'This class is primarily used as an embedded object in the PerfData interval collection. But it may also be accessed directly using the "Sample" query as an API to the Write Daemon cycle history.'}),"\n",(0,r.jsxs)(s.p,{children:["For details, see ",(0,r.jsx)(s.a,{href:"/csp/docbook/Doc.View.cls?FIND=CLASSES+SYS.History.WriteDaemon",children:"History Monitor"}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(s.h3,{id:"starttime",children:"StartTime"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property StartTime As %TimeStamp [ SqlColumnNumber = 2 ];\n"})}),"\n",(0,r.jsx)(s.p,{children:"Time that this Write Daemon cycle began"}),"\n",(0,r.jsx)(s.h3,{id:"sleep",children:"Sleep"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property Sleep As %Numeric [ SqlColumnNumber = 3 ];\n"})}),"\n",(0,r.jsx)(s.p,{children:"Time (in milliseconds) that the Write Daemon was inactive before this cycle began"}),"\n",(0,r.jsx)(s.h3,{id:"wijtime",children:"WIJTime"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property WIJTime As %Numeric [ SqlColumnNumber = 4 ];\n"})}),"\n",(0,r.jsx)(s.p,{children:"Time (in milliseconds) that the Write Daemon was writing the Write Image Journal (WIJ) file"}),"\n",(0,r.jsx)(s.h3,{id:"writetime",children:"WriteTime"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property WriteTime As %Numeric [ SqlColumnNumber = 5 ];\n"})}),"\n",(0,r.jsx)(s.p,{children:"Time (in milliseconds) that the Write Daemon was writing buffers to the database(s)"}),"\n",(0,r.jsx)(s.h3,{id:"cycletime",children:"CycleTime"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property CycleTime As %Numeric [ SqlColumnNumber = 6 ];\n"})}),"\n",(0,r.jsx)(s.p,{children:"Time (in milliseconds) for the Write Daemon cycle to complete"}),"\n",(0,r.jsx)(s.h3,{id:"sizewrite",children:"SizeWrite"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property SizeWrite As %Numeric;\n"})}),"\n",(0,r.jsx)(s.p,{children:"The size of database buffers (in KB) written during the cycle."}),"\n",(0,r.jsx)(s.h3,{id:"bufferwrite",children:"BufferWrite"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property BufferWrite As %Numeric;\n"})}),"\n",(0,r.jsx)(s.p,{children:"Number of database buffers written during the cycle."}),"\n",(0,r.jsx)(s.h3,{id:"bufferredirty",children:"BufferRedirty"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property BufferRedirty As %Numeric;\n"})}),"\n",(0,r.jsx)(s.p,{children:"Number of database buffers written during the cycle that were also written in the prior cycle."}),"\n",(0,r.jsx)(s.h3,{id:"tempqueue",children:"TempQueue"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property TempQueue As %Numeric;\n"})}),"\n",(0,r.jsx)(s.p,{children:'Number of "in-memory" (i.e. IRISTemp) buffers used at the start of the cycle.'}),"\n",(0,r.jsx)(s.h3,{id:"tempwrite",children:"TempWrite"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property TempWrite As %Numeric;\n"})}),"\n",(0,r.jsx)(s.p,{children:'Number of "in-memory" buffers written during the cycle (typically none written).'}),"\n",(0,r.jsx)(s.h3,{id:"procinglobal",children:"ProcInGlobal"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property ProcInGlobal As %Numeric;\n"})}),"\n",(0,r.jsx)(s.p,{children:"Number of processes actively holding global buffers at the start of the cycle."}),"\n",(0,r.jsx)(s.h3,{id:"statusflags",children:"StatusFlags"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property StatusFlags As %Integer [ Internal ];\n"})}),"\n",(0,r.jsx)(s.p,{children:"Coded status flags for any special conditions in the cycle. Bits defined with wdcyclehist structure."}),"\n",(0,r.jsx)(s.h3,{id:"timestamp",children:"TimeStamp"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property TimeStamp As %String;\n"})}),"\n",(0,r.jsx)(s.p,{children:"Start time as UTC date/time stamp in $ZTS format"}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h3,{id:"getcycles",children:"GetCycles"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetCycles(Start As %String, End As %String) As %ArrayOfObjects [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Return all WD cycles for an interval. Start and End are UTC timestamps."}),"\n",(0,r.jsx)(s.h3,{id:"proplist",children:"PropList"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod PropList() As %String [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Fetch a list of detail properties for this class Only return those that should be summarized for Hourly and Daily."}),"\n",(0,r.jsx)(s.h3,{id:"setsummary",children:"SetSummary"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SetSummary(ByRef Function As %String, Period As %String) As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:'Configure the summary methods for this class for either the Hourly or Daily summaries. This is a comma-delimited list of functions to use for the summary. The available functions are Average, Maximum (high-water mark), Minimum (lowest value), Standard Deviation, Median, and Total. These are abbreviated in the \'Function\' argument as "Avg", "Max", "Min", StDev", Med", and "Tot". If nothing is specified, the default is "Avg,Max,StDev". You may also specify the string "None" for a summary period to disable that summary.'}),"\n",(0,r.jsx)(s.p,{children:"A null 'Function' argument will return the current summary setting in the 'Function' variable."}),"\n",(0,r.jsx)(s.p,{children:'The \'Period\' argument can be either "Hourly" or "Daily".'}),"\n",(0,r.jsx)(s.h3,{id:"sampleexecute",children:"SampleExecute"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SampleExecute(ByRef qHandle As %Binary) As %Status [ Internal ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Fetch current Write Daemon cycle history."}),"\n",(0,r.jsx)(s.h3,{id:"sampleclose",children:"SampleClose"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SampleClose(ByRef qHandle As %Binary) As %Status [ Internal, PlaceAfter = SampleExecute ]\n"})}),"\n",(0,r.jsx)(s.h3,{id:"samplefetch",children:"SampleFetch"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SampleFetch(ByRef qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status [ Internal, PlaceAfter = SampleExecute ]\n"})})]})}function o(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>l,x:()=>a});var r=t(96540);const i={},n=r.createContext(i);function l(e){const s=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(n.Provider,{value:s},e.children)}}}]);