"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[17620],{22633:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>i,default:()=>d,frontMatter:()=>r,toc:()=>l});var a=n(74848),s=n(28453);const r={pagination_prev:null,pagination_next:null},i="%IO.I.Stream",l=[{value:"Properties",id:"properties",level:2},{value:"IsOpen",id:"isopen",level:3},{value:"Name",id:"name",level:3},{value:"DefaultFlushOnWrite",id:"defaultflushonwrite",level:3},{value:"AtEnd",id:"atend",level:3},{value:"IsCharacter",id:"ischaracter",level:3},{value:"Methods",id:"methods",level:2},{value:"DefaultFlushOnWriteGet",id:"defaultflushonwriteget",level:3},{value:"Read",id:"read",level:3},{value:"Write",id:"write",level:3},{value:"Flush",id:"flush",level:3},{value:"CopyFrom",id:"copyfrom",level:3},{value:"OutputToDevice",id:"outputtodevice",level:3},{value:"InputFromDevice",id:"inputfromdevice",level:3},{value:"delegateRead",id:"delegateread",level:3},{value:"Close",id:"close",level:3},{value:"%OnClose",id:"onclose",level:3},{value:"IsCharacterGet",id:"ischaracterget",level:3},{value:"ReadUntil",id:"readuntil",level:3},{value:"ReadUntilArray",id:"readuntilarray",level:3},{value:"CopyReplace",id:"copyreplace",level:3},{value:"CopyReplaceArray",id:"copyreplacearray",level:3}];function c(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"ioistream",children:"%IO.I.Stream"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Class %IO.I.Stream Extends %RegisteredObject [ Abstract, System = 2 ]\n"})}),"\n",(0,a.jsx)(t.p,{children:"Abstract base class of all streams The methods of this class work for both Byte and Character streams"}),"\n",(0,a.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,a.jsx)(t.h3,{id:"isopen",children:"IsOpen"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Property IsOpen As %Boolean [ InitialExpression = 0, ReadOnly ];\n"})}),"\n",(0,a.jsx)(t.h3,{id:"name",children:"Name"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Property Name As %String(MAXLEN = 500, TRUNCATE = 1);\n"})}),"\n",(0,a.jsx)(t.h3,{id:"defaultflushonwrite",children:"DefaultFlushOnWrite"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Property DefaultFlushOnWrite As %Boolean [ Calculated, ReadOnly ];\n"})}),"\n",(0,a.jsx)(t.p,{children:"InputStream interface Does this class flush after writes by default?"}),"\n",(0,a.jsx)(t.h3,{id:"atend",children:"AtEnd"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Property AtEnd As %Boolean [ InitialExpression = 1, ReadOnly ];\n"})}),"\n",(0,a.jsx)(t.h3,{id:"ischaracter",children:"IsCharacter"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Property IsCharacter As %Boolean [ Calculated, ReadOnly ];\n"})}),"\n",(0,a.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,a.jsx)(t.h3,{id:"defaultflushonwriteget",children:"DefaultFlushOnWriteGet"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method DefaultFlushOnWriteGet() [ CodeMode = expression ]\n"})}),"\n",(0,a.jsx)(t.h3,{id:"read",children:"Read"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method Read(pMaxReadLen As %Integer = {$$$MaxLocalLength}, ByRef pTimeout As %Numeric = -1, Output pSC As %Status) As %String [ Abstract ]\n"})}),"\n",(0,a.jsx)(t.p,{children:"Read until pMaxReadLen chars are gotten or pTimeout expires On return, if pTimeout is unchanged it means the full timeout period expired. If the timeout period expired and the returned string is shorter than pMaxReadLen, then AtEnd will be 1."}),"\n",(0,a.jsx)(t.h3,{id:"write",children:"Write"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method Write(pData As %String, pFlush As %Boolean, Output pSC As %Status) [ Abstract ]\n"})}),"\n",(0,a.jsx)(t.p,{children:"Write pData to the stream buffer. If pFlush is True, ensure that the data are actually sent to the stream."}),"\n",(0,a.jsx)(t.h3,{id:"flush",children:"Flush"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method Flush(Output pSC As %Status)\n"})}),"\n",(0,a.jsx)(t.p,{children:"Ensure that any data already written to the stream buffer are actually sent to the stream."}),"\n",(0,a.jsx)(t.h3,{id:"copyfrom",children:"CopyFrom"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method CopyFrom(pSource As %IO.I.Stream, ByRef pTimeout As %Numeric = -1, pFlush As %Boolean = {..DefaultFlushOnWrite}, Output pSC As %Status) As %Integer\n"})}),"\n",(0,a.jsx)(t.p,{children:"Copy all available data from pSource to the current stream buffer. If pFlush is True, ensure that all data are actually sent to the stream."}),"\n",(0,a.jsx)(t.h3,{id:"outputtodevice",children:"OutputToDevice"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method OutputToDevice(pLength As %Integer = -1, ByRef pTimeout As %Numeric = -1, Output pSC As %Status) As %Integer\n"})}),"\n",(0,a.jsx)(t.p,{children:"Copy all available data from the current stream to the current system device."}),"\n",(0,a.jsx)(t.h3,{id:"inputfromdevice",children:"InputFromDevice"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method InputFromDevice(ByRef pTotal As %Integer = 0, ByRef pTimeout As %Integer = -1, ByRef pIdleTimeout As %Integer = 20, Output pStatus As %Status) As %Integer\n"})}),"\n",(0,a.jsx)(t.h3,{id:"delegateread",children:"delegateRead"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod delegateRead(s As %RegisteredObject, ByRef pMaxReadLen As %Integer, ByRef pTimeout As %Numeric, Output pSC As %Status) [ Internal, Private ]\n"})}),"\n",(0,a.jsx)(t.h3,{id:"close",children:"Close"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method Close(Output pSC As %Status) As %Boolean\n"})}),"\n",(0,a.jsx)(t.p,{children:"Close the current stream"}),"\n",(0,a.jsx)(t.h3,{id:"onclose",children:"%OnClose"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnClose() As %Status [ Internal, Private ]\n"})}),"\n",(0,a.jsx)(t.h3,{id:"ischaracterget",children:"IsCharacterGet"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method IsCharacterGet() As %Boolean [ CodeMode = expression, Internal ]\n"})}),"\n",(0,a.jsx)(t.h3,{id:"readuntil",children:"ReadUntil"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method ReadUntil(pMaxReadLen As %Integer, ByRef pTimeout As %Numeric, pIdleTimeout As %Numeric, pPrevBuf As %String, pInsensitive As %Boolean, Output pWhich As %Integer, Output pSC As %Status, pTarget...) As %String\n"})}),"\n",(0,a.jsx)(t.p,{children:"Read until one of the Target strings is found or a timeout occurs."}),"\n",(0,a.jsx)(t.p,{children:"Return any data read until pTimeout seconds have elapsed, or until pIdleTimeout seconds elapse with no further data read, or up until any of the optional pTarget strings is encountered."}),"\n",(0,a.jsx)(t.p,{children:"If pTarget strings are provided the pWhich output argument will contain an integer indicating which of them was matched. A value of 0 in pWhich indicates that none was matched and therefore the timeout expired or an error occurred."}),"\n",(0,a.jsx)(t.p,{children:"Setting pInsensitive=1 means the pTarget strings will match data received in a case-insensitive way against the pTargets strings."}),"\n",(0,a.jsx)(t.p,{children:"If pPrevBuf is provided, it is prepended to any data read, and is included in the attempt to find a matching target string."}),"\n",(0,a.jsx)(t.h3,{id:"readuntilarray",children:"ReadUntilArray"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:'Method ReadUntilArray(pMaxReadLen As %Integer, ByRef pTimeout As %Numeric = -1, pIdleTimeout As %Numeric = 5, pPrevBuf As %String = "", pInsensitive As %Boolean = 0, Output pWhich As %Integer, Output pSC As %Status, ByRef pTargets) As %String\n'})}),"\n",(0,a.jsx)(t.p,{children:"Read until one of the Target strings is found or a timeout occurs."}),"\n",(0,a.jsx)(t.p,{children:"Return any data read until pTimeout seconds have elapsed, or until pIdleTimeout seconds elapse with no further data read, or up until any of the optional pTargets strings is encountered."}),"\n",(0,a.jsx)(t.p,{children:"If pTargets strings are provided the pWhich output argument will contain an integer indicating which of them was matched. A value of 0 in pWhich indicates that none was matched and therefore the timeout expired or an error occurred."}),"\n",(0,a.jsx)(t.p,{children:"Setting pInsensitive=1 means the pTarget strings will match data received in a case-insensitive way against the pTargets strings."}),"\n",(0,a.jsx)(t.p,{children:"If pPrevBuf is provided, it is prepended to any data read, and is included in the attempt to find a matching target string."}),"\n",(0,a.jsx)(t.h3,{id:"copyreplace",children:"CopyReplace"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:"Method CopyReplace(pDest As %IO.I.Stream, pMaxReadLen As %Integer, ByRef pTimeout As %Numeric, pIdleTimeout As %Numeric, pPrevBuf As %String, pFlush As %Boolean, pInsensitive As %Boolean, pRewind As %String, Output pSC As %Status, pSearchReplace...) As %Integer\n"})}),"\n",(0,a.jsx)(t.p,{children:"Replace from the current stream the strings contained in a list of alternating search and replace target string arguments. Accepts a destination stream pDest into which the modified result will be written. If not supplied, pDest will be returned containing a newly created GlobalCharacter stream. Reads until a maximum number of characters pMaxReadLen has been read or until a timeout pTimeout has occurred, or until pIdleTimeout seconds have elapsed with no further data read."}),"\n",(0,a.jsx)(t.p,{children:"Setting pInsensitive=1 means the search strings will match in a case-insensitive way."}),"\n",(0,a.jsx)(t.p,{children:"If pPrevBuf is provided, it is prepended to any data read, and is included in the attempt to find matching search strings. Replaces from left to right and does not repeat and recurse. This means that once a substring is replaced the replacement result will not be searched or replaced again. Returns the total count of characters written to the destination stream If pRewind contains i the input stream will be rewound before copying If pRewind contains I the input stream will be rewound after copying If pRewind contains o the output stream will be rewound before copying If pRewind contains O the output stream will be rewound after copying If pRewind is 1 both streams will be rewound before and after copying. This is the default. If pRewind is empty or zero neither stream will be rewound before or after copying"}),"\n",(0,a.jsx)(t.h3,{id:"copyreplacearray",children:"CopyReplaceArray"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-objectscript-class",children:'Method CopyReplaceArray(pDest As %IO.I.Stream, pMaxReadLen As %Integer = -1, ByRef pTimeout As %Numeric = -1, pIdleTimeout As %Numeric = 5, pPrevBuf As %String = "", pFlush As %Boolean = {..DefaultFlushOnWrite}, pInsensitive As %Boolean = 0, pRewind As %String = 1, Output pSC As %Status, ByRef pSearchReplace = 0) As %Integer\n'})}),"\n",(0,a.jsx)(t.p,{children:"Replace from the current stream the strings contained in an array of alternating search and replace target string values called pSearchReplace. Accepts a destination stream pDest into which the modified result will be written. If not supplied, pDest will be returned containing a newly created GlobalCharacter stream. Reads until a maximum number of characters pMaxReadLen has been read or until a timeout pTimeout has occurred, or until pIdleTimeout seconds have elapsed with no further data read."}),"\n",(0,a.jsx)(t.p,{children:"Setting pInsensitive=1 means the search strings will match in a case-insensitive way."}),"\n",(0,a.jsx)(t.p,{children:"If pPrevBuf is provided, it is prepended to any data read, and is included in the attempt to find matching search strings. Replaces from left to right and does not repeat and recurse. This means that once a substring is replaced the replacement result will not be searched or replaced again. Returns the total count of characters written to the destination stream"})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>l});var a=n(96540);const s={},r=a.createContext(s);function i(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);