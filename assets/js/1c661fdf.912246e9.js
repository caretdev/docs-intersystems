"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[56280],{40689:(e,s,n)=>{n.r(s),n.d(s,{contentTitle:()=>a,default:()=>o,frontMatter:()=>t,toc:()=>l});var r=n(74848),i=n(28453);const t={pagination_prev:null,pagination_next:null},a="%SYS.Task.DiagnosticReport",l=[{value:"Parameters",id:"parameters",level:2},{value:"TaskName",id:"taskname",level:3},{value:"XMLNAME",id:"xmlname",level:3},{value:"Properties",id:"properties",level:2},{value:"ArchiveDirectory",id:"archivedirectory",level:3},{value:"AdvancedReport",id:"advancedreport",level:3},{value:"EmailCC",id:"emailcc",level:3},{value:"EmailFrom",id:"emailfrom",level:3},{value:"EmailReplyTo",id:"emailreplyto",level:3},{value:"SMTPServer",id:"smtpserver",level:3},{value:"SMTPUser",id:"smtpuser",level:3},{value:"SMTPPass",id:"smtppass",level:3},{value:"SMTPPort",id:"smtpport",level:3},{value:"WRCHealthCheckEnabled",id:"wrchealthcheckenabled",level:3},{value:"WRCIssueNumber",id:"wrcissuenumber",level:3},{value:"zInfoAdhocNotListedInZV",id:"zinfoadhocnotlistedinzv",level:3},{value:"zInfoBackupType",id:"zinfobackuptype",level:3},{value:"zInfoCPUDetails",id:"zinfocpudetails",level:3},{value:"zInfoHardwareType",id:"zinfohardwaretype",level:3},{value:"zInfoPrimaryPurpose",id:"zinfoprimarypurpose",level:3},{value:"zInfoTotalPhysicalMemory",id:"zinfototalphysicalmemory",level:3},{value:"zzInfoNotesFromCustomer",id:"zzinfonotesfromcustomer",level:3},{value:"Methods",id:"methods",level:2},{value:"ArchiveDirectoryIsValid",id:"archivedirectoryisvalid",level:3},{value:"OnTask",id:"ontask",level:3}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"systaskdiagnosticreport",children:"%SYS.Task.DiagnosticReport"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Class %SYS.Task.DiagnosticReport Extends (%SYS.Task.Definition, %XML.Adaptor) [ Inheritance = right, System = 4 ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Task provided by the WRC to automate the collection of reports, and to automate them being sent to the WRC for achival and configuration history"}),"\n",(0,r.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(s.h3,{id:"taskname",children:"TaskName"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter TaskName = "DiagnosticReport";\n'})}),"\n",(0,r.jsx)(s.h3,{id:"xmlname",children:"XMLNAME"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Parameter XMLNAME = "ProfilerData";\n'})}),"\n",(0,r.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(s.h3,{id:"archivedirectory",children:"ArchiveDirectory"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property ArchiveDirectory As %String(XMLPROJECTION = "NONE");\n'})}),"\n",(0,r.jsx)(s.p,{children:"if this field is filled, then the files are left in the local Archive"}),"\n",(0,r.jsx)(s.h3,{id:"advancedreport",children:"AdvancedReport"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property AdvancedReport As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,r.jsx)(s.p,{children:"flag to indicate if this should be Advanced Report; default is to collect a Basic report"}),"\n",(0,r.jsx)(s.h3,{id:"emailcc",children:"EmailCC"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property EmailCC As %String(XMLPROJECTION = "NONE");\n'})}),"\n",(0,r.jsx)(s.p,{children:'used to populate the "From:" field in the email generated to send the Diagnostic Report'}),"\n",(0,r.jsx)(s.h3,{id:"emailfrom",children:"EmailFrom"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property EmailFrom As %String(XMLPROJECTION = "NONE") [ InitialExpression = "DefaultDiagnosticReport@InterSystems.com" ];\n'})}),"\n",(0,r.jsx)(s.p,{children:'used to populate the "From:" field in the email generated to send the Diagnostic Report'}),"\n",(0,r.jsx)(s.h3,{id:"emailreplyto",children:"EmailReplyTo"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property EmailReplyTo As %String(XMLPROJECTION = "NONE");\n'})}),"\n",(0,r.jsx)(s.p,{children:'used to populate the "Reply-To:" field in the email generated to send the Diagnostic Report'}),"\n",(0,r.jsx)(s.h3,{id:"smtpserver",children:"SMTPServer"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property SMTPServer As %String(XMLPROJECTION = "NONE");\n'})}),"\n",(0,r.jsx)(s.p,{children:"name of SMTP server to use for sending Diagnostic Report; if this is blank, the Diagnostic Report will not be sent to InterSystems"}),"\n",(0,r.jsx)(s.h3,{id:"smtpuser",children:"SMTPUser"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property SMTPUser As %String(XMLPROJECTION = "NONE");\n'})}),"\n",(0,r.jsx)(s.p,{children:"name of SMTP Authenticated User"}),"\n",(0,r.jsx)(s.h3,{id:"smtppass",children:"SMTPPass"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property SMTPPass As %SYS.Task.Password(XMLPROJECTION = "NONE");\n'})}),"\n",(0,r.jsx)(s.p,{children:"password of SMTP Authenitcated User"}),"\n",(0,r.jsx)(s.h3,{id:"smtpport",children:"SMTPPort"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property SMTPPort As %String(XMLPROJECTION = "NONE") [ InitialExpression = 25 ];\n'})}),"\n",(0,r.jsx)(s.p,{children:"port for SNMTP server"}),"\n",(0,r.jsx)(s.h3,{id:"wrchealthcheckenabled",children:"WRCHealthCheckEnabled"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property WRCHealthCheckEnabled As %Boolean(XMLPROJECTION = "NONE") [ InitialExpression = 0 ];\n'})}),"\n",(0,r.jsx)(s.p,{children:"flag to indicate if Diagnostic Report should be emailed to the WRC when collected and not associated with a WRC issue#"}),"\n",(0,r.jsx)(s.h3,{id:"wrcissuenumber",children:"WRCIssueNumber"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property WRCIssueNumber As %Integer(XMLPROJECTION = "NONE");\n'})}),"\n",(0,r.jsx)(s.p,{children:"WRC Issue Number to be included in subject; NOTE: This is cleared after a Diagnostic Report is sent with this in the Subject line, and needs to be reinitilized through the System Management Portal"}),"\n",(0,r.jsx)(s.h3,{id:"zinfoadhocnotlistedinzv",children:"zInfoAdhocNotListedInZV"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property zInfoAdhocNotListedInZV As %String(XMLNAME = "AdhocNotListedInZV");\n'})}),"\n",(0,r.jsx)(s.p,{children:"if there are any Adhocs applies as changed files only, which didn't update the $ZV string, they should be listed here"}),"\n",(0,r.jsx)(s.h3,{id:"zinfobackuptype",children:"zInfoBackupType"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property zInfoBackupType As %String(XMLNAME = "BackupType");\n'})}),"\n",(0,r.jsx)(s.p,{children:"manual field indicating the types of backups used on this InterSystems IRIS instance"}),"\n",(0,r.jsx)(s.h3,{id:"zinfocpudetails",children:"zInfoCPUDetails"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property zInfoCPUDetails As %String(XMLNAME = "CPUDetails");\n'})}),"\n",(0,r.jsx)(s.p,{children:"manual field indicating the type and quantity of CPU(s) used on this system"}),"\n",(0,r.jsx)(s.h3,{id:"zinfohardwaretype",children:"zInfoHardwareType"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property zInfoHardwareType As %String(MAXLEN = 500, XMLNAME = "HardwareType");\n'})}),"\n",(0,r.jsx)(s.p,{children:"manual field indicating the type of hardware that this system is running on"}),"\n",(0,r.jsx)(s.h3,{id:"zinfoprimarypurpose",children:"zInfoPrimaryPurpose"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property zInfoPrimaryPurpose As %String(DISPLAYLIST = ",Development,Testing,Quality Assurance,Production,", VALUELIST = ",Dev,Test,QA,Prod,", XMLNAME = "PrimaryPurpose");\n'})}),"\n",(0,r.jsx)(s.p,{children:"manual property indicates what the primary use is for this InterSystems IRIS instance: Development, Testing, QA or Production"}),"\n",(0,r.jsx)(s.h3,{id:"zinfototalphysicalmemory",children:"zInfoTotalPhysicalMemory"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property zInfoTotalPhysicalMemory As %String(XMLNAME = "TotalPhysicalMemory");\n'})}),"\n",(0,r.jsx)(s.p,{children:"total physical memory on the machine"}),"\n",(0,r.jsx)(s.h3,{id:"zzinfonotesfromcustomer",children:"zzInfoNotesFromCustomer"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property zzInfoNotesFromCustomer As %String(MAXLEN = 500, XMLNAME = "NotesFromCustomer");\n'})}),"\n",(0,r.jsx)(s.p,{children:"any special notes that the customer wants included with the Diagnostic Report"}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h3,{id:"archivedirectoryisvalid",children:"ArchiveDirectoryIsValid"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ArchiveDirectoryIsValid(ArchiveDirectory As %String) As %Status\n"})}),"\n",(0,r.jsx)(s.h3,{id:"ontask",children:"OnTask"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method OnTask() As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:'This method is responsible for executing the task At the scheduled time, the Task Manager - creates an instance of this object, - Sets any property values using the stored "Settings" for the task, - and invokes this method to execute the task.'})]})}function o(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var r=n(96540);const i={},t=r.createContext(i);function a(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);