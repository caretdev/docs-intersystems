"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[96455],{21694:(e,s,r)=>{r.r(s),r.d(s,{contentTitle:()=>i,default:()=>c,frontMatter:()=>n,toc:()=>l});var t=r(74848),a=r(28453);const n={pagination_prev:null,pagination_next:null},i="%DeepSee.REST.v3.DataServer",l=[{value:"XDatas",id:"xdatas",level:2},{value:"UrlMap",id:"urlmap",level:3},{value:"Methods",id:"methods",level:2},{value:"%ValidateRequest",id:"validaterequest",level:3},{value:"WriteJSONfromMDX",id:"writejsonfrommdx",level:3},{value:"WriteJSONfromDrillthrough",id:"writejsonfromdrillthrough",level:3},{value:"WriteJSONfromPivot",id:"writejsonfrompivot",level:3},{value:"WriteJSONfromKPI",id:"writejsonfromkpi",level:3},{value:"WriteJSONfromKPIDrillthrough",id:"writejsonfromkpidrillthrough",level:3},{value:"CancelMDXQuery",id:"cancelmdxquery",level:3},{value:"UpdateQueryResults",id:"updatequeryresults",level:3},{value:"WriteJSONDashboardDef",id:"writejsondashboarddef",level:3},{value:"WriteJSONPivotDef",id:"writejsonpivotdef",level:3},{value:"WriteJSONTermList",id:"writejsontermlist",level:3},{value:"WriteDSTIMEForClass",id:"writedstimeforclass",level:3},{value:"AddFavorite",id:"addfavorite",level:3},{value:"RemoveFavorite",id:"removefavorite",level:3},{value:"Test",id:"test",level:3}];function o(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"deepseerestv3dataserver",children:"%DeepSee.REST.v3.DataServer"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Class %DeepSee.REST.v3.DataServer Extends %DeepSee.REST.REST\n"})}),"\n",(0,t.jsx)(s.p,{children:"This class is responsible for creating the JSON response to the DeepSee REST data services. For examples and a full list of available services see the documentation for %DeepSee.REST.v3<.class>."}),"\n",(0,t.jsx)(s.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,t.jsx)(s.h3,{id:"urlmap",children:"UrlMap"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"XData UrlMap\n"})}),"\n",(0,t.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(s.h3,{id:"validaterequest",children:"%ValidateRequest"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod %ValidateRequest(pUrl As %String, pMethod As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Perform specific validation for the service that will handle the request. This is used as a callback in each service that extends %DeepSee.REST"}),"\n",(0,t.jsx)(s.h3,{id:"writejsonfrommdx",children:"WriteJSONfromMDX"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONfromMDX(namespace As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Run any valid MDX (SELECT,DRILLTHROUGH,DRILLFACTS) query and returns the JSON resultset."}),"\n",(0,t.jsx)(s.h3,{id:"writejsonfromdrillthrough",children:"WriteJSONfromDrillthrough"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONfromDrillthrough(namespace As %String)\n"})}),"\n",(0,t.jsx)(s.p,{children:"Run a listing from either the source or the fact table. Specific listings or a list of fields may be POSTed to add to the query."}),"\n",(0,t.jsx)(s.h3,{id:"writejsonfrompivot",children:"WriteJSONfromPivot"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONfromPivot(namespace As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Run any stored pivot table and return the associated JSON resultset."}),"\n",(0,t.jsx)(s.h3,{id:"writejsonfromkpi",children:"WriteJSONfromKPI"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONfromKPI(namespace As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Run any compiled KPI and return the associated JSON resultset."}),"\n",(0,t.jsx)(s.h3,{id:"writejsonfromkpidrillthrough",children:"WriteJSONfromKPIDrillthrough"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONfromKPIDrillthrough(namespace As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Run a listing from a KPI data source. A specific listing may be POSTed to access supported listings as defined by the source."}),"\n",(0,t.jsx)(s.h3,{id:"cancelmdxquery",children:"CancelMDXQuery"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod CancelMDXQuery(namespace As %String, pQueryToken) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Cancel a running query using the cubeKey and queryKey provided in a previously returned resultset with ResultsComplete=0."}),"\n",(0,t.jsx)(s.h3,{id:"updatequeryresults",children:"UpdateQueryResults"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod UpdateQueryResults(namespace As %String, pQueryToken) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Try to obtain results from a previous query that returned incomplete results."}),"\n",(0,t.jsx)(s.h3,{id:"writejsondashboarddef",children:"WriteJSONDashboardDef"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONDashboardDef(namespace As %String, pDashboardName) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Return the stored definition for pDashboardName."}),"\n",(0,t.jsx)(s.h3,{id:"writejsonpivotdef",children:"WriteJSONPivotDef"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONPivotDef(namespace As %String, pPivotName) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Return the stored definition for pPivotName."}),"\n",(0,t.jsx)(s.h3,{id:"writejsontermlist",children:"WriteJSONTermList"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteJSONTermList(namespace As %String, pTermList As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Return values stored in pTermList."}),"\n",(0,t.jsx)(s.h3,{id:"writedstimeforclass",children:"WriteDSTIMEForClass"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod WriteDSTIMEForClass(namespace As %String, pClassName) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Retrieve the most recently processed ^OBJ.DSTIME stamp(s) for one or more classes from the ^DeepSee.Update global."}),"\n",(0,t.jsx)(s.h3,{id:"addfavorite",children:"AddFavorite"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod AddFavorite(namespace As %String, pName As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Store pName as a favorite for the current user."}),"\n",(0,t.jsx)(s.h3,{id:"removefavorite",children:"RemoveFavorite"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod RemoveFavorite(namespace As %String, pName As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Remove pName as a favorite for the current user."}),"\n",(0,t.jsx)(s.h3,{id:"test",children:"Test"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Test(namespace As %String) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Test method to confirm connection in the service type"})]})}function c(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},28453:(e,s,r)=>{r.d(s,{R:()=>i,x:()=>l});var t=r(96540);const a={},n=t.createContext(a);function i(e){const s=t.useContext(n);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(n.Provider,{value:s},e.children)}}}]);