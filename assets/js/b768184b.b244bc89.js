"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[70445],{9963:(e,s,n)=>{n.r(s),n.d(s,{contentTitle:()=>l,default:()=>c,frontMatter:()=>t,toc:()=>o});var r=n(74848),i=n(28453);const t={pagination_prev:null,pagination_next:null},l="%SYS.Monitor.AbstractSubscriber",o=[{value:"Properties",id:"properties",level:2},{value:"Logfile",id:"logfile",level:3},{value:"SensorReading",id:"sensorreading",level:3},{value:"SensorName",id:"sensorname",level:3},{value:"Notifications",id:"notifications",level:3},{value:"State",id:"state",level:3},{value:"Methods",id:"methods",level:2},{value:"Start",id:"start",level:3},{value:"Receive",id:"receive",level:3},{value:"ClearSensors",id:"clearsensors",level:3},{value:"GetNextSensor",id:"getnextsensor",level:3},{value:"GetSensor",id:"getsensor",level:3},{value:"GetNextSensorName",id:"getnextsensorname",level:3},{value:"ClearNotifications",id:"clearnotifications",level:3},{value:"Notify",id:"notify",level:3},{value:"OpenLog",id:"openlog",level:3},{value:"LogMsg",id:"logmsg",level:3},{value:"LogCon",id:"logcon",level:3},{value:"GetAllSensors",id:"getallsensors",level:3}];function a(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"sysmonitorabstractsubscriber",children:"%SYS.Monitor.AbstractSubscriber"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Class %SYS.Monitor.AbstractSubscriber Extends %RegisteredObject [ Abstract, System = 3 ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Abstract class for a Subscriber"}),"\n",(0,r.jsx)(s.p,{children:"User classes inherit from this class to become a Subscriber for System Monitor."}),"\n",(0,r.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(s.h3,{id:"logfile",children:"Logfile"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property Logfile As %String [ InitialExpression = {$zu(12)_"SystemMonitor.log"}, Internal ];\n'})}),"\n",(0,r.jsx)(s.p,{children:"logfile"}),"\n",(0,r.jsx)(s.h3,{id:"sensorreading",children:"SensorReading"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property SensorReading [ MultiDimensional ];\n"})}),"\n",(0,r.jsx)(s.p,{children:"Sensor readings passed from Sensor classes Sensor(, ) = value"}),"\n",(0,r.jsx)(s.h3,{id:"sensorname",children:"SensorName"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property SensorName [ MultiDimensional ];\n"})}),"\n",(0,r.jsx)(s.p,{children:"Sensor subscription lists. If Subscription(type)=1 OR Subscription(name)=1 Subscription()= 1"}),"\n",(0,r.jsx)(s.h3,{id:"notifications",children:"Notifications"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Property Notifications [ MultiDimensional ];\n"})}),"\n",(0,r.jsx)(s.h3,{id:"state",children:"State"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Property State As %String [ InitialExpression = " " ];\n'})}),"\n",(0,r.jsx)(s.p,{children:"Runtime state"}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h3,{id:"start",children:"Start"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method Start() As %Status\n"})}),"\n",(0,r.jsx)(s.p,{children:"USER MAY IMPLEMENT THIS METHOD This method is called when the subscriber class is created."}),"\n",(0,r.jsx)(s.h3,{id:"receive",children:"Receive"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method Receive() As %Status [ Abstract ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"USER MUST IMPLEMENT THIS METHOD This method is called when the sensor array is filled."}),"\n",(0,r.jsx)(s.h3,{id:"clearsensors",children:"ClearSensors"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method ClearSensors() As %Integer [ Final ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"USER DOES NOT IMPLEMENT THIS METHOD This method is called to clear sensor readings for the SYS.Monitor Controller"}),"\n",(0,r.jsx)(s.h3,{id:"getnextsensor",children:"GetNextSensor"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method GetNextSensor(Sensor As %String, ByRef qHandle As %Binary, ByRef Qualifier As %String, ByRef Value As %String) As %Integer [ Final ]\n"})}),"\n",(0,r.jsxs)(s.p,{children:["USER DOES NOT IMPLEMENT THIS METHOD This method is called to get sensor readings. For a given sensor / qualifier pair, returns the next qualifier and the associated value.",(0,r.jsx)(s.br,{}),"\nReturns 1 if value, 0 if no more values, -1 if invalid Sensor."]}),"\n",(0,r.jsx)(s.h3,{id:"getsensor",children:"GetSensor"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Method GetSensor(Sensor As %String, Qualifier As %String = "", ByRef Value As %String = "") As %Integer [ Final ]\n'})}),"\n",(0,r.jsxs)(s.p,{children:["USER DOES NOT IMPLEMENT THIS METHOD This method is called to get sensor readings. For a given sensor / qualifier pair, returns the value.",(0,r.jsx)(s.br,{}),"\nReturns 1 if value, 0 if no value, -1 if invalid Sensor."]}),"\n",(0,r.jsx)(s.h3,{id:"getnextsensorname",children:"GetNextSensorName"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Method GetNextSensorName(ByRef Sensor As %String = "") As %Status [ Final ]\n'})}),"\n",(0,r.jsxs)(s.p,{children:["USER DOES NOT IMPLEMENT THIS METHOD This method is called to get sensor names. For a given sensor, returns the next sensor.",(0,r.jsx)(s.br,{}),'\nReturns sensor name or "" if no more sensors.']}),"\n",(0,r.jsx)(s.h3,{id:"clearnotifications",children:"ClearNotifications"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method ClearNotifications() As %Integer [ Final ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"USER DOES NOT IMPLEMENT THIS METHOD This method is called to clear notifications for the SYS.Monitor Controller"}),"\n",(0,r.jsx)(s.h3,{id:"notify",children:"Notify"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method Notify(Sensor As %String, Severity As %Integer, Msg As %String) As %Integer [ Final ]\n"})}),"\n",(0,r.jsx)(s.p,{children:"USER DOES NOT IMPLEMENT THIS METHOD This method is called to post a notification"}),"\n",(0,r.jsx)(s.h3,{id:"openlog",children:"OpenLog"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method OpenLog() As %Status [ Final ]\n"})}),"\n",(0,r.jsx)(s.h3,{id:"logmsg",children:"LogMsg"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Method LogMsg(msg As %String = "") As %Status\n'})}),"\n",(0,r.jsx)(s.h3,{id:"logcon",children:"LogCon"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:'Method LogCon(Msg As %String = "", Severity As %Integer = 0) As %Status [ Final ]\n'})}),"\n",(0,r.jsx)(s.h3,{id:"getallsensors",children:"GetAllSensors"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-objectscript-class",children:"Method GetAllSensors(ByRef qHandle As %Binary, ByRef Sensor As %String, ByRef Qualifier As %String, ByRef Value As %String) As %Integer [ Final ]\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Query method to traverse the SensorReading property. Starting from a null Sensor, returns Sensor, Qualifier, Value, and Sensor Name.",(0,r.jsx)(s.br,{}),"\nReturns 0 when there are no more sensor readings."]})]})}function c(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>o});var r=n(96540);const i={},t=r.createContext(i);function l(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);