"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[91373],{49177:(e,s,n)=>{n.r(s),n.d(s,{contentTitle:()=>r,default:()=>c,frontMatter:()=>l,toc:()=>o});var t=n(74848),a=n(28453);const l={pagination_prev:null,pagination_next:null},r="%Studio.SourceControl.Interface",o=[{value:"Methods",id:"methods",level:2},{value:"SourceControlClassGet",id:"sourcecontrolclassget",level:3},{value:"SourceControlClassSet",id:"sourcecontrolclassset",level:3},{value:"Test",id:"test",level:3},{value:"SourceControlCreate",id:"sourcecontrolcreate",level:3},{value:"normalizeName",id:"normalizename",level:3},{value:"GetStatus",id:"getstatus",level:3},{value:"ExternalName",id:"externalname",level:3},{value:"IsGenerated",id:"isgenerated",level:3},{value:"UserAction",id:"useraction",level:3},{value:"AfterUserAction",id:"afteruseraction",level:3},{value:"MainMenusExecute",id:"mainmenusexecute",level:3},{value:"MainMenusFetch",id:"mainmenusfetch",level:3},{value:"MainMenusClose",id:"mainmenusclose",level:3},{value:"MenuItemsExecute",id:"menuitemsexecute",level:3},{value:"MenuItemsFetch",id:"menuitemsfetch",level:3},{value:"MenuItemsClose",id:"menuitemsclose",level:3},{value:"ExtensionClassesExecute",id:"extensionclassesexecute",level:3},{value:"ExtensionClassesFetch",id:"extensionclassesfetch",level:3},{value:"ExtensionClassesClose",id:"extensionclassesclose",level:3},{value:"OnBeforeTimestamp",id:"onbeforetimestamp",level:3}];function i(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"studiosourcecontrolinterface",children:"%Studio.SourceControl.Interface"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"Class %Studio.SourceControl.Interface [ Owner = {%Developer}, System = 3 ]\n"})}),"\n",(0,t.jsx)(s.p,{children:"This provides the interface that Studio uses to talk to the source control class."}),"\n",(0,t.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(s.h3,{id:"sourcecontrolclassget",children:"SourceControlClassGet"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod SourceControlClassGet(namespace As %String) As %String [ Final ]\n"})}),"\n",(0,t.jsx)(s.p,{children:'Return the name of the source control class we should use for this namespace. If we return "" then source control is not enabled in this namespace.'}),"\n",(0,t.jsx)(s.h3,{id:"sourcecontrolclassset",children:"SourceControlClassSet"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod SourceControlClassSet(val As %String = "", namespace As %String, sys As %Boolean = 0) As %Status [ Final ]\n'})}),"\n",(0,t.jsx)(s.p,{children:'Set the name of the source control class we should use for this namespace. Set the value to "" to disable source control in this namespace. Set the value to $char(0) to remove the source control node for this namespace. This is different to setting it to "", which disables it, as removing the node for this namespace will allow a look through to the default source control class for all namespaces.'}),"\n",(0,t.jsx)(s.h3,{id:"test",children:"Test"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod Test()\n"})}),"\n",(0,t.jsx)(s.p,{children:"Test the creation of the source control class"}),"\n",(0,t.jsx)(s.h3,{id:"sourcecontrolcreate",children:"SourceControlCreate"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod SourceControlCreate(Name As %String, Password As %String, ByRef Created As %Boolean, ByRef Flags As %Integer, Output Username As %String, Version As %String = "", ByRef Reload As %String, MainJob As %String = "", ByRef IconStatus As %Integer) As %Status [ Final, NotInheritable ]\n'})}),"\n",(0,t.jsx)(s.p,{children:"Creates an instance of the source control class stored in the local variable '%SourceControl'. This is used by the load/save/compile functions to import/export the routine to the external source control class."}),"\n",(0,t.jsx)(s.p,{children:'It also returns Created which is true if the source control class was created correctly. Then Flags returns an integer set of flags to determine which dialogs to display in Studio. Studio passes its Version to the server so the server can modify its behavior based on this. The server returns Reload which if "" is set in Studio on a per user basis, but if set to 1 or 0 then this forces the auto reload behavior in Studio to follow this server setting. The MainJob is blank if this process is the main Studio connection, but is the $job of the initial Studio connection job if this is a background job for doing things like find in files, or a big compile. By passing the $job of the main process this background process can co-ordinate with the main job.'}),"\n",(0,t.jsx)(s.h3,{id:"normalizename",children:"normalizeName"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod normalizeName(InternalName As %String) As %String\n"})}),"\n",(0,t.jsx)(s.p,{children:"Reformat the InternalName to make sure the type is all in upper case"}),"\n",(0,t.jsx)(s.h3,{id:"getstatus",children:"GetStatus"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod GetStatus(InternalName As %String, ByRef IsInSourceControl As %Boolean, ByRef Editable As %Boolean, ByRef IsCheckedOut As %Boolean, ByRef UserCheckedOut As %String, ByRef Reload As %Boolean) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Return information about this entity. The Reload parameter is returned by this function and is true if the status check changed the item and so may need to be reloaded."}),"\n",(0,t.jsx)(s.h3,{id:"externalname",children:"ExternalName"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ExternalName(InternalName As %String) As %String\n"})}),"\n",(0,t.jsx)(s.p,{children:"Returns the external name of this file"}),"\n",(0,t.jsx)(s.h3,{id:"isgenerated",children:"IsGenerated"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod IsGenerated(InternalName As %String) As %Boolean\n"})}),"\n",(0,t.jsx)(s.p,{children:"Return true if this document is generated from some other item"}),"\n",(0,t.jsx)(s.h3,{id:"useraction",children:"UserAction"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod UserAction(Type As %Integer, Name As %String, InternalName As %String, SelectedText As %String, ByRef Action As %String, ByRef Target As %String, ByRef Msg As %String, ByRef Reload As %Boolean, ByRef Editable As %Boolean) As %Status\n"})}),"\n",(0,t.jsx)(s.p,{children:"Called when the user makes a change that may require some source control hook interaction"}),"\n",(0,t.jsx)(s.h3,{id:"afteruseraction",children:"AfterUserAction"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod AfterUserAction(Type As %Integer, Name As %String, InternalName As %String, Answer As %Integer, Msg As %String = "", ByRef Reload As %Boolean, ByRef Editable As %Boolean) As %Status\n'})}),"\n",(0,t.jsx)(s.p,{children:"Called after Studio brings up its default dialog from calling OnUserAction to tell the server what the answer was"}),"\n",(0,t.jsx)(s.h3,{id:"mainmenusexecute",children:"MainMenusExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod MainMenusExecute(ByRef qHandle As %Binary) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"mainmenusfetch",children:"MainMenusFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod MainMenusFetch(ByRef qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"mainmenusclose",children:"MainMenusClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod MainMenusClose(ByRef qHandle As %Binary) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"menuitemsexecute",children:"MenuItemsExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod MenuItemsExecute(ByRef qHandle As %Binary, MenuName As %String(MAXLEN=32767), InternalName As %String(MAXLEN=32767) = "", SelectedText As %String(MAXLEN=32767) = "") As %Status\n'})}),"\n",(0,t.jsx)(s.h3,{id:"menuitemsfetch",children:"MenuItemsFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod MenuItemsFetch(ByRef qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"menuitemsclose",children:"MenuItemsClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod MenuItemsClose(ByRef qHandle As %Binary) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"extensionclassesexecute",children:"ExtensionClassesExecute"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ExtensionClassesExecute(ByRef qHandle As %Binary) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"extensionclassesfetch",children:"ExtensionClassesFetch"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ExtensionClassesFetch(ByRef qHandle As %Binary, ByRef Row As %List, ByRef AtEnd As %Integer = 0) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"extensionclassesclose",children:"ExtensionClassesClose"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:"ClassMethod ExtensionClassesClose(ByRef qHandle As %Binary) As %Status\n"})}),"\n",(0,t.jsx)(s.h3,{id:"onbeforetimestamp",children:"OnBeforeTimestamp"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-objectscript-class",children:'ClassMethod OnBeforeTimestamp(class As %String(MAXLEN="")) As %Status\n'})})]})}function c(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>o});var t=n(96540);const a={},l=t.createContext(a);function r(e){const s=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(l.Provider,{value:s},e.children)}}}]);