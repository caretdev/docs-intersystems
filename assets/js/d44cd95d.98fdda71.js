"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[73642],{23470:(e,a,s)=>{s.r(a),s.d(a,{contentTitle:()=>i,default:()=>d,frontMatter:()=>t,toc:()=>c});var n=s(74848),l=s(28453);const t={pagination_prev:null,pagination_next:null},i="%CSP.UI.Portal.SQL.TuneTable",c=[{value:"Parameters",id:"parameters",level:2},{value:"PAGENAME",id:"pagename",level:3},{value:"RECENT",id:"recent",level:3},{value:"RESOURCE",id:"resource",level:3},{value:"Properties",id:"properties",level:2},{value:"SCHEMANAME",id:"schemaname",level:3},{value:"TABLENAME",id:"tablename",level:3},{value:"CurrentSize",id:"currentsize",level:3},{value:"lblCurrentTableSize",id:"lblcurrenttablesize",level:3},{value:"IsTuned",id:"istuned",level:3},{value:"iTimeoutInterval",id:"itimeoutinterval",level:3},{value:"XDatas",id:"xdatas",level:2},{value:"Style",id:"style",level:3},{value:"SVGStyle",id:"svgstyle",level:3},{value:"Contents",id:"contents",level:3},{value:"contentPane",id:"contentpane",level:3},{value:"Methods",id:"methods",level:2},{value:"timeout",id:"timeout",level:3},{value:"toggleButtons",id:"togglebuttons",level:3},{value:"doSelectRow",id:"doselectrow",level:3},{value:"doTuneTable",id:"dotunetable",level:3},{value:"doSave",id:"dosave",level:3},{value:"doSaveTableSize",id:"dosavetablesize",level:3},{value:"doClose",id:"doclose",level:3},{value:"clearForm",id:"clearform",level:3},{value:"onlayoutHandler",id:"onlayouthandler",level:3},{value:"tabChanged",id:"tabchanged",level:3},{value:"toggleOptions",id:"toggleoptions",level:3},{value:"adjustSizes",id:"adjustsizes",level:3},{value:"%OnAfterCreatePage",id:"onaftercreatepage",level:3},{value:"DrawSQLTitle",id:"drawsqltitle",level:3},{value:"%OnGetPageName",id:"ongetpagename",level:3},{value:"SaveData",id:"savedata",level:3},{value:"SaveMap",id:"savemap",level:3},{value:"ExecuteRS",id:"executers",level:3},{value:"SetSelValues",id:"setselvalues",level:3},{value:"SaveTableSize",id:"savetablesize",level:3},{value:"DrawPropertyTitle",id:"drawpropertytitle",level:3},{value:"navPageSizeChanged",id:"navpagesizechanged",level:3},{value:"navMaxRowsChanged",id:"navmaxrowschanged",level:3},{value:"UpdateTableNavState",id:"updatetablenavstate",level:3},{value:"CheckJobStatus",id:"checkjobstatus",level:3},{value:"DrawHistogram",id:"drawhistogram",level:3}];function r(e){const a={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.header,{children:(0,n.jsx)(a.h1,{id:"cspuiportalsqltunetable",children:"%CSP.UI.Portal.SQL.TuneTable"})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Class %CSP.UI.Portal.SQL.TuneTable Extends (%CSP.UI.Template.Property, %CSP.UI.Portal.UtilsNav) [ System = 4 ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"System Management Portal - SQL Tuen Table page."}),"\n",(0,n.jsx)(a.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(a.h3,{id:"pagename",children:"PAGENAME"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'Parameter PAGENAME = "SQL Table Statistics";\n'})}),"\n",(0,n.jsx)(a.p,{children:"Displayed name of this page."}),"\n",(0,n.jsx)(a.h3,{id:"recent",children:"RECENT"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Parameter RECENT = 0;\n"})}),"\n",(0,n.jsx)(a.h3,{id:"resource",children:"RESOURCE"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'Parameter RESOURCE = "%Development";\n'})}),"\n",(0,n.jsx)(a.p,{children:"Security requirement"}),"\n",(0,n.jsx)(a.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(a.h3,{id:"schemaname",children:"SCHEMANAME"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'Property SCHEMANAME As %String(ZENURL = "SCHEMANAME");\n'})}),"\n",(0,n.jsx)(a.h3,{id:"tablename",children:"TABLENAME"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'Property TABLENAME As %String(ZENURL = "TABLENAME");\n'})}),"\n",(0,n.jsx)(a.h3,{id:"currentsize",children:"CurrentSize"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property CurrentSize As %Integer;\n"})}),"\n",(0,n.jsx)(a.p,{children:"Current extent size when the page is loaded. Used to compare with the textbox value."}),"\n",(0,n.jsx)(a.h3,{id:"lblcurrenttablesize",children:"lblCurrentTableSize"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'Property lblCurrentTableSize As %ZEN.Datatype.string [ InitialExpression = {$$$TextHTML("Current Extentsize (per shard if table is sharded): ")} ];\n'})}),"\n",(0,n.jsx)(a.h3,{id:"istuned",children:"IsTuned"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property IsTuned As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(a.h3,{id:"itimeoutinterval",children:"iTimeoutInterval"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Property iTimeoutInterval As %ZEN.Datatype.integer [ InitialExpression = 1000 ];\n"})}),"\n",(0,n.jsx)(a.h2,{id:"xdatas",children:"XDatas"}),"\n",(0,n.jsx)(a.h3,{id:"style",children:"Style"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"XData Style\n"})}),"\n",(0,n.jsx)(a.p,{children:"This Style block contains page-specific CSS style definitions."}),"\n",(0,n.jsx)(a.h3,{id:"svgstyle",children:"SVGStyle"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"XData SVGStyle\n"})}),"\n",(0,n.jsx)(a.h3,{id:"contents",children:"Contents"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'XData Contents [ XMLNamespace = "http://www.intersystems.com/zen" ]\n'})}),"\n",(0,n.jsx)(a.p,{children:"Contents of this page:"}),"\n",(0,n.jsx)(a.h3,{id:"contentpane",children:"contentPane"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:'XData contentPane [ XMLNamespace = "http://www.intersystems.com/zen" ]\n'})}),"\n",(0,n.jsx)(a.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(a.h3,{id:"timeout",children:"timeout"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod timeout() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"timeout function"}),"\n",(0,n.jsx)(a.h3,{id:"togglebuttons",children:"toggleButtons"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod toggleButtons(flag) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"hide the two panes during Tuning until Tuning is finished. user can still click the Close button to quit out."}),"\n",(0,n.jsx)(a.h3,{id:"doselectrow",children:"doSelectRow"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod doSelectRow(option) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"dotunetable",children:"doTuneTable"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod doTuneTable() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"dosave",children:"doSave"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod doSave(option) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"dosavetablesize",children:"doSaveTableSize"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod doSaveTableSize() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"doclose",children:"doClose"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod doClose() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"clearform",children:"clearForm"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod clearForm() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Clear form"}),"\n",(0,n.jsx)(a.h3,{id:"onlayouthandler",children:"onlayoutHandler"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod onlayoutHandler(load) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"tabchanged",children:"tabChanged"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod tabChanged(index) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"toggleoptions",children:"toggleOptions"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod toggleOptions() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Show or hide Edit Table Extentsize fields."}),"\n",(0,n.jsx)(a.h3,{id:"adjustsizes",children:"adjustSizes"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod adjustSizes() [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"onaftercreatepage",children:"%OnAfterCreatePage"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Method %OnAfterCreatePage() As %Status\n"})}),"\n",(0,n.jsx)(a.h3,{id:"drawsqltitle",children:"DrawSQLTitle"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Method DrawSQLTitle(pSeed) As %Status\n"})}),"\n",(0,n.jsx)(a.h3,{id:"ongetpagename",children:"%OnGetPageName"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Method %OnGetPageName() As %String\n"})}),"\n",(0,n.jsx)(a.p,{children:"This should be implemented in a subclass."}),"\n",(0,n.jsx)(a.h3,{id:"savedata",children:"SaveData"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClassMethod SaveData(SchemaName, TableName, KeepClassUpToDate, field, selectivity, outSelectivity, outValue, AverageFieldSize) As %String [ ZenMethod ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"savemap",children:"SaveMap"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClassMethod SaveMap(SchemaName, TableName, KeepClassUpToDate, field, blockCount) As %String [ ZenMethod ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"executers",children:"ExecuteRS"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Method ExecuteRS(pRS As %Library.ResultSet, Output tSC As %Status, pInfo As %ZEN.Auxiliary.QueryInfo) As %Boolean\n"})}),"\n",(0,n.jsx)(a.p,{children:"Method for executing the process query."}),"\n",(0,n.jsx)(a.h3,{id:"setselvalues",children:"SetSelValues"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClassMethod SetSelValues(CurrentSize, ExtentSize, KeepClassUpToDate, SCHEMANAME, TABLENAME) As %ZEN.proxyObject [ ZenMethod ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"User clicked Tune Table button. Now calculate table extentsize, blockcounts, and selectivity and save."}),"\n",(0,n.jsx)(a.h3,{id:"savetablesize",children:"SaveTableSize"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClassMethod SaveTableSize(SCHEMANAME, TABLENAME, ExtentSize, KeepClassUpToDate) As %String [ ZenMethod ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"This is called when user clicks Save for Table Extentsize they edited."}),"\n",(0,n.jsx)(a.h3,{id:"drawpropertytitle",children:"DrawPropertyTitle"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Method DrawPropertyTitle(pPropertyForm) As %Status\n"})}),"\n",(0,n.jsx)(a.h3,{id:"navpagesizechanged",children:"navPageSizeChanged"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod navPageSizeChanged(value, tableId) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Overriden to add tabId and tableId to the page name to distinguish the type for the page."}),"\n",(0,n.jsx)(a.h3,{id:"navmaxrowschanged",children:"navMaxRowsChanged"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClientMethod navMaxRowsChanged(value, tableId) [ Language = javascript ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Overriden to add tabId and tableId to the page name to distinguish the type for the page."}),"\n",(0,n.jsx)(a.h3,{id:"updatetablenavstate",children:"UpdateTableNavState"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClassMethod UpdateTableNavState(pFilter As %String, pPageSize As %Integer, pMaxRows As %Integer, ptableId As %String) [ ZenMethod ]\n"})}),"\n",(0,n.jsx)(a.p,{children:"Used to Save tableNavBar values, add MapType to the page name to distinguish the type for the page."}),"\n",(0,n.jsx)(a.h3,{id:"checkjobstatus",children:"CheckJobStatus"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"ClassMethod CheckJobStatus(PID, SCHEMANAME, TABLENAME) As %ZEN.proxyObject [ ZenMethod ]\n"})}),"\n",(0,n.jsx)(a.h3,{id:"drawhistogram",children:"DrawHistogram"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-objectscript-class",children:"Method DrawHistogram(seed) As %Status [ Internal, ServerOnly = 1 ]\n"})})]})}function d(e={}){const{wrapper:a}={...(0,l.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(r,{...e})}):r(e)}},28453:(e,a,s)=>{s.d(a,{R:()=>i,x:()=>c});var n=s(96540);const l={},t=n.createContext(l);function i(e){const a=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function c(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),n.createElement(t.Provider,{value:a},e.children)}}}]);