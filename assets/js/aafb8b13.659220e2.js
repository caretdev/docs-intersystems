"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[26019],{84861:(e,t,s)=>{s.r(t),s.d(t,{contentTitle:()=>a,default:()=>c,frontMatter:()=>i,toc:()=>o});var n=s(74848),r=s(28453);const i={pagination_prev:null,pagination_next:null},a="%Net.HttpRequest",o=[{value:"Properties",id:"properties",level:2},{value:"TTFC",id:"ttfc",level:3},{value:"TTLC",id:"ttlc",level:3},{value:"SentChars",id:"sentchars",level:3},{value:"RecChars",id:"recchars",level:3},{value:"Headers",id:"headers",level:3},{value:"Authorization",id:"authorization",level:3},{value:"Username",id:"username",level:3},{value:"Password",id:"password",level:3},{value:"InitiateAuthentication",id:"initiateauthentication",level:3},{value:"AuthenticationSchemes",id:"authenticationschemes",level:3},{value:"CurrentAuthenticationScheme",id:"currentauthenticationscheme",level:3},{value:"AuthenticationErrors",id:"authenticationerrors",level:3},{value:"MaxAuthenticationDepth",id:"maxauthenticationdepth",level:3},{value:"Date",id:"date",level:3},{value:"Device",id:"device",level:3},{value:"DeviceState",id:"devicestate",level:3},{value:"ForceReuseDevice",id:"forcereusedevice",level:3},{value:"ErrorOnNextOpen",id:"erroronnextopen",level:3},{value:"TimeLastUsed",id:"timelastused",level:3},{value:"SocketTimeout",id:"sockettimeout",level:3},{value:"EntityBody",id:"entitybody",level:3},{value:"SOAPBuffering",id:"soapbuffering",level:3},{value:"LocalInterface",id:"localinterface",level:3},{value:"From",id:"from",level:3},{value:"HTTPVersion",id:"httpversion",level:3},{value:"IfModifiedSince",id:"ifmodifiedsince",level:3},{value:"Pragma",id:"pragma",level:3},{value:"Referer",id:"referer",level:3},{value:"Server",id:"server",level:3},{value:"UserAgent",id:"useragent",level:3},{value:"Location",id:"location",level:3},{value:"Port",id:"port",level:3},{value:"Https",id:"https",level:3},{value:"SSLConfiguration",id:"sslconfiguration",level:3},{value:"SSLError",id:"sslerror",level:3},{value:"SSLCheckServerIdentity",id:"sslcheckserveridentity",level:3},{value:"SSLCheckIdentityInternal",id:"sslcheckidentityinternal",level:3},{value:"SSLUseSNI",id:"sslusesni",level:3},{value:"SSLPeerCertificate",id:"sslpeercertificate",level:3},{value:"ProxyTunnel",id:"proxytunnel",level:3},{value:"Timeout",id:"timeout",level:3},{value:"OpenTimeout",id:"opentimeout",level:3},{value:"FollowRedirect",id:"followredirect",level:3},{value:"ProxyServer",id:"proxyserver",level:3},{value:"ProxyPort",id:"proxyport",level:3},{value:"ProxyHTTPS",id:"proxyhttps",level:3},{value:"ProxyAuthorization",id:"proxyauthorization",level:3},{value:"RequestHeaderCharset",id:"requestheadercharset",level:3},{value:"PostGzip",id:"postgzip",level:3},{value:"WriteTimeout",id:"writetimeout",level:3},{value:"AcceptGzip",id:"acceptgzip",level:3},{value:"HttpResponse",id:"httpresponse",level:3},{value:"Cookies",id:"cookies",level:3},{value:"FormData",id:"formdata",level:3},{value:"ContentType",id:"contenttype",level:3},{value:"ContentCharset",id:"contentcharset",level:3},{value:"NoDefaultContentCharset",id:"nodefaultcontentcharset",level:3},{value:"ContentEncoding",id:"contentencoding",level:3},{value:"ContentLength",id:"contentlength",level:3},{value:"RedirectNo",id:"redirectno",level:3},{value:"AuthenticationDepth",id:"authenticationdepth",level:3},{value:"AuthenticationHandle",id:"authenticationhandle",level:3},{value:"Params",id:"params",level:3},{value:"ReadRawMode",id:"readrawmode",level:3},{value:"ReturnGzipResponse",id:"returngzipresponse",level:3},{value:"BinaryContent",id:"binarycontent",level:3},{value:"WriteRawMode",id:"writerawmode",level:3},{value:"ResponseStream",id:"responsestream",level:3},{value:"LastPongContent",id:"lastpongcontent",level:3},{value:"Methods",id:"methods",level:2},{value:"%OnNew",id:"onnew",level:3},{value:"InitHeaders",id:"initheaders",level:3},{value:"%OnClose",id:"onclose",level:3},{value:"SetHeader",id:"setheader",level:3},{value:"GetHeader",id:"getheader",level:3},{value:"RemoveHeader",id:"removeheader",level:3},{value:"OutputHeaders",id:"outputheaders",level:3},{value:"ReturnHeaders",id:"returnheaders",level:3},{value:"GetAuthenticationToken",id:"getauthenticationtoken",level:3},{value:"ProcessAuthenticationHeader",id:"processauthenticationheader",level:3},{value:"AuthenticationClose",id:"authenticationclose",level:3},{value:"AuthorizationGet",id:"authorizationget",level:3},{value:"AuthorizationSet",id:"authorizationset",level:3},{value:"DateGet",id:"dateget",level:3},{value:"DateSet",id:"dateset",level:3},{value:"FromGet",id:"fromget",level:3},{value:"FromSet",id:"fromset",level:3},{value:"IfModifiedSinceGet",id:"ifmodifiedsinceget",level:3},{value:"IfModifiedSinceSet",id:"ifmodifiedsinceset",level:3},{value:"PragmaGet",id:"pragmaget",level:3},{value:"PragmaSet",id:"pragmaset",level:3},{value:"RefererGet",id:"refererget",level:3},{value:"RefererSet",id:"refererset",level:3},{value:"ServerGet",id:"serverget",level:3},{value:"ServerSet",id:"serverset",level:3},{value:"UserAgentGet",id:"useragentget",level:3},{value:"UserAgentSet",id:"useragentset",level:3},{value:"LocationSet",id:"locationset",level:3},{value:"PortGet",id:"portget",level:3},{value:"ProxyAuthorizationGet",id:"proxyauthorizationget",level:3},{value:"ProxyAuthorizationSet",id:"proxyauthorizationset",level:3},{value:"AcceptGzipSet",id:"acceptgzipset",level:3},{value:"InsertFormData",id:"insertformdata",level:3},{value:"IsFormDataDefined",id:"isformdatadefined",level:3},{value:"CountFormData",id:"countformdata",level:3},{value:"NextFormData",id:"nextformdata",level:3},{value:"DeleteFormData",id:"deleteformdata",level:3},{value:"OutputFormData",id:"outputformdata",level:3},{value:"ContentTypeGet",id:"contenttypeget",level:3},{value:"ContentTypeSet",id:"contenttypeset",level:3},{value:"ContentCharsetGet",id:"contentcharsetget",level:3},{value:"ContentCharsetSet",id:"contentcharsetset",level:3},{value:"ContentEncodingGet",id:"contentencodingget",level:3},{value:"ContentEncodingSet",id:"contentencodingset",level:3},{value:"ContentLengthGet",id:"contentlengthget",level:3},{value:"Get",id:"get",level:3},{value:"Post",id:"post",level:3},{value:"Put",id:"put",level:3},{value:"Patch",id:"patch",level:3},{value:"Head",id:"head",level:3},{value:"Delete",id:"delete",level:3},{value:"Send",id:"send",level:3},{value:"Open",id:"open",level:3},{value:"Reset",id:"reset",level:3},{value:"ResetForRedirection",id:"resetforredirection",level:3},{value:"GetParam",id:"getparam",level:3},{value:"SetParam",id:"setparam",level:3},{value:"InsertParam",id:"insertparam",level:3},{value:"IsParamDefined",id:"isparamdefined",level:3},{value:"CountParam",id:"countparam",level:3},{value:"NextParam",id:"nextparam",level:3},{value:"DeleteParam",id:"deleteparam",level:3},{value:"OutputParams",id:"outputparams",level:3},{value:"ReturnParams",id:"returnparams",level:3},{value:"InsertCookie",id:"insertcookie",level:3},{value:"DeleteCookie",id:"deletecookie",level:3},{value:"DeleteSessionCookie",id:"deletesessioncookie",level:3},{value:"InsertCookieFromServer",id:"insertcookiefromserver",level:3},{value:"GetCookiesForHost",id:"getcookiesforhost",level:3},{value:"cookiesForHost",id:"cookiesforhost",level:3},{value:"GetFullCookieList",id:"getfullcookielist",level:3},{value:"Read",id:"read",level:3},{value:"HorologToRFCDateTime",id:"horologtorfcdatetime",level:3},{value:"GetDefaultCharset",id:"getdefaultcharset",level:3},{value:"ParseContent",id:"parsecontent",level:3},{value:"CheckSSLCN",id:"checksslcn",level:3},{value:"parseName",id:"parsename",level:3},{value:"MatchSuffix",id:"matchsuffix",level:3},{value:"LoadPublicSuffix",id:"loadpublicsuffix",level:3},{value:"WebSocketRead",id:"websocketread",level:3},{value:"WebSocketWrite",id:"websocketwrite",level:3},{value:"WebSocketPing",id:"websocketping",level:3},{value:"WebSocketPong",id:"websocketpong",level:3},{value:"WebSocketClose",id:"websocketclose",level:3}];function l(e){const t={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"nethttprequest",children:"%Net.HttpRequest"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Class %Net.HttpRequest Extends %RegisteredObject [ ServerOnly = 1, System = 3 ]\n"})}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"For information on using this class"}),", see ",(0,n.jsx)(t.a,{href:"/csp/docbook/DocBook.UI.Page.cls?FIND=CLASSES+%25Net.HttpRequest",children:"Sending HTTP Requests"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["%Net.HttpRequest provides an interface to issue HTTP requests to a web server and read the response. This allows you to interact with other web sites, for example you could issue a request to get a stock quote from another site, then parse the information returned to store the stock value in the local database. This implementation is designed to the HTTP/1.1 specification ",(0,n.jsx)(t.a,{href:"http://www.w3.org/Protocols/rfc2616/rfc2616.html",children:"RFC 2616"}),". In normal use you create a single %Net.HttpRequest object and use it to issue as many requests as you need to the web server, each %Net.HttpRequest object can be thought of as a single instance of an internet browser. On completion of each request, it returns a %Net.HttpResponse object in the HttpResponse property. This is used to see the reponse from the web server. Note that when you call Get, Head, Post, or Put, it will automatically Reset the %Net.HttpRequest object ready for another request. For example: ",(0,n.jsx)(t.code,{children:'Set httprequest=##class(%Net.HttpRequest).%New() Set httprequest.Server="www.intersystems.com" Do httprequest.Get("/") Do httprequest.HttpResponse.OutputToDevice() Do httprequest.Get("/cache/") Do httprequest.HttpResponse.OutputToDevice()'})," In order to send parameters on the URL, i.e. when you see a URL like"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.a,{href:"http://www.demo.com/page.html?PARAM1=TEST&PARAM2=HELLO",children:"http://www.demo.com/page.html?PARAM1=TEST&PARAM2=HELLO"})}),"\n",(0,n.jsxs)(t.p,{children:["You use the SetParam method to add these parameters one by one. For example to get the index page from Documatic you do: ",(0,n.jsx)(t.code,{children:'Set httprequest=##class(%Net.HttpRequest).%New() Set httprequest.Port=1972 Do httprequest.SetParam("PAGE","INDEX") Do httprequest.Get("/csp/docbook/%CSP.Documatic.cls") Do httprequest.HttpResponse.OutputToDevice()'})," You may also pass the query parameters on the Get call directly too as long as they are correctly escaped.",(0,n.jsx)(t.br,{}),"\nForm data can also be sent with this class. This is done by first inserting the form name/value pairs using the InsertFormData. Then the data is Post to the web server, for example something like: ",(0,n.jsx)(t.code,{children:'Do httprequest.InsertFormData("element","value") Do httprequest.Post("/cgi-bin/script.CGI")'})," You can specify default values for this class by setting the system wide global ^%SYS(\"HttpRequest\",name)=value which will set the property 'name' to the 'value' as part of the InitHeaders initialization. For namespace specific settings set the ^SYS(\"HttpRequest\",name)=value global, with namespace specific settings taking precedence over global settings."]}),"\n",(0,n.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(t.h3,{id:"ttfc",children:"TTFC"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property TTFC As %Float;\n"})}),"\n",(0,n.jsx)(t.p,{children:"Time to first character"}),"\n",(0,n.jsx)(t.h3,{id:"ttlc",children:"TTLC"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property TTLC As %Float;\n"})}),"\n",(0,n.jsx)(t.p,{children:"Time to last character"}),"\n",(0,n.jsx)(t.h3,{id:"sentchars",children:"SentChars"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property SentChars As %Integer [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Number of characters sent"}),"\n",(0,n.jsx)(t.h3,{id:"recchars",children:"RecChars"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property RecChars As %Integer [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Number of bytes received (not characters)"}),"\n",(0,n.jsx)(t.h3,{id:"headers",children:"Headers"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Headers As %String [ Internal, MultiDimensional, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Internal structure used to store the collection of headers. This is used so the user can add headers that are not explicitly defined in this class to the request."}),"\n",(0,n.jsx)(t.h3,{id:"authorization",children:"Authorization"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Authorization As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Sets/get the 'Authorization:' header field in the Http request."}),"\n",(0,n.jsx)(t.p,{children:"A user agent that wishes to authenticate itself with a server-- usually, but not necessarily, after receiving a 401 response--may do so by including an Authorization header field with the request. The Authorization field value consists of credentials containing the authentication information of the user agent for the realm of the resource being requested."}),"\n",(0,n.jsx)(t.p,{children:"This class understands the Basic authentication mechanism and if you set the Username and Password properties then it will send this information suitably encoded to the server with each request. Note that Basic authentication is not secure and sends to username and password over the network in just base64 encoded form."}),"\n",(0,n.jsx)(t.h3,{id:"username",children:"Username"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Username As %Library.Username;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The Username is used to construct the response for SPNEGO or NTLM. If not specfied on Windows, then the current login context will be used for SPNEGO and NTLM.",(0,n.jsx)(t.br,{}),"\nPreviously setting the Username property, as a side-effect, sent a Basic Authorization header to the server. This behavior will only continue for HTTP 1.0 requests. For HTTP 1.1 requests an unsolicited Authorization header will never be sent unless the InitiateAuthentication property is set. If you manually set the Authorization header this property will be ignored.",(0,n.jsx)(t.br,{}),'\nIf Username\'="" and you do not wish %Net.HttpRequest to initiate authentication as Basic, then InitiateAuthentication must be set to "" (for not initiate) or to the initiate scheme.']}),"\n",(0,n.jsx)(t.h3,{id:"password",children:"Password"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Password As %String;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The Password is used to construct the response for SPNEGO or NTLM. If not specfied on Windows, then the current login context will be used for SPNEGO and NTLM.",(0,n.jsx)(t.br,{}),"\nIf you manually set the Authorization header this property will be ignored."]}),"\n",(0,n.jsx)(t.h3,{id:"initiateauthentication",children:"InitiateAuthentication"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Property InitiateAuthentication As %String [ InitialExpression = "Basic" ];\n'})}),"\n",(0,n.jsx)(t.p,{children:'A client may initiate a connection to the server with an "Authorization" header containing the initial token for the server for a chosen authentication scheme. %Net.HttpRequest is asked to initiate the connection by setting the InitiateAuthentication property to a string which is a single scheme name. This form will bypass the initial 401 error from the server when the client knows that the server will accept the specified scheme. Supported schemes are Negotiate, NTLM and Basic. The default for InitiateAuthentication is Basic. However, if InitiateAuthentication=Basic and Username="", then InitiateAuthentication will be ignored.'}),"\n",(0,n.jsx)(t.h3,{id:"authenticationschemes",children:"AuthenticationSchemes"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Property AuthenticationSchemes As %String [ InitialExpression = "Negotiate,NTLM,Basic" ];\n'})}),"\n",(0,n.jsx)(t.p,{children:"%Net.HttpRequest will attempt to always respond with an Authorization header with a supported authentication scheme to a 401 status code. The supported authentication schemes are specified by the AuthenticationSchemes property as a comma separated list of case-sensitive authentication schemes. The possible authentication schemes are Negotiate, NTLM and Basic."}),"\n",(0,n.jsx)(t.p,{children:"The caller needs to supply Username and Password properties. If the Username property is not specified on Windows and a 401 status code associated with WWW-Authenticate header for SPNEGO or NTLM is received, then the current login context will be used."}),"\n",(0,n.jsx)(t.p,{children:'When responding to a 401 status code, the authentication scheme that is tried is picked from the intersection of those specified by WWW-Authenticate headers in the response and rhe list in the AuthenticationSchemes property. The schemes are checked in the order of the AuthenticationSchemes list. The first scheme which is supported and configured for IRIS will be used to return an Authorization header with that scheme. In order to encourage the user to try more secure schemes first, the default value for Authentication schemes is "Negotiate,NTLM,Basic".'}),"\n",(0,n.jsx)(t.h3,{id:"currentauthenticationscheme",children:"CurrentAuthenticationScheme"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property CurrentAuthenticationScheme As %String;\n"})}),"\n",(0,n.jsx)(t.p,{children:"The authentication scheme that was used to do the most recent authentication."}),"\n",(0,n.jsx)(t.h3,{id:"authenticationerrors",children:"AuthenticationErrors"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property AuthenticationErrors As %List;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["If an attempt to get an authentication handle or token for a scheme fails, then the underlying error is saved to the AuthenticationErrors property.",(0,n.jsx)(t.br,{}),"\nThe value of AuthenticationErrors is a $list which contains the errors. Each entry is of the form:  ERROR:"]}),"\n",(0,n.jsx)(t.h3,{id:"maxauthenticationdepth",children:"MaxAuthenticationDepth"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property MaxAuthenticationDepth As %Integer [ InitialExpression = 6 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"The maximum of authentication round-trips."}),"\n",(0,n.jsx)(t.h3,{id:"date",children:"Date"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Date As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Sets/get the 'Date:' header field in the HTTP request."}),"\n",(0,n.jsx)(t.p,{children:"The Date general-header field represents the date and time at which the message was originated, having the same semantics as orig-date in RFC 822. The field value is an HTTP-date. A date should only be included if the message contains an entity body and even then it is optional. An example is"}),"\n",(0,n.jsx)(t.p,{children:"Date: Tue, 15 Nov 1994 08:12:31 GMT"}),"\n",(0,n.jsx)(t.h3,{id:"device",children:"Device"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Device As %String [ Internal, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Internal value to store cache device used for the Http request"}),"\n",(0,n.jsx)(t.h3,{id:"devicestate",children:"DeviceState"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property DeviceState As %String [ Internal, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Internal state of the current device"}),"\n",(0,n.jsx)(t.h3,{id:"forcereusedevice",children:"ForceReuseDevice"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ForceReuseDevice As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"If set to true then this will force the %Net.HttpRequest class to reuse the existing connection to the web server if the socket is already open. If there is any error it will be reported to the caller. This has been introduced to support reliable SOAP messaging, so should not normally be set by other code."}),"\n",(0,n.jsx)(t.h3,{id:"erroronnextopen",children:"ErrorOnNextOpen"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ErrorOnNextOpen As %Boolean [ InitialExpression = 0, Internal, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Internal value to allow us to raise an error on the next socket open call"}),"\n",(0,n.jsx)(t.h3,{id:"timelastused",children:"TimeLastUsed"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property TimeLastUsed As %String [ Internal, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Internal value to store time when connection was last used"}),"\n",(0,n.jsx)(t.h3,{id:"sockettimeout",children:"SocketTimeout"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property SocketTimeout As %Integer [ InitialExpression = 115 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"When using a 'keep-alive' HTTP connection this is the maximum time we will keep the socket open for in seconds. If the socket is open for longer than this then it may well have been closed by a firewall etc. so we will start a new connection automatically. Set this property to 0 to disable keep-alive persistent HTTP connections."}),"\n",(0,n.jsx)(t.h3,{id:"entitybody",children:"EntityBody"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property EntityBody As %GlobalBinaryStream;\n"})}),"\n",(0,n.jsx)(t.p,{children:"When an Entity-Body is included with a message, the data type of that body is determined via the header fields Content-Type and Content- Encoding. These define a two-layer, ordered encoding model."}),"\n",(0,n.jsxs)(t.p,{children:["This is a stream so to insert into this stream use: ",(0,n.jsx)(t.code,{children:'Do oref.EntityBody.Write("Data into stream")'})," See %AbstractStream for more information about streams. Note that setting a new Entity-Body will reset the ContentType, ContentCharset and ContentEncoding as these values are stored in the Entity-Body stream as stream attributes."]}),"\n",(0,n.jsx)(t.h3,{id:"soapbuffering",children:"SOAPBuffering"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property SOAPBuffering As %Boolean [ Internal ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Internal only property to indicate that special buffering is to be used for SOAP"}),"\n",(0,n.jsx)(t.h3,{id:"localinterface",children:"LocalInterface"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property LocalInterface As %String;\n"})}),"\n",(0,n.jsx)(t.p,{children:"If specified use this local network interface when opening the TCP/IP socket. This becomes the /BINDTO open parameter."}),"\n",(0,n.jsx)(t.h3,{id:"from",children:"From"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property From As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"The From request-header field, if given, should contain an Internet e-mail address for the human user who controls the requesting user agent. The address should be machine-usable, as defined by mailbox in RFC 822 [7] (as updated by RFC 1123 [6]):"}),"\n",(0,n.jsx)(t.p,{children:'From = "From" ":" mailbox'}),"\n",(0,n.jsx)(t.p,{children:"An example is:"}),"\n",(0,n.jsxs)(t.p,{children:["From: ",(0,n.jsx)(t.a,{href:"mailto:webmaster@w3.org",children:"webmaster@w3.org"})]}),"\n",(0,n.jsx)(t.p,{children:"This header field may be used for logging purposes and as a means for identifying the source of invalid or unwanted requests. It should not be used as an insecure form of access protection. The interpretation of this field is that the request is being performed on behalf of the person given, who accepts responsibility for the method performed. In particular, robot agents should include this header so that the person responsible for running the robot can be contacted if problems occur on the receiving end."}),"\n",(0,n.jsx)(t.p,{children:"The Internet e-mail address in this field may be separate from the Internet host which issued the request. For example, when a request is passed through a proxy, the original issuer's address should be used."}),"\n",(0,n.jsx)(t.h3,{id:"httpversion",children:"HTTPVersion"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Property HTTPVersion As %String [ InitialExpression = "1.1" ];\n'})}),"\n",(0,n.jsx)(t.p,{children:"The HTTP version we should report to the server when making the request. Defaults to '1.1'."}),"\n",(0,n.jsx)(t.h3,{id:"ifmodifiedsince",children:"IfModifiedSince"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property IfModifiedSince As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"The If-Modified-Since request-header field is used with the GET method to make it conditional: if the requested resource has not been modified since the time specified in this field, a copy of the resource will not be returned from the server; instead, a 304 (not modified) response will be returned without any Entity-Body."}),"\n",(0,n.jsx)(t.p,{children:'If-Modified-Since = "If-Modified-Since" ":" HTTP-date'}),"\n",(0,n.jsx)(t.p,{children:"An example of the field is:"}),"\n",(0,n.jsx)(t.p,{children:"If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT"}),"\n",(0,n.jsx)(t.p,{children:"The purpose of this feature is to allow efficient updates of cached information with a minimum amount of transaction overhead."}),"\n",(0,n.jsx)(t.h3,{id:"pragma",children:"Pragma"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Pragma As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"The Pragma general-header field is used to include implementation- specific directives that may apply to any recipient along the request/response chain. All pragma directives specify optional behavior from the viewpoint of the protocol; however, some systems may require that behavior be consistent with the directives."}),"\n",(0,n.jsx)(t.p,{children:'Pragma = "Pragma" ":" 1#pragma-directive'}),"\n",(0,n.jsxs)(t.p,{children:['pragma-directive = "no-cache" | extension-pragma',(0,n.jsx)(t.br,{}),'\nextension-pragma = token [ "=" word ]']}),"\n",(0,n.jsx)(t.h3,{id:"referer",children:"Referer"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Referer As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"The Referer request-header field allows the client to specify, for the server's benefit, the address (URI) of the resource from which the Request-URI was obtained. This allows a server to generate lists of back-links to resources for interest, logging, optimized caching, etc. It also allows obsolete or mistyped links to be traced for maintenance. The Referer field must not be sent if the Request-URI was obtained from a source that does not have its own URI, such as input from the user keyboard."}),"\n",(0,n.jsx)(t.p,{children:'Referer = "Referer" ":" ( absoluteURI | relativeURI )'}),"\n",(0,n.jsx)(t.p,{children:"Example:"}),"\n",(0,n.jsxs)(t.p,{children:["Referer: ",(0,n.jsx)(t.a,{href:"http://www.w3.org/hypertext/DataSources/Overview.html",children:"http://www.w3.org/hypertext/DataSources/Overview.html"})]}),"\n",(0,n.jsx)(t.p,{children:"If a partial URI is given, it should be interpreted relative to the Request-URI. The URI must not include a fragment."}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Note:"})," that when you call Reset this field is automatically updated with the last request URI, i.e. Location."]}),"\n",(0,n.jsx)(t.h3,{id:"server",children:"Server"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Server As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"The IP address or machine name of the web server that you wish to connect to. This defaults to 'localhost', i.e. your current machine if not specified. This also sets the 'Host' http header field."}),"\n",(0,n.jsx)(t.h3,{id:"useragent",children:"UserAgent"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property UserAgent As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"The User-Agent request-header field contains information about the user agent originating the request. This is for statistical purposes, the tracing of protocol violations, and automated recognition of user agents for the sake of tailoring responses to avoid particular user agent limitations. Although it is not required, user agents should include this field with requests. The field can contain multiple product tokens and comments identifying the agent and any subproducts which form a significant part of the user agent. By convention, the product tokens are listed in order of their significance for identifying the application."}),"\n",(0,n.jsx)(t.p,{children:'User-Agent = "User-Agent" ":" 1*( product | comment )'}),"\n",(0,n.jsx)(t.p,{children:"The default value of this field is:"}),"\n",(0,n.jsx)(t.p,{children:"User-Agent: Mozilla/4.0 (compatible; Cache;)"}),"\n",(0,n.jsx)(t.h3,{id:"location",children:"Location"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Location As %String;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Name of item to retrieve from the web server. This is always an absolute path, so if you wish to retrieve the document that is refered to from the URI '",(0,n.jsx)(t.a,{href:"http://machine/cache/index.html",children:"http://machine/cache/index.html"}),"' the Location will be"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.em,{children:"cache/index.html"})}),"\n",(0,n.jsx)(t.p,{children:"All the request methods such as Get take the location as the first parameter to make calling the method easier. Note the location does not contain a leading '/' character as this is implicit."}),"\n",(0,n.jsx)(t.h3,{id:"port",children:"Port"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Port As %Integer;\n"})}),"\n",(0,n.jsx)(t.p,{children:"The TCP/IP port number to connect to. This is normally port 80 (the default) unless the web server has been configured to run on an different port."}),"\n",(0,n.jsx)(t.h3,{id:"https",children:"Https"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Https As %Boolean;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["If not using a proxy server and this is true then it issues a request for an https page rather than the normal http page. This also changes the default Port on the target system to 443 the https port.",(0,n.jsx)(t.br,{}),"\nIf using a proxy server use of https is determined by ProxyHTTPS and Https controls use of a secure SSL connection to the proxy server. In this case the default ProxyPort becomes, 443 the https port."]}),"\n",(0,n.jsx)(t.h3,{id:"sslconfiguration",children:"SSLConfiguration"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property SSLConfiguration As %String;\n"})}),"\n",(0,n.jsx)(t.p,{children:"The name of the activated TLS/SSL configuration to use for https requests."}),"\n",(0,n.jsx)(t.h3,{id:"sslerror",children:"SSLError"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property SSLError As %String;\n"})}),"\n",(0,n.jsx)(t.p,{children:"If request uses an SSL connection and a SSL handshake error has occurred, then SSLError contains text describing the SSL error."}),"\n",(0,n.jsx)(t.h3,{id:"sslcheckserveridentity",children:"SSLCheckServerIdentity"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property SSLCheckServerIdentity As %Boolean [ InitialExpression = 1 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"When making an SSL connection check the server identity in the server certificate matches the name of the system we are connecting to. This defaults to being on and matches based on the rules layed out in section 3.1 of RFC 2818."}),"\n",(0,n.jsx)(t.h3,{id:"sslcheckidentityinternal",children:"SSLCheckIdentityInternal"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property SSLCheckIdentityInternal As %String [ Internal ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Used internally to avoid checking common name unless it is a new SSL connection"}),"\n",(0,n.jsx)(t.h3,{id:"sslusesni",children:"SSLUseSNI"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property SSLUseSNI As %Boolean [ InitialExpression = 1 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"When making an SSL/TLS connection use the Server Name Indication (SNI) TLS extension (RFC6066). This defaults to true."}),"\n",(0,n.jsx)(t.h3,{id:"sslpeercertificate",children:"SSLPeerCertificate"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property SSLPeerCertificate As %String;\n"})}),"\n",(0,n.jsx)(t.p,{children:"If SSLCheckIdentityInternal is true this property will hold the Certificate retrieved in CheckSSLCN"}),"\n",(0,n.jsx)(t.h3,{id:"proxytunnel",children:"ProxyTunnel"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Property ProxyTunnel As %Boolean [ InitialExpression = "0" ];\n'})}),"\n",(0,n.jsx)(t.p,{children:"If true then use the HTTP CONNECT command to establish a tunnel through the proxy to the target HTTP server. The address of the proxy server is taken from ProxyServer and ProxyPort. If ProxyHttps is true then once the tunnel is established we will negotiate the SSL connection. The Https property is ignored as the tunnel establishes a direct connection with the target system."}),"\n",(0,n.jsx)(t.h3,{id:"timeout",children:"Timeout"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Timeout As %Integer [ InitialExpression = 30 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"The amount of time to wait for a response from the web server before assuming that the web server is not responding. This defaults to 30 seconds."}),"\n",(0,n.jsx)(t.h3,{id:"opentimeout",children:"OpenTimeout"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property OpenTimeout As %Integer;\n"})}),"\n",(0,n.jsx)(t.p,{children:"If specified is the amount of time we will wait for the TCP/IP connection to open. If not specified then it will default to Timeout value."}),"\n",(0,n.jsx)(t.h3,{id:"followredirect",children:"FollowRedirect"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property FollowRedirect As %Boolean;\n"})}),"\n",(0,n.jsx)(t.p,{children:"If true then automatically follow redirection requests from the web server. These are signaled by the HTTP status codes of the form 3xx. The default is true for GET and HEAD methods. Otherwise the default is false."}),"\n",(0,n.jsx)(t.h3,{id:"proxyserver",children:"ProxyServer"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ProxyServer As %String;\n"})}),"\n",(0,n.jsx)(t.p,{children:"If you need to request a web page through a proxy server you specify the proxy server host name in this property. If this property is defined then the http request will be directed at this machine and it will forward the request to the machine at Location and return the response."}),"\n",(0,n.jsx)(t.h3,{id:"proxyport",children:"ProxyPort"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ProxyPort As %String [ InitialExpression = 8080 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"The port to connect to the proxy web server on. This is often port 8080 (the default)."}),"\n",(0,n.jsx)(t.h3,{id:"proxyhttps",children:"ProxyHTTPS"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ProxyHTTPS As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"If using a proxy server and this is true then it issues a request for an https page rather than the normal http page. This allows a proxy server that supports https to support a secure connection from this %Net.HttpRequest class. This also changes the default Port on the target system to 443 the https port. If using a proxy server, use of https is determined by ProxyHTTPS."}),"\n",(0,n.jsx)(t.h3,{id:"proxyauthorization",children:"ProxyAuthorization"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ProxyAuthorization As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Sets/get the 'Proxy-Authorization:' header field in the Http request."}),"\n",(0,n.jsx)(t.p,{children:"A user agent that wishes to authenticate itself with a proxy-- usually, but not necessarily, after receiving a 407 response--may do so by including an Proxy-Authorization header field with the request. The Proxy-Authorization field value consists of credentials containing the authentication information of the user agent for the realm of the resource being requested."}),"\n",(0,n.jsx)(t.h3,{id:"requestheadercharset",children:"RequestHeaderCharset"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Property RequestHeaderCharset As %String [ InitialExpression = "UTF-8" ];\n'})}),"\n",(0,n.jsx)(t.p,{children:"The character set to send the HTTP request header in. According to the RFC the HTTP header should only contain ASCII characters as the behaviour with characters outside this range is unspecified. This class defaults to using UTF-8 as this leaves all the ASCII characters unchanged. You should never need to change this parameter."}),"\n",(0,n.jsx)(t.h3,{id:"postgzip",children:"PostGzip"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property PostGzip As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"If set to true then any data posted to the HTTP server will be gzipped before being sent. You must be sure the remote server can accept gzip data before setting this property."}),"\n",(0,n.jsx)(t.h3,{id:"writetimeout",children:"WriteTimeout"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property WriteTimeout As %Float [ InitialExpression = -1 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Set this to the timeout to use when writing to the remote HTTP server. The default is -1 means it will wait indefinitely for the remote server to accept the written data, change it to another value to specify the timeout in seconds. The minimum value accepted is 2 seconds."}),"\n",(0,n.jsx)(t.h3,{id:"acceptgzip",children:"AcceptGzip"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property AcceptGzip As %Boolean [ InitialExpression = 1 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"If true then we report we can accept gzip compressed data to the web server (the default), if false then do not send the header saying we accept gzip data."}),"\n",(0,n.jsx)(t.h3,{id:"httpresponse",children:"HttpResponse"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property HttpResponse As %Net.HttpResponse;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["This holds the %Net.HttpResponse object which contains all the data that the web server returned from this http request. If you wish to hold onto this after you make another http request or you close the %Net.HttpRequest object you should do: ",(0,n.jsx)(t.code,{children:"Set response=httprequest.HttpResponse"})]}),"\n",(0,n.jsx)(t.h3,{id:"cookies",children:"Cookies"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Cookies As %String [ Internal, MultiDimensional, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Internal structure used to store the list of cookies we have."}),"\n",(0,n.jsx)(t.h3,{id:"formdata",children:"FormData"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property FormData As %String [ Internal, MultiDimensional, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Internal structure used to store name/value elements when submitting a form."}),"\n",(0,n.jsx)(t.h3,{id:"contenttype",children:"ContentType"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ContentType As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Sets/gets the 'Content-Type:' entity header field in the HTTP request. If it is not specified and there is an EntityBody then it default to 'text/html'."}),"\n",(0,n.jsx)(t.p,{children:"Note: This actually gets/sets the attribute 'CONTENT-TYPE' associated with the stream EntityBody rather than setting a Headers."}),"\n",(0,n.jsx)(t.p,{children:"A Content-Type specifies the media type of the EntityBody data. A Content-Encoding may be used to indicate any additional content coding applied to the type, usually for the purpose of data compression, that is a property of the resource requested. The default for the content encoding is none."}),"\n",(0,n.jsx)(t.h3,{id:"contentcharset",children:"ContentCharset"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ContentCharset As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"This is the charset to encode the contents with. This is actually specified in the HTTP Content-Type header with something like:"}),"\n",(0,n.jsx)(t.p,{children:"Content-Type: text/html; charset=UTF-8"}),"\n",(0,n.jsx)(t.p,{children:"You must set this property after you set the ContentType or it will overwrite this value."}),"\n",(0,n.jsx)(t.h3,{id:"nodefaultcontentcharset",children:"NoDefaultContentCharset"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property NoDefaultContentCharset As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"If the ContentType is 'text/' type so we are sending text then if NoDefaultContentCharset = 1 (true), then if there is no ContentCharset entity body charset we will use iso-8859-1 as the charset to send the entity body in. If the property is 0 (the default) then if there is no entity body charset we will use utf-8."}),"\n",(0,n.jsx)(t.h3,{id:"contentencoding",children:"ContentEncoding"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ContentEncoding As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Sets/gets the 'Content-Encoding:' entity header field in the HTTP request. This actually refers to the attribute on the EntityBody."}),"\n",(0,n.jsx)(t.h3,{id:"contentlength",children:"ContentLength"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ContentLength As %String [ Calculated ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Read only property that returns the length of the EntityBody. This can also be obtained by looking at 'http.EntityBody.Size' and is only included for consistancy as this is the value written out for the 'Content-Length:' HTTP request entity header."}),"\n",(0,n.jsx)(t.h3,{id:"redirectno",children:"RedirectNo"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property RedirectNo As %Integer [ Internal, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Used to count redirections to prevent it getting into a loop."}),"\n",(0,n.jsx)(t.h3,{id:"authenticationdepth",children:"AuthenticationDepth"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property AuthenticationDepth As %Integer [ Internal, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"Used to count roundtrips needed for NTLM or SPNEGO authentication to prevent getting into a loop."}),"\n",(0,n.jsx)(t.h3,{id:"authenticationhandle",children:"AuthenticationHandle"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property AuthenticationHandle As %Integer [ Internal, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"The context handle used for NTLM or SPNEGO authentication."}),"\n",(0,n.jsx)(t.h3,{id:"params",children:"Params"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Params As %String [ MultiDimensional ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"An array of strings containing any query name/value pairs associated with this request. These are added to the request URL when the request is issued."}),"\n",(0,n.jsx)(t.h3,{id:"readrawmode",children:"ReadRawMode"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ReadRawMode As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"If true then the body of the response will be read in using RAW mode, ie. with no characterset translate. If false (the default) then it will use the charset specified in the response headers."}),"\n",(0,n.jsx)(t.h3,{id:"returngzipresponse",children:"ReturnGzipResponse"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ReturnGzipResponse As %Boolean [ InitialExpression = 1 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"If we read a gzip response from the web server and this property is true then the stream returned in the HttpResponse will be a %Stream.FileBinary/CharacterGzip pointing at the gzip file we read. If this property is false we will uncompress the file stream into a %Stream.GlobalBinary/Character stream which involves an extra copy operation. The defaults to faster operation, however you can reset it to 0 for backward compatibility."}),"\n",(0,n.jsx)(t.h3,{id:"binarycontent",children:"BinaryContent"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property BinaryContent As %Boolean [ InitialExpression = 1, Private ];\n"})}),"\n",(0,n.jsx)(t.h3,{id:"writerawmode",children:"WriteRawMode"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property WriteRawMode As %Boolean [ InitialExpression = 0 ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"If true then the body (EntityBody) of the request will be written using RAW mode, ie. with no characterset translate. If false (the default) then it will use the charset specified in the request headers."}),"\n",(0,n.jsx)(t.h3,{id:"responsestream",children:"ResponseStream"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property ResponseStream As %RawString;\n"})}),"\n",(0,n.jsx)(t.p,{children:"Optional property, if set to a stream then this is the stream that will be used to write the data from the web server to rather than constructing a stream of its own. This allows you to specify which type of stream you wish to read the data into, for example a file stream rather than a global stream which is the default."}),"\n",(0,n.jsx)(t.h3,{id:"lastpongcontent",children:"LastPongContent"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property LastPongContent As %Stream.TmpBinary;\n"})}),"\n",(0,n.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(t.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method %OnNew(initvalue As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,n.jsx)(t.h3,{id:"initheaders",children:"InitHeaders"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method InitHeaders(server As %String, referer As %String, useragent As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"onclose",children:"%OnClose"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnClose() As %Status [ Internal, Private, ServerOnly = 1 ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"setheader",children:"SetHeader"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method SetHeader(name As %String, value As %String) As %Status\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Add a header to the http request. Most of the normal headers that you may want are covered by properties of this class such as Date however if you wish to add a non standard header then call this. For example: ",(0,n.jsx)(t.code,{children:'Do httprequest.SetHeader("MyHeader","Data to display")'})," Note that headers such as Content-Type, Content-Encoding, and Content-Length are part of the entity body rather than the http main headers and as such as forwarded to the ContentType, ContentEncoding and trying to set the Content-Length is just ignored as this is a read only property. Also any attempt to set the 'Connection' header is ignored at this request class does not support persistent connections."]}),"\n",(0,n.jsx)(t.h3,{id:"getheader",children:"GetHeader"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method GetHeader(name As %String) As %String\n"})}),"\n",(0,n.jsx)(t.p,{children:"Allows you to obtain the current value for any of the Http headers that have been set."}),"\n",(0,n.jsx)(t.h3,{id:"removeheader",children:"RemoveHeader"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method RemoveHeader(name As %String) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Remove a Http header value"}),"\n",(0,n.jsx)(t.h3,{id:"outputheaders",children:"OutputHeaders"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method OutputHeaders() As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Output the full list of Http headers that will be sent to the machine Server for the item Location to the current device. This does not include any entity headers associated with the EntityBody."}),"\n",(0,n.jsx)(t.h3,{id:"returnheaders",children:"ReturnHeaders"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ReturnHeaders() As %String\n"})}),"\n",(0,n.jsx)(t.p,{children:"Return the full list of Http headers that will be sent to the machine Server for the item Location. This does not include any entity headers associated with the EntityBody."}),"\n",(0,n.jsx)(t.h3,{id:"getauthenticationtoken",children:"GetAuthenticationToken"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method GetAuthenticationToken(scheme As %String, challenge As %String) As %String [ Internal ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Get the authentication token based on the specified authentication scheme."}),"\n",(0,n.jsx)(t.h3,{id:"processauthenticationheader",children:"ProcessAuthenticationHeader"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ProcessAuthenticationHeader(authenticateHeader As %String, Output scheme As %String) As %String [ Internal ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Extract the schemes from the WWW-Authenticate headers and get an Authuthentication token for the first scheme on our list thta is configured."}),"\n",(0,n.jsx)(t.h3,{id:"authenticationclose",children:"AuthenticationClose"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method AuthenticationClose() [ Internal ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Close the authentication handle"}),"\n",(0,n.jsx)(t.h3,{id:"authorizationget",children:"AuthorizationGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method AuthorizationGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"authorizationset",children:"AuthorizationSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method AuthorizationSet(value As %String) As %Status [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"dateget",children:"DateGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method DateGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"dateset",children:"DateSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method DateSet(value As %String) As %Status [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"fromget",children:"FromGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method FromGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"fromset",children:"FromSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method FromSet(value As %String) As %Status [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"ifmodifiedsinceget",children:"IfModifiedSinceGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method IfModifiedSinceGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"ifmodifiedsinceset",children:"IfModifiedSinceSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method IfModifiedSinceSet(value As %String) As %Status [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"pragmaget",children:"PragmaGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method PragmaGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"pragmaset",children:"PragmaSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method PragmaSet(value As %String) As %Status [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"refererget",children:"RefererGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method RefererGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"refererset",children:"RefererSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method RefererSet(value As %String) As %Status [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"serverget",children:"ServerGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ServerGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"serverset",children:"ServerSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ServerSet(value As %String) As %Status [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"useragentget",children:"UserAgentGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method UserAgentGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"useragentset",children:"UserAgentSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method UserAgentSet(value As %String) As %Status [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"locationset",children:"LocationSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method LocationSet(val As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"portget",children:"PortGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method PortGet() As %Integer [ Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"proxyauthorizationget",children:"ProxyAuthorizationGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ProxyAuthorizationGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"proxyauthorizationset",children:"ProxyAuthorizationSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ProxyAuthorizationSet(value As %String) As %Status [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"acceptgzipset",children:"AcceptGzipSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method AcceptGzipSet(val As %Boolean) As %Status\n"})}),"\n",(0,n.jsx)(t.h3,{id:"insertformdata",children:"InsertFormData"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method InsertFormData(name As %String, value As %RawString)\n"})}),"\n",(0,n.jsx)(t.p,{children:"Set the value of name-value pair name to value."}),"\n",(0,n.jsx)(t.p,{children:"If more than one value is associated with name, then the values are subscripted using index starting with 1. The value inserted can be either a %String or a stream."}),"\n",(0,n.jsx)(t.h3,{id:"isformdatadefined",children:"IsFormDataDefined"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method IsFormDataDefined(name As %String, index As %Integer = 1) As %Boolean [ CodeMode = expression ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Tests if a name-value pair name is defined."}),"\n",(0,n.jsx)(t.h3,{id:"countformdata",children:"CountFormData"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method CountFormData(name As %String) As %Integer\n"})}),"\n",(0,n.jsx)(t.p,{children:"Returns the number of values associated with the name-value pair name."}),"\n",(0,n.jsx)(t.h3,{id:"nextformdata",children:"NextFormData"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method NextFormData(name As %String) As %String [ CodeMode = expression ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Returns the next key in sequence"}),"\n",(0,n.jsx)(t.h3,{id:"deleteformdata",children:"DeleteFormData"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method DeleteFormData(name As %String, index As %Integer = "") As %Boolean\n'})}),"\n",(0,n.jsx)(t.p,{children:"Removes this key from the collection"}),"\n",(0,n.jsx)(t.h3,{id:"outputformdata",children:"OutputFormData"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method OutputFormData(stream As %Stream.Object, table As %String) As %String\n"})}),"\n",(0,n.jsx)(t.h3,{id:"contenttypeget",children:"ContentTypeGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ContentTypeGet() As %String [ Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"contenttypeset",children:"ContentTypeSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ContentTypeSet(contenttype As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"contentcharsetget",children:"ContentCharsetGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ContentCharsetGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"contentcharsetset",children:"ContentCharsetSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ContentCharsetSet(charset As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"contentencodingget",children:"ContentEncodingGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ContentEncodingGet() As %String [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"contentencodingset",children:"ContentEncodingSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ContentEncodingSet(contentencoding As %String) As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"contentlengthget",children:"ContentLengthGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ContentLengthGet() As %Integer [ CodeMode = expression, Internal ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"get",children:"Get"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method Get(location As %String = "", test As %Integer = 0, reset As %Boolean = 1) As %Status [ CodeMode = expression ]\n'})}),"\n",(0,n.jsxs)(t.p,{children:["Issue the Http 'get' request, this will cause the web server to return the page requested. If this completes correctly the response to this request will be in the HttpResponse. The location is the url to request, e.g. '/test.html'. This can contain parameters which are assumed to be already URL escaped, e.g. '/test.html?PARAM=%25VALUE' sets PARAM to %VALUE. It can also be a full url with the server and optional port number e.g. '",(0,n.jsx)(t.a,{href:"http://server.com/test.html",children:"http://server.com/test.html"}),"'. If test is 1 then instead of connecting to a remote machine it will just output what it would have send to the web server to the current device, if test is 2 then it will output the response to the current device after the Get. This can be used to check that it will send what you are expecting. This calls Reset automatically after reading the response, except in test=1 mode or if reset=0."]}),"\n",(0,n.jsx)(t.h3,{id:"post",children:"Post"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method Post(location As %String = "", test As %Integer = 0, reset As %Boolean = 1) As %Status [ CodeMode = expression ]\n'})}),"\n",(0,n.jsxs)(t.p,{children:["Issue the Http 'post' request, this is used to send data to the web server such as the results of a form, or upload a file. If this completes correctly the response to this request will be in the HttpResponse. The location is the url to request, e.g. '/test.html'. This can contain parameters which are assumed to be already URL escaped, e.g. '/test.html?PARAM=%25VALUE' sets PARAM to %VALUE. It can also be a full url with the server and optional port number e.g. '",(0,n.jsx)(t.a,{href:"http://server.com/test.html",children:"http://server.com/test.html"}),"'. If test is 1 then instead of connecting to a remote machine it will just output what it would have send to the web server to the current device, if test is 2 then it will output the response to the current device after the Post. This can be used to check that it will send what you are expecting. This calls Reset automatically after reading the response, except in test=1 mode or if reset=0."]}),"\n",(0,n.jsx)(t.h3,{id:"put",children:"Put"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method Put(location As %String = "", test As %Integer = 0, reset As %Boolean = 1) As %Status [ CodeMode = expression ]\n'})}),"\n",(0,n.jsxs)(t.p,{children:["Issue the Http 'put' request, this is used to upload data to the web server, it is not used that often. If this completes correctly the response to this request will be in the HttpResponse. The location is the url to request, e.g. '/test.html'. This can contain parameters which are assumed to be already URL escaped, e.g. '/test.html?PARAM=%25VALUE' sets PARAM to %VALUE. It can also be a full url with the server and optional port number e.g. '",(0,n.jsx)(t.a,{href:"http://server.com/test.html",children:"http://server.com/test.html"}),"'. If test is 1 then instead of connecting to a remote machine it will just output what it would have send to the web server to the current device, if test is 2 then it will output the response to the current device after the Put. This can be used to check that it will send what you are expecting. This calls Reset automatically after reading the response, except in test=1 mode or if reset=0."]}),"\n",(0,n.jsx)(t.h3,{id:"patch",children:"Patch"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method Patch(location As %String = "", test As %Integer = 0, reset As %Boolean = 1) As %Status [ CodeMode = expression ]\n'})}),"\n",(0,n.jsxs)(t.p,{children:["Issue the Http 'patch' request, this is used for making partial changes to an existing resource. If this completes correctly the response to this request will be in the HttpResponse. The location is the url to request, e.g. '/test.html'. This can contain parameters which are assumed to be already URL escaped, e.g. '/test.html?PARAM=%25VALUE' sets PARAM to %VALUE. It can also be a full url with the server and optional port number e.g. '",(0,n.jsx)(t.a,{href:"http://server.com/test.html",children:"http://server.com/test.html"}),"'. If test is 1 then instead of connecting to a remote machine it will just output what it would have send to the web server to the current device, if test is 2 then it will output the response to the current device after the Put. This can be used to check that it will send what you are expecting. This calls Reset automatically after reading the response, except in test=1 mode or if reset=0."]}),"\n",(0,n.jsx)(t.h3,{id:"head",children:"Head"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Head(location As %String, test As %Integer = 0, reset As %Boolean = 1) As %Status [ CodeMode = expression ]\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Issue the Http 'head' request, this will cause the web server to just return the header of the response and none of the body. If this completes correctly the response to this request will be in the HttpResponse. The location is the url to request, e.g. '/test.html'. This can contain parameters which are assumed to be already URL escaped, e.g. '/test.html?PARAM=%25VALUE' sets PARAM to %VALUE. It can also be a full url with the server and optional port number e.g. '",(0,n.jsx)(t.a,{href:"http://server.com/test.html",children:"http://server.com/test.html"}),"'. If test is 1 then instead of connecting to a remote machine it will just output what it would have send to the web server to the current device, if test is 2 then it will output the response to the current device after the Head. This can be used to check that it will send what you are expecting. This calls Reset automatically after reading the response, except in test mode or if reset=0."]}),"\n",(0,n.jsx)(t.h3,{id:"delete",children:"Delete"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Delete(location As %String, test As %Integer = 0, reset As %Boolean = 1) As %Status [ CodeMode = expression ]\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Issue the Http 'delete' request, this will cause the web server to delete the item referred. If this completes correctly the response to this request will be in the HttpResponse. The location is the url to request, e.g. '/test.html'. This can contain parameters which are assumed to be already URL escaped, e.g. '/test.html?PARAM=%25VALUE' sets PARAM to %VALUE. It can also be a full url with the server and optional port number e.g. '",(0,n.jsx)(t.a,{href:"http://server.com/test.html",children:"http://server.com/test.html"}),"'. If test is 1 then instead of connecting to a remote machine it will just output what it would have send to the web server to the current device, if test is 2 then it will output the response to the current device after the Head. This can be used to check that it will send what you are expecting. This calls Reset automatically after reading the response, except in test mode or if reset=0."]}),"\n",(0,n.jsx)(t.h3,{id:"send",children:"Send"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Send(type As %String, location As %String, test As %Integer = 0, reset As %Boolean = 1) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Method that actually sends HTTP request to the server. This is normally called from Get, Post, Put, Head but if you wish to use a different HTTP verb you can call this directly passing the type as the verb you require."}),"\n",(0,n.jsx)(t.h3,{id:"open",children:"Open"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Open(ByRef reused As %Boolean) As %Status [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Open the TCP/IP port onto the web server."}),"\n",(0,n.jsx)(t.h3,{id:"reset",children:"Reset"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Reset() As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Reset the %Net.HttpRequest class so that it can issue another request. This is much faster than closing this object and creating a new %Net.HttpRequest object. This also moves the value of Location to Referer. It is called by the Send automatically after issuing a request."}),"\n",(0,n.jsx)(t.h3,{id:"resetforredirection",children:"ResetForRedirection"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ResetForRedirection() As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"ResetForRedirection clears the request body, URL parameters, and other information that should not be part of the subsequent redirected HTTP request."}),"\n",(0,n.jsx)(t.h3,{id:"getparam",children:"GetParam"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method GetParam(name As %String, default As %String = "", index As %Integer = 1) As %String [ CodeMode = expression ]\n'})}),"\n",(0,n.jsx)(t.p,{children:"Returns the value of name-value pair name."}),"\n",(0,n.jsx)(t.p,{children:"If more than one value is associated with name, then the values are subscripted using index starting with 1. index"}),"\n",(0,n.jsx)(t.p,{children:"If the name-value pair is not defined, returns the value of default."}),"\n",(0,n.jsx)(t.h3,{id:"setparam",children:"SetParam"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method SetParam(name As %String, value As %String, index As %Integer = 1)\n"})}),"\n",(0,n.jsx)(t.p,{children:"Set the value of the name-value pair name. The optional index is used to associate multiple value with a single name."}),"\n",(0,n.jsx)(t.h3,{id:"insertparam",children:"InsertParam"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method InsertParam(name As %String, value As %String)\n"})}),"\n",(0,n.jsx)(t.p,{children:"Set the value of name-value pair name to value."}),"\n",(0,n.jsx)(t.p,{children:"If more than one value is associated with name, then the values are subscripted using index starting with 1."}),"\n",(0,n.jsx)(t.h3,{id:"isparamdefined",children:"IsParamDefined"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method IsParamDefined(name As %String, index As %Integer = 1) As %Boolean [ CodeMode = expression ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Tests if a name-value pair name is defined."}),"\n",(0,n.jsx)(t.h3,{id:"countparam",children:"CountParam"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method CountParam(name As %String) As %Integer\n"})}),"\n",(0,n.jsx)(t.p,{children:"Returns the number of values associated with the name-value pair name."}),"\n",(0,n.jsx)(t.h3,{id:"nextparam",children:"NextParam"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method NextParam(name As %String) As %String [ CodeMode = expression ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Returns the next key in sequence"}),"\n",(0,n.jsx)(t.h3,{id:"deleteparam",children:"DeleteParam"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method DeleteParam(name As %String, index As %Integer = "") As %Boolean\n'})}),"\n",(0,n.jsx)(t.p,{children:"Removes this key from the collection"}),"\n",(0,n.jsx)(t.h3,{id:"outputparams",children:"OutputParams"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method OutputParams(params As %String = "", table As %String)\n'})}),"\n",(0,n.jsx)(t.p,{children:"Output all the parameters to the current device. The params is any parameters that you wish to be included in the parameters output, these are assumed to already be URL escaped."}),"\n",(0,n.jsx)(t.h3,{id:"returnparams",children:"ReturnParams"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ReturnParams() As %String\n"})}),"\n",(0,n.jsx)(t.p,{children:"Return the list of parameters that this request will output."}),"\n",(0,n.jsx)(t.h3,{id:"insertcookie",children:"InsertCookie"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method InsertCookie(name As %String, value As %String, path As %String, domain As %String, expires As %String, secure As %Boolean = 0) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Add a cookie to this %Net.HttpRequest object. The name is the name of the cookie, the value is the value this cookie is set to. The path is the path to store the cookie under, it will only be output for this path and any subpaths on the server. The domain is the name of the machine the cookie is downloaded from. Then expires is the date/time when this cookie will expire. The secure parameter is if the cookie should be send over secure channels only, i.e. https."}),"\n",(0,n.jsx)(t.h3,{id:"deletecookie",children:"DeleteCookie"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method DeleteCookie(name As %String, path As %String, domain As %String) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Remove a cookie from this %Net.HttpRequest object. The name, path, and domain must match the ones used to insert the cookie in the first place."}),"\n",(0,n.jsx)(t.h3,{id:"deletesessioncookie",children:"DeleteSessionCookie"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method DeleteSessionCookie() As %Status [ Internal ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Remove any session cookie from this %Net.HttpRequest object."}),"\n",(0,n.jsx)(t.h3,{id:"insertcookiefromserver",children:"InsertCookieFromServer"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method InsertCookieFromServer(cookie As %String) As %Status [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Internal function to take the server cookie line and insert cookies from it."}),"\n",(0,n.jsx)(t.h3,{id:"getcookiesforhost",children:"GetCookiesForHost"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method GetCookiesForHost(domain As %String, path As %String) As %String [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Internal function to return the list of cookies that we should send to this domain for this path."}),"\n",(0,n.jsx)(t.h3,{id:"cookiesforhost",children:"cookiesForHost"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method cookiesForHost(cookies As %String, domain As %String, path As %String) As %String [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"getfullcookielist",children:"GetFullCookieList"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method GetFullCookieList(ByRef cookies) As %Integer\n"})}),"\n",(0,n.jsx)(t.p,{children:"Passed cookies by reference and return an array of cookies so you can see which cookies have been set, or persist them into a database if wished. The return from this method is the number of cookies that are in the array. The format of the array is:"}),"\n",(0,n.jsx)(t.p,{children:"array(index)=$LB(name,domain,path,value,expires,secure)"}),"\n",(0,n.jsx)(t.h3,{id:"read",children:"Read"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method Read(device As %String, timeout As %Integer = 10, startTime As %Float, type As %String = "") As %Status [ Internal, Private ]\n'})}),"\n",(0,n.jsx)(t.p,{children:"Internal method used to read the response from the web server into this object."}),"\n",(0,n.jsx)(t.h3,{id:"horologtorfcdatetime",children:"HorologToRFCDateTime"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod HorologToRFCDateTime(horolog As %String = {$Horolog}) As %String\n"})}),"\n",(0,n.jsx)(t.p,{children:"Helper function to convert from a $H value into the date/time format suitable for use in an HTTP request. It converts the timezone from the current $H value to the GMT timezone as well as outputting the correct format."}),"\n",(0,n.jsx)(t.h3,{id:"getdefaultcharset",children:"GetDefaultCharset"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method GetDefaultCharset(ByRef charset As %String) As %String [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Passed a character set, if it is null it returns the default character set for this system and updates charset with the rfc name for this charset. If defined it looks up the charset and returns the InterSystems IRIS name for it."}),"\n",(0,n.jsx)(t.h3,{id:"parsecontent",children:"ParseContent"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod ParseContent(in As %String, ByRef return As %String) As %Boolean\n"})}),"\n",(0,n.jsx)(t.p,{children:'Parse a name=value,name2="newvalue" type list'}),"\n",(0,n.jsx)(t.h3,{id:"checksslcn",children:"CheckSSLCN"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod CheckSSLCN(server As %String, Output certificate As %String) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Verify the SSL server we are connected to has the correct certificate. In order to call this method the SSL/TLS connection must be active and must be the current device, also at least one message must have been sent down the socket in order for the SSL/TLS handshake to have taken place so we have the certificate. If InterSystems IRIS is acting as a client and makes a request to a server by IP address, the server's certificate need only contain the matching IP address in the Subject DN for us to verify the server's identity; the subjectAltName extension does not have to be present. This is a slight difference to the wording of RFC 2818."}),"\n",(0,n.jsx)(t.h3,{id:"parsename",children:"parseName"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod parseName(name As %String) As %String [ Private ]\n"})}),"\n",(0,n.jsx)(t.h3,{id:"matchsuffix",children:"MatchSuffix"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod MatchSuffix(domain As %String) As %Boolean\n"})}),"\n",(0,n.jsx)(t.p,{children:"Determine if this domain is a public suffix (publicsuffix.org) or not, return true if it is and false if it is not."}),"\n",(0,n.jsx)(t.h3,{id:"loadpublicsuffix",children:"LoadPublicSuffix"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod LoadPublicSuffix(filename As %String) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Load in the filename which is the downloaded public suffix list from publicsuffix.org"}),"\n",(0,n.jsx)(t.h3,{id:"websocketread",children:"WebSocketRead"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method WebSocketRead(Output pContentStream As %Stream.Object = {$$$NULLOREF}, pTimeout As %Integer = 10, Output pTimedOut As %Boolean = 0) As %Status\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Receives a possibly-fragmented message from the server.",(0,n.jsx)(t.br,{}),"\nThrows $$$NetWebSocketErrConnectionClosed if the server closes the connection.",(0,n.jsx)(t.br,{}),"\nResponds to pings from the server automatically."]}),"\n",(0,n.jsx)(t.h3,{id:"websocketwrite",children:"WebSocketWrite"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method WebSocketWrite(pContentStream As %Stream.Object, pFragmentSize As %Integer = 0) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Writes pContentStream as a binary frame if it is a binary stream type, or a text frame if not. If pFragmentSize is 0, will send pContentStream as a single binary/text frame; otherwise, will send as fragments of maximum length pFragmentSize."}),"\n",(0,n.jsx)(t.h3,{id:"websocketping",children:"WebSocketPing"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method WebSocketPing(pContentStream As %Stream.Object) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Sends a ping frame with contents defined in pContentStream."}),"\n",(0,n.jsx)(t.h3,{id:"websocketpong",children:"WebSocketPong"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method WebSocketPong(pContentStream As %Stream.Object) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:"Sends an pong frame with contents defined in pContentStream. Should be used only for unsolicited pongs."}),"\n",(0,n.jsx)(t.h3,{id:"websocketclose",children:"WebSocketClose"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method WebSocketClose(pReason As %Integer = 1001) As %Status\n"})}),"\n",(0,n.jsx)(t.p,{children:'The client should not close the web socket connection for any reason other than "going away" (1001).'})]})}function c(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>o});var n=s(96540);const r={},i=n.createContext(r);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);