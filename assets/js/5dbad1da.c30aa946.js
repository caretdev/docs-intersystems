"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[48339],{5197:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>r,default:()=>d,frontMatter:()=>c,toc:()=>o});var i=s(74848),t=s(28453);const c={pagination_prev:null,pagination_next:null},r="%Net.PushNotifications.APNS",o=[{value:"Parameters",id:"parameters",level:2},{value:"BUFFERSIZE",id:"buffersize",level:3},{value:"DEVICETOKENLENGTH",id:"devicetokenlength",level:3},{value:"Properties",id:"properties",level:2},{value:"PushServerAddress",id:"pushserveraddress",level:3},{value:"PushServerPort",id:"pushserverport",level:3},{value:"SSLConfig",id:"sslconfig",level:3},{value:"ConnectTimeout",id:"connecttimeout",level:3},{value:"ResponseTimeout",id:"responsetimeout",level:3},{value:"Device",id:"device",level:3},{value:"Methods",id:"methods",level:2},{value:"Connect",id:"connect",level:3},{value:"Disconnect",id:"disconnect",level:3},{value:"SimplePushNotification",id:"simplepushnotification",level:3},{value:"EnhancedPushNotification",id:"enhancedpushnotification",level:3},{value:"PackDeviceToken",id:"packdevicetoken",level:3},{value:"doMessageIO",id:"domessageio",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"netpushnotificationsapns",children:"%Net.PushNotifications.APNS"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Class %Net.PushNotifications.APNS Extends %RegisteredObject\n"})}),"\n",(0,i.jsx)(n.p,{children:"// Implements Apple Push Notification Service connectivity"}),"\n",(0,i.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsx)(n.h3,{id:"buffersize",children:"BUFFERSIZE"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter BUFFERSIZE As INTEGER = 16384;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"devicetokenlength",children:"DEVICETOKENLENGTH"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter DEVICETOKENLENGTH As INTEGER = 32;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,i.jsx)(n.h3,{id:"pushserveraddress",children:"PushServerAddress"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property PushServerAddress As %String(MAXLEN = 1024) [ Required ];\n"})}),"\n",(0,i.jsx)(n.p,{children:"Hostname of the Apple Push Notification Server."}),"\n",(0,i.jsx)(n.h3,{id:"pushserverport",children:"PushServerPort"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property PushServerPort As %String [ Required ];\n"})}),"\n",(0,i.jsx)(n.p,{children:"Port for the Apple Push Notification Server interface."}),"\n",(0,i.jsx)(n.h3,{id:"sslconfig",children:"SSLConfig"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property SSLConfig As %String [ Required ];\n"})}),"\n",(0,i.jsx)(n.p,{children:"Configuration name in the table of SSL configurations. The SSL is associated with the app and must be provided by Apple for the APNS service."}),"\n",(0,i.jsx)(n.h3,{id:"connecttimeout",children:"ConnectTimeout"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property ConnectTimeout As %Integer [ InitialExpression = 30, Required ];\n"})}),"\n",(0,i.jsx)(n.p,{children:"SSL Connection timeout period in seconds. The connection is terminated after this period of inactivity."}),"\n",(0,i.jsx)(n.h3,{id:"responsetimeout",children:"ResponseTimeout"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property ResponseTimeout As %Integer [ InitialExpression = 5, Required ];\n"})}),"\n",(0,i.jsx)(n.p,{children:"Time period in seconds to wait for a response to a connection request."}),"\n",(0,i.jsx)(n.h3,{id:"device",children:"Device"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Property Device As %String [ Internal, Private ];\n"})}),"\n",(0,i.jsx)(n.p,{children:"I/O device"}),"\n",(0,i.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,i.jsx)(n.h3,{id:"connect",children:"Connect"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Method Connect() As %Status\n"})}),"\n",(0,i.jsx)(n.p,{children:"Connect to the Apple Push Notification Service"}),"\n",(0,i.jsx)(n.h3,{id:"disconnect",children:"Disconnect"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Method Disconnect() As %Status\n"})}),"\n",(0,i.jsx)(n.h3,{id:"simplepushnotification",children:"SimplePushNotification"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Method SimplePushNotification(pDeviceToken As %String, ByRef pNotificationData) As %Status\n"})}),"\n",(0,i.jsx)(n.p,{children:'Send a "simple" push notification. The pDeviceToken represents a device identifier, the pNotificationData is an array of the aps values (see the APNS docs) and pCustomData contains any additional data items to be included.'}),"\n",(0,i.jsx)(n.h3,{id:"enhancedpushnotification",children:"EnhancedPushNotification"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Method EnhancedPushNotification(pDeviceToken As %String, pRequestId As %Integer, pExpiresUTC As %TimeStamp, ByRef pNotificationData) As %Status\n"})}),"\n",(0,i.jsx)(n.p,{children:'Send a notification using the "enhanced" mechanism. The pDeviceToken represents a device identifier, the pNotificationData is an array of the aps values (see the APNS docs) and pCustomData contains any additional data items to be included.'}),"\n",(0,i.jsx)(n.h3,{id:"packdevicetoken",children:"PackDeviceToken"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod PackDeviceToken(pToken As %String, ByRef pTokenData As %Binary) As %Status [ Internal ]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Pack the token string into a 32-byte binary buffer"}),"\n",(0,i.jsx)(n.h3,{id:"domessageio",children:"doMessageIO"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-objectscript-class",children:"Method doMessageIO(pSend As %String, ByRef pRecv As %String, pRecvSize As %Integer = 0) As %Status [ Internal ]\n"})})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var i=s(96540);const t={},c=i.createContext(t);function r(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);