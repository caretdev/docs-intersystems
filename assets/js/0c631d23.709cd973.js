"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[72259],{82750:(e,t,r)=>{r.r(t),r.d(t,{contentTitle:()=>a,default:()=>c,frontMatter:()=>i,toc:()=>o});var n=r(74848),s=r(28453);const i={pagination_prev:null,pagination_next:null},a="%Regex.Matcher",o=[{value:"Properties",id:"properties",level:2},{value:"Pattern",id:"pattern",level:3},{value:"RegexId",id:"regexid",level:3},{value:"Text",id:"text",level:3},{value:"TextBuffer",id:"textbuffer",level:3},{value:"Start",id:"start",level:3},{value:"End",id:"end",level:3},{value:"Group",id:"group",level:3},{value:"HitEnd",id:"hitend",level:3},{value:"PreviousMatchEnd",id:"previousmatchend",level:3},{value:"GroupCount",id:"groupcount",level:3},{value:"RequiredPrefix",id:"requiredprefix",level:3},{value:"OperationLimit",id:"operationlimit",level:3},{value:"Status",id:"status",level:3},{value:"Methods",id:"methods",level:2},{value:"Error",id:"error",level:3},{value:"%OnNew",id:"onnew",level:3},{value:"%OnClose",id:"onclose",level:3},{value:"PatternSet",id:"patternset",level:3},{value:"TextSet",id:"textset",level:3},{value:"StartGet",id:"startget",level:3},{value:"EndGet",id:"endget",level:3},{value:"GroupGet",id:"groupget",level:3},{value:"HitEndGet",id:"hitendget",level:3},{value:"GroupCountGet",id:"groupcountget",level:3},{value:"RequiredPrefixGet",id:"requiredprefixget",level:3},{value:"OperationLimitSet",id:"operationlimitset",level:3},{value:"LastStatus",id:"laststatus",level:3},{value:"Match",id:"match",level:3},{value:"LookingAt",id:"lookingat",level:3},{value:"Locate",id:"locate",level:3},{value:"ResetPosition",id:"resetposition",level:3},{value:"ReplaceAll",id:"replaceall",level:3},{value:"ReplaceFirst",id:"replacefirst",level:3},{value:"SubstituteIn",id:"substitutein",level:3},{value:"SplitIntoList",id:"splitintolist",level:3},{value:"SplitIntoArray",id:"splitintoarray",level:3},{value:"%OnConstructClone",id:"onconstructclone",level:3}];function h(e){const t={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",regular:"regular",string:"string",strong:"strong",unimplemented:"unimplemented",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"regexmatcher",children:"%Regex.Matcher"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Class %Regex.Matcher Extends (%RegisteredObject, %SYSTEM.Help) [ Final ]\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The Class ",(0,n.jsx)(t.strong,{children:"%Regex.Matcher"})," creates an object that does pattern matching using regular expressions. The regular expressions come from the International Components for Unicode (ICU). The ICU maintains web pages at ",(0,n.jsx)(t.a,{href:"https://icu.unicode.org",children:"https://icu.unicode.org"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["The definition and features of the ICU regular expression package can be found in ",(0,n.jsx)(t.a,{href:"https://unicode-org.github.io/icu/userguide/strings/regexp.html",children:"https://unicode-org.github.io/icu/userguide/strings/regexp.html"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["On most platforms, installing InterSystems IRIS will also install an appropiate version of the ICU libraries. On platforms that do not have an ICU library available, evaluating any regular expression function or method will result in an ",(0,n.jsx)(t.unimplemented,{children:" error."})]}),"\n",(0,n.jsxs)(t.p,{children:["A %Regex.Matcher object can be created by evaluating",(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.strong,{children:"##class(%Regex.Matcher).%New(pattern)"})," or",(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.strong,{children:"##class(%Regex.Matcher).%New(pattern,text)"}),".",(0,n.jsx)(t.br,{}),"\nThe first parameter to ",(0,n.jsx)(t.strong,{children:"%New"})," becomes the inital value of the property ",(0,n.jsx)(t.strong,{children:"Pattern"}),". The optional, second parameter to ",(0,n.jsx)(t.strong,{children:"%New"})," become the inital value of the property ",(0,n.jsx)(t.strong,{children:"Text"}),". Setting property ",(0,n.jsx)(t.strong,{children:"Pattern"})," to a regular expression pattern string causes that regular expression pattern to be compiled into a Matcher object where it can be used to do multiple matching operations without being recompiled. The property ",(0,n.jsx)(t.strong,{children:"Text"})," contains the subject text string that is searched by a regular expressions match. Note that an empty string is considered to be an illegal regular expression so the first parameter to ",(0,n.jsx)(t.strong,{children:"%New"})," cannot be missing nor be the empty string."]}),"\n",(0,n.jsxs)(t.p,{children:["If ",(0,n.jsx)(t.strong,{children:"x"})," is a ",(0,n.jsx)(t.strong,{children:"%Regex.Matcher"})," object then the built-in method ",(0,n.jsx)(t.strong,{children:"%ConstructClone"})," can be used to copy ",(0,n.jsx)(t.strong,{children:"x"})," ( ",(0,n.jsx)(t.strong,{children:"Set xnew = x.%ConstructClone()"})," ) . The state of the most recent match and any error value in the ",(0,n.jsx)(t.strong,{children:"Status"})," property are not cloned. The ",(0,n.jsx)(t.strong,{children:"%ConstructClone"})," method can be faster than creating a new Matcher with the same Pattern. The ",(0,n.jsx)(t.strong,{children:"%ConstructClone"})," method can just copy instructions for the matching engine rather than recompiling the original pattern string. On 8-bit systems ",(0,n.jsx)(t.strong,{children:"%ConstructClone"})," can just copy the Unicode versions of the Pattern and Text properties without need to do the character-by-character conversion from the NLS 8-bit character set into Unicode."]}),"\n",(0,n.jsxs)(t.p,{children:["None of the methods or operations in the ",(0,n.jsx)(t.strong,{children:"%Regex.Matcher"})," package return a ",(0,n.jsx)(t.strong,{children:"%Status"})," value. When an error is detected, these operations always throw the system exception thrown by the kernel code that interfaces to the ICU library. If a program wants to recover from a regular expression error then it is recommended that the code doing regular expression operations be surrounded with a ",(0,n.jsx)(t.strong,{children:"TRY {...}"})," block and that the error recovery be done in the corresponding ",(0,n.jsx)(t.strong,{children:"CATCH {...}"})," block. Note that a ",(0,n.jsx)(t.strong,{children:"TRY"})," block imposes no run-time performance overhead in situations where no error occurs."]}),"\n",(0,n.jsxs)(t.p,{children:["The methods and operations in a ",(0,n.jsx)(t.strong,{children:"%Regex.Matcher"})," object will catch any ",(0,n.jsxs)(t.regular,{expression:"",children:[" system error and will generate a ",(0,n.jsx)(t.strong,{children:"%Status"})," value that may better describe that error. That ",(0,n.jsx)(t.strong,{children:"%Status"})," value will be stored in the ",(0,n.jsx)(t.strong,{children:"Status"})," property of the ",(0,n.jsx)(t.strong,{children:"%Regex.Matcher"})," object and in the variable ",(0,n.jsx)(t.strong,{children:"%objlasterror"}),". After saving the ",(0,n.jsx)(t.strong,{children:"%Status"})," value, the original unmodified ",(0,n.jsxs)(t.regular,{expression:"",children:[" system exception will be rethrown. You may examine that ",(0,n.jsx)(t.strong,{children:"%Status"})," value by executing the following InterSystems IRIS Object Script command:",(0,n.jsx)(t.br,{}),"\n",(0,n.jsx)(t.strong,{children:"do $system.Status.DisplayError(%objlasterror)"})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["Some other system errors, like ",(0,n.jsxs)(t.string,{stack:"",children:[", are passed through the ",(0,n.jsx)(t.strong,{children:"%Regex.Matcher"})," methods without modification."]})]}),"\n",(0,n.jsxs)(t.p,{children:["Note that some ICU operation errors are not considered errors by the ",(0,n.jsx)(t.strong,{children:"%Regex.Matcher"})," package. Examples are evaluating the ",(0,n.jsx)(t.strong,{children:"Start"})," and ",(0,n.jsx)(t.strong,{children:"End"})," properties when the previous matching operation failed. In these cases ",(0,n.jsx)(t.strong,{children:"Start"})," and ",(0,n.jsx)(t.strong,{children:"End"})," have value -2 as a character position rather than throwing an error."]}),"\n",(0,n.jsx)(t.p,{children:"Examples:"}),"\n",(0,n.jsxs)(t.p,{children:['Regular expression that finds titles M., Mr., Mrs. and Ms. in a string: "\\bMr?s?\\."',(0,n.jsx)(t.br,{}),'\n"\\b" matches a break at the beginning (or ending) of a word',(0,n.jsx)(t.br,{}),'\n"M" matches an upper-case letter-M',(0,n.jsx)(t.br,{}),'\n"r?" matches 0 or 1 occurences of a lower-case letter-r',(0,n.jsx)(t.br,{}),'\n"s?" matches 0 or 1 occurences of a lower-case letter-s',(0,n.jsx)(t.br,{}),'\n"\\." matches a period character']}),"\n",(0,n.jsx)(t.p,{children:'USER>set matcher=##class(%Regex.Matcher).%New("\\bMr?s?.") USER>set matcher.Text="Mrs. Sally Jones, Mr. Mike McMurry, Ms. Amy Johnson, M. Maurice LaFrance" USER>while matcher.Locate() {write "Found ",matcher.Group," at position ",matcher.Start,!} Found Mrs. at position 1 Found Mr. at position 19 Found Ms. at position 37 Found M. at position 54 USER>write matcher.ReplaceAll("Dr.") Dr. Sally Jones, Dr. Mike McMurry, Dr. Amy Johnson, Dr. Maurice LaFrance USER>write matcher.ReplaceFirst("Dr.") Dr. Sally Jones, Mr. Mike McMurry, Ms. Amy Johnson, M. Maurice LaFrance'}),"\n",(0,n.jsx)(t.p,{children:'Regular expression that matches phone numbers of the form "(aaa) bbb-cccc" or of the form "aaa-bbb-ccc": (\\((\\d{3})\\)\\s*|\\b(\\d{3})-)(\\d{3})-(\\d{4})\\b'}),"\n",(0,n.jsx)(t.p,{children:'(\\((\\d{3})\\)\\s*|\\b(\\d{3})-) matches either prefix "(aaa) " or prefix "aaa-". The outer parentheses capture this entire prefix as Group(1) and limits the range of the two prefix subpatterns in alternation by the | operator.'}),"\n",(0,n.jsxs)(t.p,{children:['\\((\\d{3})\\)\\s* matches prefix "(aaa) "',(0,n.jsx)(t.br,{}),'\n\\( and \\) and \\s* match "(" and ")" and zero or more spaces, respectively',(0,n.jsx)(t.br,{}),"\n\\d{3} matches exactly 3 digits",(0,n.jsx)(t.br,{}),"\n(\\d{3}) the parentheses capture these 3 digits as Group(2)"]}),"\n",(0,n.jsxs)(t.p,{children:['\\b(\\d{3})- matches prefix "aaa-"',(0,n.jsx)(t.br,{}),'\n\\b this "break" allows no other digit or letter immediately before the 3 digits',(0,n.jsx)(t.br,{}),"\n(\\d{3}) captures these 3 digits as Group(3)"]}),"\n",(0,n.jsx)(t.p,{children:'(\\d{3})- matches "bbb-" and captures these 3 digits as Group(4)'}),"\n",(0,n.jsx)(t.p,{children:'(\\d{4}) matches "cccc" and captures these 4 digits as Group(5)'}),"\n",(0,n.jsx)(t.p,{children:'\\b this final "break" makes sure the match is not immediately followed by another digit or a letter'}),"\n",(0,n.jsx)(t.p,{children:'ListPhones(s,a) PUBLIC {     ; a is a reference variable.  On return     ; a contains the number of phone numbers in string s     ; a(i) contains just the digits of the i\'th phone number     kill a     set a = 0     set m=##class(%Regex.Matcher).%New("(((\\d{3}))\\s*|\\b(\\d{3})-)(\\d{3})-(\\d{4})\\b")     set m.Text = s     while m.Locate() {         ; Get first three digits from Group(2) or Group(3)         if m.Start(2)>0 { set n=m.Group(2) }         else { set n=m.Group(3) }         ; Concatenate middle 3 digits and final 4 digits         set n = n_m.Group(4) _ m.Group(5)         ; Insert digit string into array a         set a($increment(a)) = n     } }  ListPhones2(s,a) PUBLIC {     ; a is a reference variable.  On return     ; a contains the number of phone numbers in string s     ; a(i) is i\'th phone number formatted as "(aaa)bbb-cccc"     ; Note, no blank after "(aaa)"     kill a     set a = 0     set m=##class(%Regex.Matcher).%New("(((\\d{3}))\\s*|\\b(\\d{3})-)(\\d{3})-(\\d{4})\\b")     set m.Text = s     while m.Locate() {         ; Digits are concatentation of Capture groups 2,3,4,5         ; One of group 2 or 3 is the empty string when group is not used         set a($increment(a)) = m.SubstituteIn("($2$3)$4-$5")     } }  USER>write ^t2 Call 617-555-1212 about item number 61773-333-4569 USER>do ListPhones^ListPhones(^t2,.a) USER>zwrite a a=1 a(1)=617555121  USER>write ^t3 Phone (212) 334-5397, (321)770-2121 and 603-646-0110 USER>do ListPhones^ListPhones(^t3,.a) USER>zwrite a a=3 a(1)=2123345397 a(2)=3217702121 a(3)=6036460110  USER>write ^t3 Phone (212) 334-5397, (321)770-2121 and 603-646-0110 USER>do ListPhones2^ListPhones(^t3,.a) USER>zwrite a a=3 a(1)="(212)334-5397" a(2)="(321)770-2121" a(3)="(603)646-0110"'}),"\n",(0,n.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(t.h3,{id:"pattern",children:"Pattern"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Pattern As %String;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The property ",(0,n.jsx)(t.strong,{children:"Pattern"})," is the string representation of the regular expression of the Matcher. Assigning to ",(0,n.jsx)(t.strong,{children:"Pattern"})," resets all saved state concerning the last matching operation."]}),"\n",(0,n.jsx)(t.p,{children:"On an installation using an NLS 8-bit character set different from Latin-1 then you you must be careful with patterns using a character class of the form [x-y] where x or y are national usage characters not in Latin-1. All regular expression matching is done in Unicode so characters x and y are converted Unicode. The character class [x-y] reprsents all characters between the Unicode translations of x and y and not the NLS 8-bit characters between x and y."}),"\n",(0,n.jsx)(t.h3,{id:"regexid",children:"RegexId"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property RegexId [ Internal, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"RegexId is an internal value that is mapped to the regular expression matcher object supported by the ICU libraries."}),"\n",(0,n.jsx)(t.h3,{id:"text",children:"Text"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Text As %String;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The property ",(0,n.jsx)(t.strong,{children:"Text"})," is the string to which the regular expression will be applied. Assigning to ",(0,n.jsx)(t.strong,{children:"Text"})," resets all saved state resulting from the most recent match operation. On installations using an 8-bit character code, the internal representation of ",(0,n.jsx)(t.strong,{children:"Text"})," is converted to Unicode. Therefore, on an installation using 8-bit characters the maximum length of the ",(0,n.jsx)(t.strong,{children:"Text"})," property is only half the maximum string length supported by that installation."]}),"\n",(0,n.jsx)(t.h3,{id:"textbuffer",children:"TextBuffer"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property TextBuffer As %String [ Internal, Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"TextBuffer is used only on 8-bit systems. It is a copy of Text as Unicode bytes."}),"\n",(0,n.jsx)(t.h3,{id:"start",children:"Start"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Start As %Integer [ MultiDimensional, ReadOnly ];\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The property ",(0,n.jsx)(t.strong,{children:"Start"})," without a subscript contains the character position in property ",(0,n.jsx)(t.strong,{children:"Text"})," of the first character of the string found by the last match. If the matched string is the empty string then ",(0,n.jsx)(t.strong,{children:"Start"})," is the character position one beyond where the empty string was located (and the property ",(0,n.jsx)(t.strong,{children:"Start"})," equals the property ",(0,n.jsx)(t.strong,{children:"End"}),".)"]}),"\n",(0,n.jsxs)(t.p,{children:["The value of ",(0,n.jsx)(t.strong,{children:"Start(i)"})," when subscripted with an integer ",(0,n.jsx)(t.strong,{children:"i"})," between 1 and ",(0,n.jsx)(t.strong,{children:"GroupCount"})," is the character position of the first character of the last string successfully captured by capture group ",(0,n.jsx)(t.strong,{children:"i"}),". If the captured string is the empty string then ",(0,n.jsx)(t.strong,{children:"Start(i)"})," is the character position one beyond where the empty string that was captured (and the property ",(0,n.jsx)(t.strong,{children:"Start(i)"})," equals the property ",(0,n.jsx)(t.strong,{children:"End(i)"}),".)"]}),"\n",(0,n.jsxs)(t.p,{children:["The value of ",(0,n.jsx)(t.strong,{children:"Start(i)"})," is -1 if capture group ",(0,n.jsx)(t.strong,{children:"i"})," did not participate in the last match. The values of ",(0,n.jsx)(t.strong,{children:"Start"})," and ",(0,n.jsx)(t.strong,{children:"Start(i)"})," are -2 if the last match attempt failed."]}),"\n",(0,n.jsxs)(t.p,{children:["Note: In addition to integer subscripts between 1 and ",(0,n.jsx)(t.strong,{children:"GroupCount"}),", the value of ",(0,n.jsx)(t.strong,{children:"Start(0)"})," is identical to the value of ",(0,n.jsx)(t.strong,{children:"Start"})," without a subscript. When the property ",(0,n.jsx)(t.strong,{children:"Start(...)"})," is subscripted with values not described above then the attempt to evaluate the property ",(0,n.jsx)(t.strong,{children:"Start(...)"})," is undefined."]}),"\n",(0,n.jsx)(t.h3,{id:"end",children:"End"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property End As %Integer [ MultiDimensional, ReadOnly ];\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The property ",(0,n.jsx)(t.strong,{children:"End"})," without a subscript contains the character position in property ",(0,n.jsx)(t.strong,{children:"Text"})," one beyond of the final character of the string found by the last match."]}),"\n",(0,n.jsxs)(t.p,{children:["The value of ",(0,n.jsx)(t.strong,{children:"End(i)"})," when subscripted with an integer ",(0,n.jsx)(t.strong,{children:"i"})," between 1 and ",(0,n.jsx)(t.strong,{children:"GroupCount"})," is the character position one beyond the of the last character of the last string successfully captured by capture group ",(0,n.jsx)(t.strong,{children:"i"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["The value of ",(0,n.jsx)(t.strong,{children:"End(i)"})," is -1 if capture group ",(0,n.jsx)(t.strong,{children:"i"})," did not participate in the last match. The values of ",(0,n.jsx)(t.strong,{children:"End"})," and ",(0,n.jsx)(t.strong,{children:"End(i)"})," are -2 if the last match attempt failed."]}),"\n",(0,n.jsxs)(t.p,{children:["Note: In addition to integer subscripts between 1 and ",(0,n.jsx)(t.strong,{children:"GroupCount"}),", the value of ",(0,n.jsx)(t.strong,{children:"End(0)"})," is identical to the value of ",(0,n.jsx)(t.strong,{children:"End"})," without a subscript. When the property ",(0,n.jsx)(t.strong,{children:"End(...)"})," is subscripted with values not described above then the attempt to evaluate the property ",(0,n.jsx)(t.strong,{children:"End(...)"})," is undefined."]}),"\n",(0,n.jsx)(t.h3,{id:"group",children:"Group"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Group As %String [ MultiDimensional, ReadOnly ];\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The property ",(0,n.jsx)(t.strong,{children:"Group"})," without a subscript contains the string found by the last match."]}),"\n",(0,n.jsxs)(t.p,{children:["The value of ",(0,n.jsx)(t.strong,{children:"Group(i)"})," when subscripted with an integer ",(0,n.jsx)(t.strong,{children:"i"})," between 1 and ",(0,n.jsx)(t.strong,{children:"GroupCount"})," is the last string successfully captured by capture group ",(0,n.jsx)(t.strong,{children:"i"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["If the last match operation was unsuccessful or if the specified capture group was not used during the last match operation then ",(0,n.jsx)(t.strong,{children:"Group"})," and ",(0,n.jsx)(t.strong,{children:"Group(i)"})," contain the empty string. Note that ",(0,n.jsx)(t.strong,{children:"End"})," and ",(0,n.jsx)(t.strong,{children:"End(i)"})," have negative values when the last match operation did not use the specified capture group or did not succeed in matching."]}),"\n",(0,n.jsxs)(t.p,{children:["Note: In addition to integer subscripts between 1 and ",(0,n.jsx)(t.strong,{children:"GroupCount"}),", the value of ",(0,n.jsx)(t.strong,{children:"Group(0)"})," is identical to the value of ",(0,n.jsx)(t.strong,{children:"Group"})," without a subscript. When the property ",(0,n.jsx)(t.strong,{children:"Group(...)"})," is subscripted with values not described above then the attempt to evaluate the property ",(0,n.jsx)(t.strong,{children:"Group(...)"})," is undefined."]}),"\n",(0,n.jsx)(t.h3,{id:"hitend",children:"HitEnd"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property HitEnd As %Boolean [ Calculated, ReadOnly ];\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The property ",(0,n.jsx)(t.strong,{children:"HitEnd"})," is true if the most recent matching operation touched the end of property ",(0,n.jsx)(t.strong,{children:"Text"})," at any point during its processing. In this case, appending additional input characters to the ",(0,n.jsx)(t.strong,{children:"Text"})," property could change the result of that match attempt."]}),"\n",(0,n.jsx)(t.h3,{id:"previousmatchend",children:"PreviousMatchEnd"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property PreviousMatchEnd As %Integer [ Private ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"PreviousMatchEnd is the End value of the previous match. It has value -1 if there is no current match and value 1 if there is a current match but no previous match."}),"\n",(0,n.jsx)(t.h3,{id:"groupcount",children:"GroupCount"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property GroupCount As %Integer [ ReadOnly ];\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The property ",(0,n.jsx)(t.strong,{children:"GroupCount"})," contains the number of capturing groups in the regular expression ",(0,n.jsx)(t.strong,{children:"Pattern"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"requiredprefix",children:"RequiredPrefix"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property RequiredPrefix As %String [ Deprecated, Internal, ReadOnly ];\n"})}),"\n",(0,n.jsx)(t.p,{children:"This property is DEPRECATED and is always the empty string."}),"\n",(0,n.jsxs)(t.p,{children:["The property ",(0,n.jsx)(t.strong,{children:"RequiredPrefix"})," contains a string which, if nonempty, is a sequence of characters which must occur at the start of any string which matches the ",(0,n.jsx)(t.strong,{children:"Pattern"}),". A nonempty ",(0,n.jsx)(t.strong,{children:"RequiredPrefix"})," can be used to search a long string for a favorable position to start a Regular Expression matching operation."]}),"\n",(0,n.jsxs)(t.p,{children:["In many cases the heuristics used by the ICU library to determine the ",(0,n.jsx)(t.strong,{children:"RequiredPrefix"})," do not include all possible characters of such a prefix. When a prefix cannot be determined, ",(0,n.jsx)(t.strong,{children:"RequiredPrefix"})," will contain the empty string. ",(0,n.jsx)(t.strong,{children:"RequiredPrefix"})," will also contain the empty string if the ICU library used by InterSystems IRIS does not support the RequiredPrefix feature."]}),"\n",(0,n.jsx)(t.h3,{id:"operationlimit",children:"OperationLimit"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property OperationLimit As %Integer;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The property ",(0,n.jsx)(t.strong,{children:"OperationLimit"})," provides a way to limit the time taken by a regular expression match. The default value for ",(0,n.jsx)(t.strong,{children:"OperationLimit"})," is 0 which indicates that there is no limit. Setting ",(0,n.jsx)(t.strong,{children:"OperationLimit"})," to a positive integer will cause a match operation to signal a TimeOut error after the specified number of clusters of steps by the match engine."]}),"\n",(0,n.jsx)(t.p,{children:"Correspondence with actual processor time will depend on the speed of the processor and the details of the specific pattern, but cluster size is chosen such each cluster's execution time will typically be on the order of milliseconds."}),"\n",(0,n.jsx)(t.h3,{id:"status",children:"Status"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Property Status As %Status;\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The property ",(0,n.jsx)(t.strong,{children:"Status"})," contains a ",(0,n.jsx)(t.strong,{children:"%Status"})," value which may provide more information about the last System exception thrown by this object. It is initially ",(0,n.jsx)(t.strong,{children:"$$$OK"}),". Its value remains unchanged by any successful operation. The ",(0,n.jsx)(t.strong,{children:"Status"})," property is changed only when an error is thrown the kernel functions implementing %Regex.Matcher or by a COS ",(0,n.jsx)(t.strong,{children:"Set"})," assignment to the ",(0,n.jsx)(t.strong,{children:"Status"})," property done by the user."]}),"\n",(0,n.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(t.h3,{id:"error",children:"Error"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Error(excep As %Exception.AbstractException) As %ObjectHandle [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"Creates %Regex application exception from system exception"}),"\n",(0,n.jsx)(t.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:'Method %OnNew(pattern As %String = "", text As %String = "") As %Status [ Internal, Private ]\n'})}),"\n",(0,n.jsx)(t.p,{children:"The class method %New creates a new Matcher."}),"\n",(0,n.jsx)(t.p,{children:"The argument pattern contains the regular expression. The property Pattern is set to the value of this argument"}),"\n",(0,n.jsx)(t.p,{children:"The argument text is optional. If defined, it contains the new value of the property Text, which is the string to which the regular expression Pattern will be applied."}),"\n",(0,n.jsx)(t.h3,{id:"onclose",children:"%OnClose"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnClose() As %Status [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"The %OnClose() method frees the URegularExpression handle stored in i%RegexID when a %Regex.Matcher object is deleted."}),"\n",(0,n.jsx)(t.h3,{id:"patternset",children:"PatternSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method PatternSet(pattern As %String) As %Status\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"PatternSet"})," method implements ",(0,n.jsx)(t.strong,{children:"Set"})," assignments to the ",(0,n.jsx)(t.strong,{children:"Pattern"})," property."]}),"\n",(0,n.jsx)(t.h3,{id:"textset",children:"TextSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method TextSet(text As %String) As %Status\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"TextSet"})," method implements ",(0,n.jsx)(t.strong,{children:"Set"})," assignments to the ",(0,n.jsx)(t.strong,{children:"Text"})," property."]}),"\n",(0,n.jsx)(t.h3,{id:"startget",children:"StartGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method StartGet(group As %Integer = 0) As %Integer\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"StartGet"})," method implements the ",(0,n.jsx)(t.strong,{children:"Start"})," property."]}),"\n",(0,n.jsx)(t.h3,{id:"endget",children:"EndGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method EndGet(group As %Integer = 0) As %Integer\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"EndGet"})," method implements the ",(0,n.jsx)(t.strong,{children:"End"})," property."]}),"\n",(0,n.jsx)(t.h3,{id:"groupget",children:"GroupGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method GroupGet(group As %Integer = 0) As %String\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"GroupGet"})," method implements the ",(0,n.jsx)(t.strong,{children:"Group"})," property."]}),"\n",(0,n.jsx)(t.h3,{id:"hitendget",children:"HitEndGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method HitEndGet() As %Boolean\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"HitEndGet"})," method implements the ",(0,n.jsx)(t.strong,{children:"HitEnd"})," property."]}),"\n",(0,n.jsx)(t.h3,{id:"groupcountget",children:"GroupCountGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method GroupCountGet() As %Integer\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"GroupCountGet"})," method implements the ",(0,n.jsx)(t.strong,{children:"GroupCount"})," property."]}),"\n",(0,n.jsx)(t.h3,{id:"requiredprefixget",children:"RequiredPrefixGet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method RequiredPrefixGet() As %String\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"RequiredPrefixGet"})," method implements the ",(0,n.jsx)(t.strong,{children:"RequiredPrefix"})," property."]}),"\n",(0,n.jsx)(t.h3,{id:"operationlimitset",children:"OperationLimitSet"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method OperationLimitSet(limit) As %Status\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"OperationLimitSet"})," method implements the side effects of doing a ",(0,n.jsx)(t.strong,{children:"Set"})," assignment to change the value of the ",(0,n.jsx)(t.strong,{children:"OperationLimit"})," property."]}),"\n",(0,n.jsx)(t.h3,{id:"laststatus",children:"LastStatus"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"ClassMethod LastStatus() As %Status\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The class method ",(0,n.jsx)(t.strong,{children:"LastStatus"})," returns the %Status value containing additional details about the most recent ",(0,n.jsxs)(t.regular,{expression:"",children:[" system error. If a ",(0,n.jsx)(t.strong,{children:"%Regex.Matcher"})," object encounters a ",(0,n.jsxs)(t.regular,{expression:"",children:[" error then this status is already available in the ",(0,n.jsx)(t.strong,{children:"Status"})," property of the object. Executing",(0,n.jsx)(t.br,{}),"\nDo $SYSTEM.Status.DisplayError(##class(%Regex.Matcher).LastStatus())",(0,n.jsx)(t.br,{}),"\nis useful when debugging a ",(0,n.jsxs)(t.regular,{expression:"",children:[" error following a call on ",(0,n.jsx)(t.strong,{children:"$MATCH"}),", ",(0,n.jsx)(t.strong,{children:"$LOCATE"})," or ",(0,n.jsx)(t.strong,{children:"##class(%Regex.Matcher).%New"}),"(x) where a ",(0,n.jsx)(t.strong,{children:"%Regex.Matcher"})," oref value is not available."]})]})]})]}),"\n",(0,n.jsx)(t.h3,{id:"match",children:"Match"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Match(text As %String) As %Boolean\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The method ",(0,n.jsx)(t.strong,{children:"Match"})," returns true if the entire string ",(0,n.jsx)(t.strong,{children:"Text"})," is matched by ",(0,n.jsx)(t.strong,{children:"Pattern"}),"; it returns false if it does not match."]}),"\n",(0,n.jsxs)(t.p,{children:["The argument ",(0,n.jsx)(t.strong,{children:"text"})," is optional. If the argument ",(0,n.jsx)(t.strong,{children:"text"})," is defined then the property ",(0,n.jsx)(t.strong,{children:"Text"})," is set to its value before the match is executed."]}),"\n",(0,n.jsx)(t.h3,{id:"lookingat",children:"LookingAt"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method LookingAt(position As %Integer = 1) As %Boolean\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The method ",(0,n.jsx)(t.strong,{children:"LookingAt"})," attempts to find a match in the property ",(0,n.jsx)(t.strong,{children:"Text"})," that must start at a particular character position. The match need not extend to the end of ",(0,n.jsx)(t.strong,{children:"Text"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["The argument ",(0,n.jsx)(t.strong,{children:"position"})," gives starting character position of the attempted match."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"LookingAt"})," returns 1 if the match is found; 0 otherwise."]}),"\n",(0,n.jsx)(t.h3,{id:"locate",children:"Locate"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method Locate(position As %Integer) As %Boolean\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The method ",(0,n.jsx)(t.strong,{children:"Locate"})," finds a match for the regular expression ",(0,n.jsx)(t.strong,{children:"Pattern"})," in the text string ",(0,n.jsx)(t.strong,{children:"Text"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["If the optional argument ",(0,n.jsx)(t.strong,{children:"position"})," is defined as an integer 1 or greater then the search for a match begins at that character position of ",(0,n.jsx)(t.strong,{children:"Text"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["If the argument ",(0,n.jsx)(t.strong,{children:"position"})," is not defined then the search for the match begins the character position following the previous match."]}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Locate"})," returns 1 if the match is found; 0 otherwise."]}),"\n",(0,n.jsx)(t.h3,{id:"resetposition",children:"ResetPosition"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ResetPosition(position As %Integer = 1)\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The method ",(0,n.jsx)(t.strong,{children:"ResetPosition"})," resets any saved state from the previous match. It also causes the next call to the method ",(0,n.jsx)(t.strong,{children:"Locate()"})," without an argument to begin at the specified character position."]}),"\n",(0,n.jsxs)(t.p,{children:["The argument ",(0,n.jsx)(t.strong,{children:"position"})," is the character position from which the next call to ",(0,n.jsx)(t.strong,{children:"Locate()"})," without an argument will begin match attempts."]}),"\n",(0,n.jsx)(t.h3,{id:"replaceall",children:"ReplaceAll"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ReplaceAll(replacement As %String) As %String\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The method ",(0,n.jsx)(t.strong,{children:"ReplaceAll"})," returns a modified copy of the property ",(0,n.jsx)(t.strong,{children:"Text"}),". It replaces every substring of ",(0,n.jsx)(t.strong,{children:"Text"})," that matches the ",(0,n.jsx)(t.strong,{children:"Pattern"})," with a replacement string. Portions of ",(0,n.jsx)(t.strong,{children:"Text"})," that are not matched are copied without change. The value of ",(0,n.jsx)(t.strong,{children:"ReplaceAll"})," is the resulting string. The property ",(0,n.jsx)(t.strong,{children:"Text"})," is not modified."]}),"\n",(0,n.jsxs)(t.p,{children:["The argument ",(0,n.jsx)(t.strong,{children:"replacement"})," supplies the string to replace each matched region. The replacement string may contain references to capture groups which take the form of ",(0,n.jsx)(t.strong,{children:"$1"}),", ",(0,n.jsx)(t.strong,{children:"$2"}),", etc. The replacement string may reference the entire matched region with ",(0,n.jsx)(t.strong,{children:"$0"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"replacefirst",children:"ReplaceFirst"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method ReplaceFirst(replacement As %String) As %String\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The method ",(0,n.jsx)(t.strong,{children:"ReplaceFirst"})," returns a modified copy of the property ",(0,n.jsx)(t.strong,{children:"Text"}),". It replaces the first substring of ",(0,n.jsx)(t.strong,{children:"Text"})," that matches the ",(0,n.jsx)(t.strong,{children:"Pattern"})," with a replacement string. Portions of ",(0,n.jsx)(t.strong,{children:"Text"})," that are not matched are copied without change. The value of ",(0,n.jsx)(t.strong,{children:"ReplaceFirst"})," is the resulting string. The property ",(0,n.jsx)(t.strong,{children:"Text"})," is not modified."]}),"\n",(0,n.jsxs)(t.p,{children:["The argument ",(0,n.jsx)(t.strong,{children:"replacement"})," supplies the string to replace the matched region. The replacement string may contain references to capture groups which take the form of ",(0,n.jsx)(t.strong,{children:"$1"}),", ",(0,n.jsx)(t.strong,{children:"$2"}),", etc. The replacement string may reference the entire matched region with ",(0,n.jsx)(t.strong,{children:"$0"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"substitutein",children:"SubstituteIn"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method SubstituteIn(text As %String) As %String\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The method ",(0,n.jsx)(t.strong,{children:"SubstituteIn"})," returns the string that results from substituting capturing groups from the most recent regular expression match into components of the argument ",(0,n.jsx)(t.strong,{children:"Text"}),". This method is undefined if the most recent regular expression match operation was not successful."]}),"\n",(0,n.jsxs)(t.p,{children:["This method can be used as a low level step in regular expression replacement. It does not modify the property ",(0,n.jsx)(t.strong,{children:"Text"}),". For example, the method ",(0,n.jsx)(t.strong,{children:"..ReplaceFirst(x)"})," is equivalent to:"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsxs)(t.strong,{children:["Quit:'..Locate(1) ..Text Quit $Extract(..Text,1,..Start-1)",(0,n.jsx)(t.em,{children:"..SubstituteIn(x)"}),"          $Extract(..Text,..End,*)"]})}),"\n",(0,n.jsxs)(t.p,{children:["The argument ",(0,n.jsx)(t.strong,{children:"Text"})," supplies the string that will be modified by the matched region and then returned. The string may contain references to capture groups which take the form of ",(0,n.jsx)(t.strong,{children:"$1"}),", ",(0,n.jsx)(t.strong,{children:"$2"}),", etc. The string may reference the entire matched region with ",(0,n.jsx)(t.strong,{children:"$0"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"splitintolist",children:"SplitIntoList"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method SplitIntoList() As %List [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"The method SplitIntoList separates the Text string into fields. Matches by the regular expression Pattern identifies delimiters that separate the fields. The contents of Text between the matches become fields. The return value of the method is a $LIST where each List element is a field."}),"\n",(0,n.jsx)(t.h3,{id:"splitintoarray",children:"SplitIntoArray"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method SplitIntoArray(ByRef array) As %Integer [ Internal, Private ]\n"})}),"\n",(0,n.jsx)(t.p,{children:"The method SplitIntoArray separates the Text string into fields. Matches by the regular expression Pattern identifies delimiters that separate the fields. The contents of Text between the matches become fields. The return value of the method is an integer which is a count of the number fields."}),"\n",(0,n.jsx)(t.p,{children:"The argument array is a reference to a local variable which is an array to contain the values of the fields. array(1) is assigned the first field, array(2) is assigned the second field, etc."}),"\n",(0,n.jsx)(t.h3,{id:"onconstructclone",children:"%OnConstructClone"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-objectscript-class",children:"Method %OnConstructClone(obj As Matcher, deep As %Boolean, ByRef cloned As %String) As %Status [ Internal, Private ]\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"%OnConstructClone"})," method clones the ICU library specific values in a %Regex.Matcher object. It also resets the ",(0,n.jsx)(t.strong,{children:"Status"})," and the state of the last match attempt."]})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>o});var n=r(96540);const s={},i=n.createContext(s);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);