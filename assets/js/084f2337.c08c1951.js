"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[30826],{93852:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>i,default:()=>o,frontMatter:()=>r,toc:()=>l});var t=s(74848),a=s(28453);const r={pagination_prev:null,pagination_next:null},i="%Monitor.Adaptor",l=[{value:"Parameters",id:"parameters",level:2},{value:"APPLICATION;",id:"application",level:3},{value:"GROUPNAME;",id:"groupname",level:3},{value:"INDEX;",id:"index",level:3},{value:"SECURITYRESOURCE;",id:"securityresource",level:3},{value:"Methods",id:"methods",level:2},{value:"Startup",id:"startup",level:3},{value:"Shutdown",id:"shutdown",level:3},{value:"Initialize",id:"initialize",level:3},{value:"GetSample",id:"getsample",level:3},{value:"%OnNew",id:"onnew",level:3}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"monitoradaptor",children:"%Monitor.Adaptor"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Class %Monitor.Adaptor Extends %RegisteredObject [ Abstract, Not ProcedureBlock, System = 3 ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Monitor enabling class. Users inherit from this class to register as a Monitor class."}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(n.h3,{id:"application",children:"APPLICATION;"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter APPLICATION;\n"})}),"\n",(0,t.jsx)(n.p,{children:"User name for application. Default = Package name"}),"\n",(0,t.jsx)(n.h3,{id:"groupname",children:"GROUPNAME;"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter GROUPNAME;\n"})}),"\n",(0,t.jsx)(n.p,{children:"User name for this group of metrics. Default = classname"}),"\n",(0,t.jsx)(n.h3,{id:"index",children:"INDEX;"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter INDEX;\n"})}),"\n",(0,t.jsx)(n.p,{children:'Comma separated list of properties to act as primary key for instances. Default = ""'}),"\n",(0,t.jsx)(n.h3,{id:"securityresource",children:"SECURITYRESOURCE;"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter SECURITYRESOURCE;\n"})}),"\n",(0,t.jsx)(n.p,{children:'Comma separated list of Resources required to view the CSP page. Default = ""'}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"startup",children:"Startup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method Startup() As %Status\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The Projection creates metadata and the sample persistent class USER MAY IMPLEMENT THIS METHOD",(0,t.jsx)(n.br,{}),"\nThis method is called once when the control object is created at the beginning of sampling. The user may initialize the control class."]}),"\n",(0,t.jsx)(n.h3,{id:"shutdown",children:"Shutdown"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method Shutdown() As %Status\n"})}),"\n",(0,t.jsxs)(n.p,{children:["USER MAY IMPLEMENT THIS METHOD",(0,t.jsx)(n.br,{}),"\nThis method is called once when the control object is closed at the end of sampling. The user may cleanup the control class."]}),"\n",(0,t.jsx)(n.h3,{id:"initialize",children:"Initialize"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method Initialize() As %Status\n"})}),"\n",(0,t.jsxs)(n.p,{children:["USER MAY IMPLEMENT THIS METHOD",(0,t.jsx)(n.br,{}),"\nThis method is called to initialize the control for the first sample of a set of sample instances.",(0,t.jsx)(n.br,{}),"\nA return code of $$$OK indicates there is a new sample instance.",(0,t.jsx)(n.br,{}),"\nA return code of 0 indicates there is no sample instance."]}),"\n",(0,t.jsx)(n.h3,{id:"getsample",children:"GetSample"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method GetSample() As %Status [ Abstract ]\n"})}),"\n",(0,t.jsxs)(n.p,{children:["USER MUST IMPLEMENT THIS METHOD",(0,t.jsx)(n.br,{}),"\nThis method is called to initialize and populate properties for successive sample instances.",(0,t.jsx)(n.br,{}),"\nA return code of $$$OK indicates there is a new sample instance.",(0,t.jsx)(n.br,{}),"\nA return code of 0 indicates there is no sample instance."]}),"\n",(0,t.jsx)(n.p,{children:'NOTE: If an INDEX is specified, i.e. we expect to collect multiple samples for each sampling period, then the System Monitor will loop calling GetSample() until "0" is returned. Users code MUST return "0" when all indexed sample have been collected for a period, in order to terminate the loop.'}),"\n",(0,t.jsx)(n.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-objectscript-class",children:"Method %OnNew() As %Status [ Private ]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Initialize the collection."})]})}function o(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var t=s(96540);const a={},r=t.createContext(a);function i(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);