"use strict";(self.webpackChunkdocs_intersystems=self.webpackChunkdocs_intersystems||[]).push([[35611],{15957:(e,n,s)=>{s.r(n),s.d(n,{contentTitle:()=>a,default:()=>d,frontMatter:()=>i,toc:()=>r});var l=s(74848),t=s(28453);const i={pagination_prev:null,pagination_next:null},a="%SOAP.WSSC.SecurityContextToken",r=[{value:"Parameters",id:"parameters",level:2},{value:"XMLFORMAT",id:"xmlformat",level:3},{value:"NAMESPACE",id:"namespace",level:3},{value:"ELEMENTQUALIFIED",id:"elementqualified",level:3},{value:"XMLPREFIX",id:"xmlprefix",level:3},{value:"Properties",id:"properties",level:2},{value:"Identifier",id:"identifier",level:3},{value:"Instance",id:"instance",level:3},{value:"any",id:"any",level:3},{value:"ExpiresInSeconds",id:"expiresinseconds",level:3},{value:"Key",id:"key",level:3},{value:"AppliesTo",id:"appliesto",level:3},{value:"MustNotSendCancel",id:"mustnotsendcancel",level:3},{value:"Methods",id:"methods",level:2},{value:"%OnNew",id:"onnew",level:3},{value:"Save",id:"save",level:3},{value:"Open",id:"open",level:3},{value:"Load",id:"load",level:3},{value:"Copy",id:"copy",level:3},{value:"Log",id:"log",level:3},{value:"Remove",id:"remove",level:3},{value:"RemoveAll",id:"removeall",level:3},{value:"MakeFault",id:"makefault",level:3},{value:"Create",id:"create",level:3},{value:"InitializeKey",id:"initializekey",level:3},{value:"ValidateKey",id:"validatekey",level:3},{value:"ValidateElement",id:"validateelement",level:3},{value:"Reset",id:"reset",level:3},{value:"Equals",id:"equals",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"soapwsscsecuritycontexttoken",children:"%SOAP.WSSC.SecurityContextToken"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Class %SOAP.WSSC.SecurityContextToken Extends (%SOAP.WST.AbstractToken, %SOAP.Security.Element) [ System = 4 ]\n"})}),"\n",(0,l.jsx)(n.p,{children:"SecurityContextToken from WS-SecureConversation 1.3."}),"\n",(0,l.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,l.jsx)(n.h3,{id:"xmlformat",children:"XMLFORMAT"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter XMLFORMAT = "literal";\n'})}),"\n",(0,l.jsx)(n.h3,{id:"namespace",children:"NAMESPACE"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter NAMESPACE = "http://docs.oasis-open.org/ws-sx/ws-secureconversation/200512";\n'})}),"\n",(0,l.jsx)(n.h3,{id:"elementqualified",children:"ELEMENTQUALIFIED"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Parameter ELEMENTQUALIFIED = 1;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"xmlprefix",children:"XMLPREFIX"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:'Parameter XMLPREFIX = "wsc";\n'})}),"\n",(0,l.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,l.jsx)(n.h3,{id:"identifier",children:"Identifier"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Property Identifier As %xsd.anyURI;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"instance",children:"Instance"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:'Property Instance As %String(MAXLEN = "");\n'})}),"\n",(0,l.jsx)(n.h3,{id:"any",children:"any"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:'Property any As %XML.ElementExtension(XMLPROJECTION = "group");\n'})}),"\n",(0,l.jsx)(n.h3,{id:"expiresinseconds",children:"ExpiresInSeconds"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:'Property ExpiresInSeconds As %Integer(XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,l.jsx)(n.p,{children:"The expiration in seconds since December 31, 1840"}),"\n",(0,l.jsx)(n.h3,{id:"key",children:"Key"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:'Property Key As %Binary(XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,l.jsx)(n.p,{children:"The symmetric key to be used."}),"\n",(0,l.jsx)(n.h3,{id:"appliesto",children:"AppliesTo"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:'Property AppliesTo As %xsd.anyURI(XMLPROJECTION = "none") [ Internal ];\n'})}),"\n",(0,l.jsx)(n.p,{children:"The endpoint of the web service to which this token applies"}),"\n",(0,l.jsx)(n.h3,{id:"mustnotsendcancel",children:"MustNotSendCancel"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:'Property MustNotSendCancel As %Boolean(XMLPROJECTION = "none") [ InitialExpression = 0, Internal ];\n'})}),"\n",(0,l.jsx)(n.p,{children:"If MustNotSendCancel is true, then token may nopt be cancelled."}),"\n",(0,l.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,l.jsx)(n.h3,{id:"onnew",children:"%OnNew"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:'Method %OnNew(initvalue As %String = "") As %Status [ Internal ]\n'})}),"\n",(0,l.jsx)(n.h3,{id:"save",children:"Save"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Method Save() As %Status [ Internal ]\n"})}),"\n",(0,l.jsx)(n.p,{children:'Save this SecurityContextToken in a system wide global. The global format is: ^SYS("SOAPContext",Identifier,Instance)=$lb(type,ExpiresInSeconds,Key,AppliesTo,any,wsuId as $list,MustNotSendCancel) The index for cleanup is ^SYS("SOAPContext",0,ExpiresInSeconds,Identifier,Instance)="" where Instance is $c(0) if no Instance and type is always = 1 for SecurityContextToken.'}),"\n",(0,l.jsx)(n.h3,{id:"open",children:"Open"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:'ClassMethod Open(identifier As %xsd.anyURI, instance As %String = "") As %SOAP.WSSC.SecurityContextToken [ Internal ]\n'})}),"\n",(0,l.jsx)(n.p,{children:"Retrieve the SecurityContextToken with this identifier for system wide global. See Save method description for details."}),"\n",(0,l.jsx)(n.h3,{id:"load",children:"Load"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Method Load(keepId As %Boolean = 1) As %Boolean [ Internal ]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Retrieve the SecurityContextToken properties for token with this identifier for system wide global. See Save method description for details."}),"\n",(0,l.jsx)(n.h3,{id:"copy",children:"Copy"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Method Copy(sct As %SOAP.WSSC.SecurityContextToken) [ Internal ]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Copy the specified token to this token"}),"\n",(0,l.jsx)(n.h3,{id:"log",children:"Log"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Log(terminal As %Boolean = 0) [ Internal ]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Log list of SecurityContextTokens"}),"\n",(0,l.jsx)(n.h3,{id:"remove",children:"Remove"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Method Remove() [ Internal ]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Remove this token from context list"}),"\n",(0,l.jsx)(n.h3,{id:"removeall",children:"RemoveAll"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod RemoveAll() [ Internal ]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Remove all security contexts"}),"\n",(0,l.jsx)(n.h3,{id:"makefault",children:"MakeFault"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod MakeFault(faultCode As %String) As %SOAP.Fault [ ServerOnly = 1 ]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Create a WS-SecureConversation security fault."}),"\n",(0,l.jsx)(n.h3,{id:"create",children:"Create"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"ClassMethod Create() As %SOAP.WSSC.SecurityContextToken\n"})}),"\n",(0,l.jsx)(n.p,{children:"Create a SecurityContextToken with Identifier set"}),"\n",(0,l.jsx)(n.h3,{id:"initializekey",children:"InitializeKey"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Method InitializeKey(service As %SOAP.WebBase, algorithm As %String) As %Status [ Internal ]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Initialize the SecurityContextToken key."}),"\n",(0,l.jsx)(n.h3,{id:"validatekey",children:"ValidateKey"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Method ValidateKey(service As %SOAP.WebBase) As %String [ Internal ]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Validate the SecurityContextToken key. If invalid return an error code."}),"\n",(0,l.jsx)(n.h3,{id:"validateelement",children:"ValidateElement"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Method ValidateElement(document As %XML.Document, service As %SOAP.WebBase) As %String [ Internal ]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Validate the security header element. If invalid return an error code."}),"\n",(0,l.jsx)(n.h3,{id:"reset",children:"Reset"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Method Reset() [ Internal ]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Reset the element."}),"\n",(0,l.jsx)(n.h3,{id:"equals",children:"Equals"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-objectscript-class",children:"Method Equals(credentials As %SOAP.WSSC.SecurityContextToken) As %Boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Return true if the same Key."})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>r});var l=s(96540);const t={},i=l.createContext(t);function a(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);