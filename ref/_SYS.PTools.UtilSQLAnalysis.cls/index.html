<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-cls-loader plugin-id-default api-version-2024.1 docs-doc-page" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">item.name | API | InterSystems Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://caretdev.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://caretdev.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://caretdev.github.io/ref/_SYS.PTools.UtilSQLAnalysis.cls"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="item.name | API | InterSystems Documentation"><meta data-rh="true" name="description" content="testMetadata"><meta data-rh="true" property="og:description" content="testMetadata"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://caretdev.github.io/ref/_SYS.PTools.UtilSQLAnalysis.cls"><link data-rh="true" rel="alternate" href="https://caretdev.github.io/ref/_SYS.PTools.UtilSQLAnalysis.cls" hreflang="en"><link data-rh="true" rel="alternate" href="https://caretdev.github.io/ref/_SYS.PTools.UtilSQLAnalysis.cls" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.577ee559.css">
<script src="/assets/js/runtime~main.a465d7a9.js" defer="defer"></script>
<script src="/assets/js/main.aa62ddf8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/intersystems-docs.svg" alt="InterSystems Docs Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/intersystems-docs.svg" alt="InterSystems Docs Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">InterSystems Documentation</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/ref">Class Reference</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/ref">2024.1</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/caretdev/docs-intersystems" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="refPage"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_ASQ.Exception.cls">%ASQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Api.Atelier.v1.cls">%Api</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Archive.Content.cls">%Archive</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Atelier.REST.cls">%Atelier</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_CPP.BinList.cls">%CPP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_CPT.COS.Analysis.Test.cls">%CPT</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_CSP.AbstractAtom.cls">%CSP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Calendar.Hijri.cls">%Calendar</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Collection.AbstractArray.cls">%Collection</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Compiler.Binding.Java.cls">%Compiler</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_DataModel.Serializer.cls">%DataModel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Debugger.Stack.cls">%Debugger</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_DeepSee.AbstractKPI.cls">%DeepSee</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Dictionary.ClassDefinition.cls">%Dictionary</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_DocDB.Database.cls">%DocDB</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Document.CollectionDefinition.cls">%Document</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_DotNet.Utils.cls">%DotNet</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Embedding.Config.cls">%Embedding</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Exception.AbstractException.cls">%Exception</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_ExtentMgr.GUID.cls">%ExtentMgr</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_External.Messaging.Client.cls">%External</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_FOI.Server.cls">%FOI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_FileMan.Field.cls">%FileMan</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Harmony.Bridge.cls">%Harmony</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_IO.DeviceStream.cls">%IO</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Installer.AbstractLogger.cls">%Installer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Iterator.AbstractIterator.cls">%Iterator</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_JSON.Adaptor.cls">%JSON</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Library.AbstractArray.cls">%Library</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_MFT.API.cls">%MFT</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_ML.AutoML.Provider.cls">%ML</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_MV.Adaptor.cls">%MV</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Monitor.AbstractType.cls">%Monitor</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Net.Authenticator.cls">%Net</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_OAuth2.Error.cls">%OAuth2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Projection.AbstractProjection.cls">%Projection</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_REST.API.cls">%REST</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Regex.Matcher.cls">%Regex</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Report.AuthExternalUser.cls">%Report</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_ResultSet.Custom.cls">%ResultSet</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_SAML.Action.cls">%SAML</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_SOAP.Addressing.Action.cls">%SOAP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_SQL.AbstractFind.cls">%SQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_SYNC.Adaptor.cls">%SYNC</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/ref/_SYS.Audit.cls">%SYS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.Audit.cls">Audit.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.AuditString.cls">AuditString.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.BackgroundTask.cls">BackgroundTask.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.ClusterInfo.cls">ClusterInfo.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.DBSRV.cls">DBSRV.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.DatabaseQuery.cls">DatabaseQuery.cls</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.Date.SlidingWindow.cls">Date</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.Ensemble.cls">Ensemble.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.Execute.cls">Execute.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.GlobalQuery.cls">GlobalQuery.cls</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.Journal.BitSetRecord.cls">Journal</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.LDAP.cls">LDAP.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.LockQuery.cls">LockQuery.cls</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.MFT.Connection.Base.cls">MFT</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.ML.AutoML.Configuration.cls">ML</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.MVACTIVELISTS.cls">MVACTIVELISTS.cls</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.Maint.Bitmap.cls">Maint</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.Monitor.AbstractDashboard.cls">Monitor</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.NLS.Device.cls">NLS</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.Namespace.cls">Namespace.cls</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.OAuth2.AccessToken.cls">OAuth2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.OpenAM.IdentityServices.cls">OpenAM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/ref/_SYS.PTools.FileCreation.cls">PTools</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.FileCreation.cls">FileCreation.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.ModuleName.cls">ModuleName.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.SQLBenchMarkQueries.cls">SQLBenchMarkQueries.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.SQLBenchMarkResults.cls">SQLBenchMarkResults.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.SQLQuery.cls">SQLQuery.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.SQLStats.cls">SQLStats.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.SQLUtilResults.cls">SQLUtilResults.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.SQLUtilities.cls">SQLUtilities.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.Stats.cls">Stats.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.StatsSQL.cls">StatsSQL.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ref/_SYS.PTools.UtilSQLAnalysis.cls">UtilSQLAnalysis.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.UtilSQLAnalysisDB.cls">UtilSQLAnalysisDB.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PTools.UtilSQLStatements.cls">UtilSQLStatements.cls</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.PhoneProviders.cls">PhoneProviders.cls</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.Portal.Resources.cls">Portal</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.ProcessQuery.cls">ProcessQuery.cls</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.Python.ArrayTraits.cls">Python</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.Python.cls">Python.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.QRCode.cls">QRCode.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.REST.cls">REST.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.RMSession.cls">RMSession.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.SecurityContextToken.cls">SecurityContextToken.cls</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.Studio.DocumentHistory.cls">Studio</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.System.cls">System.cls</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ref/_SYS.Task.BackupAllDatabases.cls">Task</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.Task.cls">Task.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.TokenAuth.cls">TokenAuth.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.Trace.cls">Trace.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.WhitelistUtils.cls">WhitelistUtils.cls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ref/_SYS.X509Credentials.cls">X509Credentials.cls</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_SYSTEM.AbstractWorkMgr.cls">%SYSTEM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Storage.Persistent.cls">%Storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Stream.DynamicBinary.cls">%Stream</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Studio.AbstractDocument.cls">%Studio</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_TSQL.Impl.cls">%TSQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_Text.English.cls">%Text</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_UnitTest.Manager.cls">%UnitTest</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_WebStress.Calls.cls">%WebStress</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_XDBC.Gateway.DatabaseMetaData.cls">%XDBC</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_XGEN.AbstractDocument.cls">%XGEN</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_XML.Adaptor.cls">%XML</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_XSQL.Catalog.Informix.syscolumns.cls">%XSQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_ZEN.Auxiliary.ChartContent.cls">%ZEN</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_iFind.Entity.cls">%iFind</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_iKnow.Classification.Builder.cls">%iKnow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/_xsd.anyURI.cls">%xsd</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/Backup.General.cls">Backup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/Config.Archives.cls">Config</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/DataMove.API.cls">DataMove</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/DeepSee.FeatureGetter.cls">DeepSee</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/INFORMATION.SCHEMA.CHECKCONSTRAINTS.cls">INFORMATION</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/Interop.Config.Production.cls">Interop</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/Inventory.Component.cls">Inventory</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/Journal.Restore.cls">Journal</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/MonitorTools.SNMP.cls">MonitorTools</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/Net.Provision.Installer.cls">Net</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/OAuth2.AccessToken.cls">OAuth2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/PKI.CAClient.cls">PKI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/Report.ExternalUser.cls">Report</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/SYS.Agent.cls">SYS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ref/Security.Applications.cls">Security</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col refItemCol"><div class="refItemContainer"><article><div class="theme-doc-markdown markdown"><header><h1></h1></header><section class="tsd-readme"><header><h1>%SYS.PTools.UtilSQLAnalysis</h1></header>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Class %SYS.PTools.UtilSQLAnalysis [ Abstract, CompileAfter = (%SYS.PTools.UtilSQLStatements, %SYS.PTools.UtilSQLAnalysisDB), System = 4 ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Class: %SYS.PTools.UtilSQLAnalysis Replaces: %SYS.PTools.SQLUtilities &amp; %SYS.PTools.SQLUtilResults [DEPRECATED] Purpose: This class provides an abstract interface to all of the information defined in the %SYS.PTools.UtilSQLStatements and %SYS.PTools.UtilSQLAnalysisDB classes, and provides the following Methods and Queries to the collect, analyze, and optimize the SQL Statement within a given InterSystems IRIS namespace: Methods Queries ----------------------------------- ----------------------------- - getAllSQLStmts - getSQLStmts - getSQLStmts - getAllCachedQrySQLStmts - getCachedQrySQLStmtsByDays - getCachedQrySQLStmtsByClass - getAllClassMethSQLStmts - getClassMethSQLStmtsByClass - getAllClassQrySQLStmts - getClassQrySQLStmtsByClass - getAllRtnQrySQLStmts - getRtnQrySQLStmtsByRtn - getAllIndices - indexUsage - indexUsage - tableScans - tableScans - tempIndices - tempIndices - joinIndices - joinIndices - outlierIndices - outlierIndices - getIndexFlagInfo - exportUtilSQLStatements - exportUtilSQLAnalysisDB - exportUtilSQLAnalysis - exportIUAnalysis - exportTSAnalysis - exportTIAnalysis - exportJIAnalysis - exportOIAnalysis - clearSQLStatements - clearSQLAnalysisDB - countSQLStmtTypes - UtilSQLStmtsAndAnalysisDBView</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="methods">Methods<a href="#methods" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="indexusage">indexUsage<a href="#indexusage" class="hash-link" aria-label="Direct link to indexUsage" title="Direct link to indexUsage">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod indexUsage(clearData As %Integer = 1, getIndices As %Integer = 0, getSQLStmts As %Integer = 0, skipSysObj As %Integer = 1, skipIDKeys As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_indexUsage, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>A N A L Y Z E S Q L S T A T E M E N T S</strong>  ===========================================   <strong>I N D E X U S A G E</strong>  --------------------- For each of the SQL Statements saved in the %SYS.PTools.UtilSQLStatements class, generates a ShowPlan and keeps a count of how many times each index is used by each query, along with the total usage for each index by all queries in the namespace, and store this information in the %SYS.PTools.UtilSQLAnalysisDB class.</p>
<p>Method: indexUsage [SQL: PT_indexUsage] Replaces: IndexUsage [SQL: IndexUsage] (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: This method uses the SQL Statement data stored in the %SYS.PTools.UtilSQLStatements class to generate a ShowPlan for each query, and to keeps a count of how many times each index is used by each query. This index usage count is subsequently stored in the &#x27;UsageCount&#x27; field of the %SYS.PTools.UtilSQLAnalysisDB class, which can be used to find and remove unneeded indices in addition to being used for other analytical purposes... Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).indexUsage(...) SQL: CALL %SYS_PTools.PT_indexUsage(...) SELECT %SYS_PTools.PT_indexUsage(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples provide analytical information produced from the invocation of this method: #1 Show info from where the SQL Statements were collected: SELECT %EXACT(Type) AS QueryType, Count(*) AS QueryCount FROM %SYS_PTools.UtilSQLStatements GROUP BY Type OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_countSQLStmtTypes() #2 Show the data collected from the running of this method: SELECT * FROM %SYS_PTools.UtilSQLAnalysis_indexUsage() NOTE: These queries can either be invoked from a number of tools, such as the SQL Query tool in the &#x27;Management Portal&#x27; or via &#x27;SQL Query Shell&#x27; within a &#x27;InterSystems IRIS Terminal&#x27; as show below: &gt;do $SYSTEM.SQL.Shell() Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLAnlsys&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] getIndices - 1 = Get all the SQL Indexes from the Class Methods in this Namespace and add them to the %SYS.PTools.UtilSQLAnalysisDB class for additional processing of this method [DEFAULT: 0*] * - If &#x27;%SYS.PTools.UtilSQLAnalysisDB&#x27; contains NO Index Usage (IU) data, then DEFAULT &#x27;getIndices&#x27; to 1, even if a 0 is passed in for this paramter, because this method requires Index Usage (IU) data for processing! getSQLStmts - 1 = Get all the SQL Statements from InterSystems IRIS locations (Cached Queries, Class Methods, Class Queries, MAC Routines) and add them to the %SYS.PTools.UtilSQLStatements class for additional processing of this method NOTE: This is an all inclusive call which could be time consuming. The %SYS.PTools.UtilSQLStatements class can populated via APIs that offer more precise collection alternatives which are less time consuming [DEFAULT: 0*] * - If &#x27;%SYS.PTools.UtilSQLStatements&#x27; contains NO data, then DEFAULT &#x27;getSQLStmts&#x27; to 1 because this method requires SQL Statement data for processing! skipSysObj - 0 = Don&#x27;t skip all System Objects (Classes &amp; Routines) 1 = Skip all System Objects (Classes &amp; Routines) that start with: { % | DeepSee | Ens | HS | INFORMATION{.|_}SCHEMA } 2 = Skip all System Objects that are not defined in the namespace in which this method is invoked 3 = Skip all System Objects defined by InterSystems, even if the object is also defined in the namespace in which this method is invoked NOTE-1: Pass the combination of the specified options if more than one option desired (e.g. 13 =&gt; #1 &amp; #3) NOTE-2: This only applies when retrieving SQL Indices (getIndices=1) and/or SQL Statements (getSQLStmts=1) [DEFAULT: 1] skipIDKeys - 1 = Skip all the index that will be used to form the Object Identity value (IDKEY) for the given class NOTE: This only applies when retrieving SQL Indices (getIndices=1) [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(&quot;update-cnt&quot;)=The number of rows in the %SYS.PTools.UtilSQLAnalysisDB class which were updated with their Index Usage details RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tablescans">tableScans<a href="#tablescans" class="hash-link" aria-label="Direct link to tableScans" title="Direct link to tableScans">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod tableScans(clearData As %Integer = 1, getSQLStmts As %Integer = 0, skipSysObj As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_tableScans, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Query: indexUsage Replaces: IndexUsage (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Query to replicate Backward-Compatible Query it &#x27;Replaces&#x27; Purpose: A query to return the results generated by the invocation of the &#x27;indexUsage()&#x27; method... Parameters: schema - The schema of the table being queried in the SQL Statement to match against the &#x27;SchemaName&#x27; property/field</p>
<p><strong>Q U E R I E S W I T H T A B L E S C A N S</strong>  ----------------------------------------------- For each of the SQL Statements saved in the %SYS.PTools.UtilSQLStatements class, identify all queries that do table scans. Table scans should be avoided if at all possible, but a table scan can&#x27;t always be avoided. However, if a table has a large number of table scans, the indices defined for that table should be reviewed. Often the list of table scans and the list of temp indices will overlap; fixing one will remove the other. The result set lists the tables from largest Block Count to smallest Block Count.</p>
<p>Method: tableScans [SQL: PT_tableScans] Replaces: TableScans [SQL: TableScans] (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: This method uses the SQL Statement data stored in the %SYS.PTools.UtilSQLStatements class to pinpoint the queries that perform a table scan, which could be over an index or the master map. Pertinent information about these queries is subsequently stored in the the %SYS.PTools.UtilSQLAnalysisDB class for future processing and analysis. For some queries a table scan can&#x27;t be avoided, but any query that uses such a scan should be reviewed in order to determine if an index could be added for performance optimizations. Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).tableScans(...) SQL: CALL %SYS_PTools.PT_tableScans(...) SELECT %SYS_PTools.PT_tableScans(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples provide analytical information produced from the invocation of this method: #1 Show info from where the SQL Statements were collected: SELECT %EXACT(Type) AS QueryType, Count(*) AS QueryCount FROM %SYS_PTools.UtilSQLStatements GROUP BY Type OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_countSQLStmtTypes() #2 Show the data collected from the running of this method: SELECT SQLPointer-&gt;Type As &quot;Routine Type&quot;, SQLPointer-&gt;Name As &quot;Routine Name&quot;, SchemaName, TableName, ModuleName, ExtentSize, SQLPointer-&gt;SQLTextExt AS &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLAnalysisDB WHERE OptionName = &#x27;TS&#x27; ORDER BY ExtentSize DESC OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_tableScans() OR SELECT SchemaName, TableName, Type, &quot;Class/Routine Name&quot;, ModuleName, &quot;Map Type&quot; , ExtentSize, &quot;Block Count&quot;, &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLAnalysis_tableScans() NOTE: These queries can be invoked from a number of tools, such as the SQL Query tool in the &#x27;Management Portal&#x27; or via &#x27;SQL Query Shell&#x27; within a &#x27;InterSystems IRIS Terminal&#x27; as shown below: &gt;do $SYSTEM.SQL.Shell() Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLAnlsys&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] getSQLStmts - 1 = Get all the SQL Statements from InterSystems IRIS locations (Cached Queries, Class Methods, Class Queries, MAC Routines) and add them to the %SYS.PTools.UtilSQLStatements class for additional processing of this method NOTE: This is an all inclusive call which could be time consuming. The %SYS.PTools.UtilSQLStatements class can populated via APIs that offer more precise collection alternatives which are less time consuming [DEFAULT: 0] skipSysObj - 0 = Don&#x27;t skip all System Objects (Classes &amp; Routines) 1 = Skip all System Objects (Classes &amp; Routines) that start with: { % | DeepSee | Ens | HS | INFORMATION{.|_}SCHEMA } 2 = Skip all System Objects that are not defined in the namespace in which this method is invoked 3 = Skip all System Objects defined by InterSystems, even if the object is also defined in the namespace in which this method is invoked NOTE-1: Pass the combination of the specified options if more than one option desired (e.g. 13 =&gt; #1 &amp; #3) NOTE-2: This only applies when retrieving SQL Statements (getSQLStmts=1) [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(&quot;insert-cnt&quot;)=The number of rows inserted in the %SYS.PTools.UtilSQLAnalysisDB class for queries that require a full table scan NOTE: If errors are found while processing an SQL Statement via the &#x27;$$findTableScans(...)&#x27; method, they will be returned in the following location: ptInfo(&quot;error&quot;)=errorID Count ptInfo(&quot;error&quot;,errorID)=tSC // Error Details RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tempindices">tempIndices<a href="#tempindices" class="hash-link" aria-label="Direct link to tempIndices" title="Direct link to tempIndices">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod tempIndices(clearData As %Integer = 1, getSQLStmts As %Integer = 0, skipSysObj As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_tempIndices, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Query: tableScans Replaces: TableScans (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: A query to return the results generated by the invocation of the &#x27;tableScans()&#x27; method... Parameters: schema - The schema of the table being queried in the SQL Statement to match against the &#x27;SchemaName&#x27; property/field</p>
<p>Q U E R I E S W I T H T E M P I N D I C E S ------------------------------------------------- For each of the SQL Statements saved in the %SYS.PTools.UtilSQLStatements class, identify all queries that build temporary indices to resolve the SQL. Sometimes the use of a temp index is helpful and improves performance, for example building a small index based on a range condition that InterSystems IRIS can then use to read the master map in order. Sometimes a temp index is simply a subset of a different index and might be very efficient. Other times a temporary index degrades performance, for example scanning the master map to build a temporary index on a property that has a condition. This situation indicates that a needed index is missing; you should add an index to the class that matches the temporary index. The result set lists the tables from largest Block Count to smallest Block Count.</p>
<p>Method: tempIndices [SQL: PT_tempIndices] Replaces: TempIndices [SQL: TempIndices] (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: This method uses the SQL Statement data stored in the %SYS.PTools.UtilSQLStatements class to pinpoint the queries that are building a Temp Index/Table. Pertinent information about these queries is subsequently stored in the the %SYS.PTools.UtilSQLAnalysisDB class for future processing and analysis. It&#x27;s worth noting that the results of this method and that of the &#x27;tableScans()&#x27; method might have a large overlap. For some queries the creation of a Temp Index/Table can be avoided, but often the creation of a Temp Index/Table is done so to provide optimal data traversal and retrieval. These queries should be reviewed to determine if an index could be added to the class for performance optimizations, because often the structure of the Temp Index/Table is the basis for the creation of a class index to help with query performance. Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).tempIndices(...) SQL: CALL %SYS_PTools.PT_tempIndices(...) SELECT %SYS_PTools.PT_tempIndices(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples provide analytical information produced from the invocation of this method: #1 Show info from where the SQL Statements were collected: SELECT %EXACT(Type) AS QueryType, Count(*) AS QueryCount FROM %SYS_PTools.UtilSQLStatements GROUP BY Type OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_countSQLStmtTypes() #2 Show the data collected from the running of this method: SELECT SchemaName, TableName, $LISTTOSTRING(IndexFields) As &quot;Index Fields&quot;, $LISTTOSTRING(DataValues) As &quot;Data Fields&quot;, ExtentSize, BlockCount As &quot;Block Count&quot;, SQLPointer-&gt;SQLTextExt AS &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLAnalysisDB WHERE OptionName = &#x27;TI&#x27; ORDER BY ExtentSize DESC OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_tempIndices() OR SELECT SchemaName, TableName, Type, &quot;Class/Routine Name&quot;, IndexName, &quot;Index Fields&quot;, &quot;Data Fields&quot;, ExtentSize, &quot;Block Count&quot;, &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLAnalysis_tempIndices() NOTE: These queries can be invoked from a number of tools, such as the SQL Query tool in the &#x27;Management Portal&#x27; or via &#x27;SQL Query Shell&#x27; within a &#x27;InterSystems IRIS Terminal&#x27; as shown below: &gt;do $SYSTEM.SQL.Shell() Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLAnlsys&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] getSQLStmts - 1 = Get all the SQL Statements from InterSystems IRIS locations (Cached Queries, Class Methods, Class Queries, MAC Routines) and add them to the %SYS.PTools.UtilSQLStatements class for additional processing of this method NOTE: This is an all inclusive call which could be time consuming. The %SYS.PTools.UtilSQLStatements class can populated via APIs that offer more precise collection alternatives which are less time consuming [DEFAULT: 0] skipSysObj - 0 = Don&#x27;t skip all System Objects (Classes &amp; Routines) 1 = Skip all System Objects (Classes &amp; Routines) that start with: { % | DeepSee | Ens | HS | INFORMATION{.|_}SCHEMA } 2 = Skip all System Objects that are not defined in the namespace in which this method is invoked 3 = Skip all System Objects defined by InterSystems, even if the object is also defined in the namespace in which this method is invoked NOTE-1: Pass the combination of the specified options if more than one option desired (e.g. 13 =&gt; #1 &amp; #3) NOTE-2: This only applies when retrieving SQL Statements (getSQLStmts=1) [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(&quot;insert-cnt&quot;)=The number of rows inserted in the %SYS.PTools.UtilSQLAnalysisDB class for queries that build temporary indices to resolve the SQL. NOTE: If errors are found while processing an SQL Statement via the &#x27;$$findTempIndices(...)&#x27; method, they will be returned in the following location: ptInfo(&quot;error&quot;)=errorID Count ptInfo(&quot;error&quot;,errorID)=tSC // Error Details RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="joinindices">joinIndices<a href="#joinindices" class="hash-link" aria-label="Direct link to joinIndices" title="Direct link to joinIndices">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod joinIndices(clearData As %Integer = 1, getSQLStmts As %Integer = 0, skipSysObj As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_joinIndices, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Query: tempIndices Replaces: TempIndices (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Query to replicate Backward-Compatible Query it &#x27;Replaces&#x27; Purpose: A query to return the results generated by the invocation of the &#x27;tempIndices()&#x27; method... Parameters: schema - The schema of the table being queried in the SQL Statement to match against the &#x27;SchemaName&#x27; property/field</p>
<p>Q U E R I E S W I T H M I S S I N G J O I N I N D I C E S ----------------------------------------------------------------- For each of the SQL Statements saved in the %SYS.PTools.UtilSQLStatements class, identify all queries that have joins, and determines if there is an index defined to support that join. It ranks the indices available to support the joins from 0 (no index present) to 4 (index fully supports the join). Outer joins require an index in one direction. Inner joins require an index in both directions. The result set only contains rows that have a JoinIndexFlag &lt; 4. JoinIndexFlag=4 means there is an index that fully supports the join; these are not listed.</p>
<p>Method: joinIndices [SQL: PT_joinIndices] Replaces: JoinIndices [SQL: JoinIndices] (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: This method uses the SQL Statement data stored in the %SYS.PTools.UtilSQLStatements class to pinpoint the queries that perform a JOIN between tables where their joined-fields use an index that supports the join. This method will then ranks the indices available to support the join from 0 (no index present) to 4 (index fully supports the join). Pertinent information about these queries is subsequently stored in the the %SYS.PTools.UtilSQLAnalysisDB class for future processing and analysis. It&#x27;s worth noting that OUTER JOINs require an index in one direction, whereas INNER JOINs require an index in both directions. The result-set stored in the the %SYS.PTools.UtilSQLAnalysisDB class only contains rows that have a &#x27;JoinIndexFlag &lt; 4&#x27;. Rows that have a &#x27;JoinIndexFlag = 4&#x27;, which means that there exists an index that fully supports the JOIN, are not stored since they are already fully optimized. The stored queries should be reviewed to determine if an index could be added to the class to satisfy the highest &#x27;JoinIndexFlag&#x27; possible: The &#x27;JoinIndexFlag&#x27; property has the following 5 values: 0 - No Match: No index exists to support the fields from the JOIN conditions (Some version of the suggested index should be created to improve this query&#x27;s performance) 1 - Partial Match: An index exists where its fields contains some of the fields from the JOIN conditions, but not the leading field (This will produce poor performance and for that reason is rarely used) 2 - Contains Match: An index exists where its fields contains all fields from the JOIN conditions, but not the leading fields (This might produce OK performance, but improvements should be made) 3 - Leading Match: An index exists where its leading fields match all fields from the JOIN conditions, but there are additional fields in the index (This will produce OK performance, but improvements can be made) 4 - Exact Match: An index exists where its fields match all fields from the JOIN conditions (This is a fully optimized index) Optimizations ------------- - Creating a new index in the case of JoinIndexFlag = 0 or 1 should show good performance gains. - Creating a new index for JoinIndexFlag = 2 will help, improvements will depend on the number of leading subscripts and their selectivity - Creating a new index for JoinIndexFlag = 3 could help, in most cases you will only see small improvements. - The Order of the subscripts does not matter for the join, but could make a difference in performance. - The property with the lowest selectivity should be first. NOTE: The fields returned by the query&#x27;s &#x27;Index Needed&#x27; could be used to create an index that should help improve performance. Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).joinIndices(...) SQL: CALL %SYS_PTools.PT_joinIndices(...) SELECT %SYS_PTools.PT_joinIndices(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples provide analytical information produced from the invocation of this method: #1 Show info from where the SQL Statements were collected: SELECT %EXACT(Type) AS QueryType, Count(*) AS QueryCount FROM %SYS_PTools.UtilSQLStatements GROUP BY Type OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_countSQLStmtTypes() #2 Show the data collected from the running of this method: SELECT SchemaName, TableName, SQLPointer-&gt;Type, SQLPointer-&gt;Name, IndexName, $LISTTOSTRING(JoinFields) AS &quot;Index Needed&quot;, $LISTTOSTRING(IndexFields) AS &quot;Indexed Fields&quot;, $LISTTOSTRING(JoinFields) AS &quot;JOIN Fields&quot;, JoinIndexFlag AS &quot;Join Index Flag&quot;, ExtentSize, BlockCount AS &quot;Block Count&quot;, SQLPointer-&gt;SQLTextExt AS &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLAnalysisDB WHERE OptionName = &#x27;JI&#x27; ORDER BY 1,2 OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_joinIndices() NOTE: This query will return JoinIndexFlag AS &quot;Join Index Flag&quot; as a numeric value (0-3) as specified above. However, in order to return more specificity for this field, one of the following values can be passed to the 2nd parameter &#x27;indexFlagInfo&#x27; of the joinIndices() query: 0 = The Index-Flag Internal Value [DEFAULT] 1 = The Index-Flag Title 2 = The Index-Flag Definition 3 = The Index-Flag as &#x27;Title: Definition&#x27; EXAMPLE: SELECT * FROM %SYS_PTools.UtilSQLAnalysis_joinIndices(,3) OR SELECT SchemaName, TableName, Type, &quot;Class/Routine Name&quot;, IndexName, &quot;Index Needed&quot;, &quot;Join Index Flag&quot;, ExtentSize, &quot;Block Count&quot;, &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLAnalysis_joinIndices() #3 Show joined-based tables with less than optimal indexes that support the JOIN specified in the query: SELECT SchemaName, TableName, $LISTTOSTRING(JoinFields) AS &quot;Index Needed&quot;, JoinIndexFlag AS &quot;Join Index Flag&quot;, COUNT(*) AS &quot;Query Count&quot; FROM %SYS_PTools.UtilSQLAnalysisDB WHERE JoinIndexFlag &lt; 4 and OptionName = &#x27;JI&#x27; GROUP BY SchemaName, TableName, IndexFields ORDER BY 4,5 DESC -- These tables should be reviewed to see if a better -- index can be added to fully support the JOIN conditions NOTE: These queries can be invoked from a number of tools, such as the SQL Query tool in the &#x27;Management Portal&#x27; or via &#x27;SQL Query Shell&#x27; within a &#x27;InterSystems IRIS Terminal&#x27; as shown below: &gt;do $SYSTEM.SQL.Shell() Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLAnlsys&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] getSQLStmts - 1 = Get all the SQL Statements from InterSystems IRIS locations (Cached Queries, Class Methods, Class Queries, MAC Routines) and add them to the %SYS.PTools.UtilSQLStatements class for additional processing of this method NOTE: This is an all inclusive call which could be time consuming. The %SYS.PTools.UtilSQLStatements class can populated via APIs that offer more precise collection alternatives which are less time consuming [DEFAULT: 0] skipSysObj - 0 = Don&#x27;t skip all System Objects (Classes &amp; Routines) 1 = Skip all System Objects (Classes &amp; Routines) that start with: { % | DeepSee | Ens | HS | INFORMATION{.|_}SCHEMA } 2 = Skip all System Objects that are not defined in the namespace in which this method is invoked 3 = Skip all System Objects defined by InterSystems, even if the object is also defined in the namespace in which this method is invoked NOTE-1: Pass the combination of the specified options if more than one option desired (e.g. 13 =&gt; #1 &amp; #3) NOTE-2: This only applies when retrieving SQL Statements (getSQLStmts=1) [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(&quot;insert-cnt&quot;)=The number of rows inserted in the %SYS.PTools.UtilSQLAnalysisDB class for queries that have joins indexing issues RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getindexflaginfo">getIndexFlagInfo<a href="#getindexflaginfo" class="hash-link" aria-label="Direct link to getIndexFlagInfo" title="Direct link to getIndexFlagInfo">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getIndexFlagInfo(flagInt As %Integer = &quot;&quot;, indexMeth As %String = &quot;&quot;, returnInfo As %Integer = 3) As %String [ SqlName = PT_getIndexFlagInfo, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Query: joinIndices Replaces: JoinIndices (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Query to replicate Backward-Compatible Query it &#x27;Replaces&#x27; Purpose: A query to return the results generated by the invocation of the &#x27;joinIndices()&#x27; method... Invocation: This Query can be invoked in the following way: SELECT * FROM %SYS_PTools.UtilSQLAnalysis_joinIndices() Parameters: schema - The schema of the table being queried in the SQL Statement to match against the &#x27;SchemaName&#x27; property/field &quot;&quot; = All Schemas [DEFAULT] indexFlagInfo - The specific information that should be returned for the &quot;Join Index Flag&quot; field: 0 = The Index-Flag Internal Value [DEFAULT] 1 = The Index-Flag Title 2 = The Index-Flag Definition 3 = The Index-Flag as &#x27;Title: Definition&#x27; skipJIF4 - 0 - Export all rows regardless of the &#x27;JoinIndexFlag&#x27; value 1 - Export all rows where the value of the &#x27;JoinIndexFlag&#x27; is not 4 [DEFAULT]</p>
<p>Method: getIndexFlagInfo [SQL: PT_getIndexFlagInfo] Replaces: N/A Status: New Functionality Purpose: Given an Index-Flag Internal Value &#x27;flagInt&#x27;, and the Index Analyzer Method &#x27;indexMeth&#x27; for which this flag is associated, return the specific information requested by the &#x27;returnInfo&#x27; parameter NOTE: This is a helper-method for the following Queries: - joinIndices - outlierIndices Parameters: flagInt - The Index-Flag Internal Value NOTE: The following example are the values specified for the &#x27;joinIndices()&#x27; method: 4 = Exact Match: An index exists where its fields match all fields from the JOIN conditions 3 = Leading Match: An index exists where its leading fields match all fields from the JOIN conditions, but there are additional fields in the index 2 = Contains Match: An index exists where its fields contains all fields from the JOIN conditions, but not the leading fields 1 = Partial Match: An index exists where its fields contains some of the fields from the JOIN conditions, but not the leading field 0 = No Match: No index exists to support the fields from the JOIN conditions indexMeth - The Index Analyzer Method for which the &#x27;flagInt&#x27; parameter is associated - joinIndices - outlierIndices returnInfo - The specific information that should be returned from this method: 1 = The Index-Flag Title 2 = The Index-Flag Definition 3 = The Index-Flag as &#x27;Title: Definition&#x27; RETURN Value: See the &#x27;returnInfo&#x27; parameter for details ; Otherwise, return an error message if an error occurred</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="outlierindices">outlierIndices<a href="#outlierindices" class="hash-link" aria-label="Direct link to outlierIndices" title="Direct link to outlierIndices">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod outlierIndices(clearData As %Integer = 1, getSQLStmts As %Integer = 0, skipSysObj As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_outlierIndices, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Q U E R I E S W I T H M I S S I N G O U T L I E R I N D I C E S ----------------------------------------------------------------------- For each of the SQL Statements saved in the %SYS.PTools.UtilSQLStatements class, identify all queries that have outliers, and determines if there is an index defined to support that outlier. It ranks the indices available to support the outlier from 0 (no index present) to 4 (index fully supports the outlier).</p>
<p>Method: outlierIndices [SQL: PT_outlierIndices] Replaces: N/A Status: New Functionality Purpose: This method uses the SQL Statement data stored in the %SYS.PTools.UtilSQLStatements class to pinpoint the queries that have outliers, and determines if there is an index defined to support the Outlier Condition. This method will then ranks the indices available to support the Outlier Condition from 0 (no index present) to 4 (index fully supports the Outlier Condition). Pertinent information about these queries is subsequently stored in the the %SYS.PTools.UtilSQLAnalysisDB class for future processing and analysis. While the result-set stored in the the %SYS.PTools.UtilSQLAnalysisDB contains rows for all value of the &#x27;OutlierIndexFlag&#x27; field, the outlierIndices() Query for this class/table only returns the rows that have the following : &#x27;OutlierIndexFlag &lt; 4&#x27;. Rows that have a &#x27;OutlierIndexFlag = 4&#x27;, which means that there exists an index that fully supports the Outlier Condition, are not returned by the outlierIndices() Query, since they are already fully optimized, however this information can be obtained by directly querying the %SYS_PTools.UtilSQLAnalysisDB table. The stored queries should be reviewed to determine if an index could be added to the class to satisfy the highest &#x27;OutlierIndexFlag&#x27; possible: The &#x27;OutlierIndexFlag&#x27; property has the following 5 values: 0 - No Match: No index exists to support the fields from the Outlier conditions (Some version of the suggested index should be created to improve this query&#x27;s performance) 1 - Partial Match: An index exists where its fields contains some of the fields from the Outlier conditions, but not the leading field (This will produce poor performance and for that reason is rarely used) 2 - Contains Match: An index exists where its fields contains all fields from the Outlier conditions, but not the leading fields (This might produce OK performance, but improvements should be made) 3 - Leading Match: An index exists where its leading fields match all fields from the Outlier conditions, but there are additional fields in the index (This will produce OK performance, but improvements can be made) 4 - Exact Match: An index exists where its fields match all fields from the Outlier conditions (This is a fully optimized index) Optimizations ------------- - Creating a new index in the case of OutlierIndexFlag = 0 or 1 should show good performance gains. - Creating a new index for OutlierIndexFlag = 2 will help, improvements will depend on the number of leading subscripts and their selectivity - Creating a new index for OutlierIndexFlag = 3 could help, in most cases you will only see small improvements. - The Order of the subscripts does not matter for the Outlier Conditions, but could make a difference in performance. - The property with the lowest selectivity should be first. NOTE: The fields returned by the query&#x27;s &#x27;IndexFields&#x27; could be used to create an index that should help improve performance. Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).outlierIndices(...) SQL: CALL %SYS_PTools.PT_outlierIndices(...) SELECT %SYS_PTools.PT_outlierIndices(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples provide analytical information produced from the invocation of this method: #1 Show info from where the SQL Statements were collected: SELECT %EXACT(Type) AS QueryType, Count(*) AS QueryCount FROM %SYS_PTools.UtilSQLStatements GROUP BY Type OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_countSQLStmtTypes() #2 Show the data collected from the running of this method: SELECT SchemaName, TableName, SQLPointer-&gt;Type, SQLPointer-&gt;Name, $LISTTOSTRING(IndexFields) As &quot;Index Fields&quot;, JoinIndexFlag As &quot;Join Index Flag&quot;, ExtentSize, BlockCount As &quot;Block Count&quot;, SQLPointer-&gt;SQLTextExt AS &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLAnalysisDB WHERE OptionName = &#x27;OI&#x27; ORDER BY 1,2 OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_outlierIndices() NOTE: This query will return OutlierIndexFlag AS &quot;Outlier Index Flag&quot; as a numeric value (0-3) as specified above. However, in order to return more specificity for this field, one of the following values can be passed to the 2nd parameter &#x27;indexFlagInfo&#x27; of the outlierIndices() query: 0 = The Index-Flag Internal Value [DEFAULT] 1 = The Index-Flag Title 2 = The Index-Flag Definition 3 = The Index-Flag as &#x27;Title: Definition&#x27; EXAMPLE: SELECT * FROM %SYS_PTools.UtilSQLAnalysis_outlierIndices(,3) OR SELECT SchemaName, TableName, Type, &quot;Class/Routine Name&quot;, IndexName, &quot;Index Fields&quot;, &quot;Bias Outlier&quot;, &quot;Outlier Index Flag&quot;, &quot;Outlier Field&quot;, &quot;Outlier Condition&quot;, &quot;Outlier Selectivity&quot;, &quot;Outlier WHERE Condition&quot;, ExtentSize, &quot;Block Count&quot;, &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLAnalysis_outlierIndices() #3 Show outlier-based tables with less than optimal indexes that support the Outlier Condition specified in the query: SELECT SchemaName, TableName, IndexFields As &quot;Index Fields&quot;, OutlierIndexFlag AS &quot;Outlier Index Flag&quot;, COUNT(*) AS &quot;Query Count&quot; FROM %SYS_PTools.UtilSQLAnalysisDB WHERE OutlierIndexFlag &lt; 4 and OptionName = &#x27;OI&#x27; GROUP BY SchemaName, TableName, IndexFields ORDER BY 4,5 DESC -- These tables should be reviewed to see if a better -- index can be added to fully support the Outlier Conditions NOTE: These queries can be invoked from a number of tools, such as the SQL Query tool in the &#x27;Management Portal&#x27; or via &#x27;SQL Query Shell&#x27; within a &#x27;InterSystems IRIS Terminal&#x27; as shown below: &gt;do $SYSTEM.SQL.Shell() Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLAnlsys&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] getSQLStmts - 1 = Get all the SQL Statements from InterSystems IRIS locations (Cached Queries, Class Methods, Class Queries, MAC Routines) and add them to the %SYS.PTools.UtilSQLStatements class for additional processing of this method NOTE: This is an all inclusive call which could be time consuming. The %SYS.PTools.UtilSQLStatements class can populated via APIs that offer more precise collection alternatives which are less time consuming [DEFAULT: 0] skipSysObj - 0 = Don&#x27;t skip all System Objects (Classes &amp; Routines) 1 = Skip all System Objects (Classes &amp; Routines) that start with: { % | DeepSee | Ens | HS | INFORMATION{.|_}SCHEMA } 2 = Skip all System Objects that are not defined in the namespace in which this method is invoked 3 = Skip all System Objects defined by InterSystems, even if the object is also defined in the namespace in which this method is invoked NOTE-1: Pass the combination of the specified options if more than one option desired (e.g. 13 =&gt; #1 &amp; #3) NOTE-2: This only applies when retrieving SQL Statements (getSQLStmts=1) [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(&quot;insert-cnt&quot;)=The number of rows inserted in the %SYS.PTools.UtilSQLAnalysisDB class for queries that have outliers indexing issues RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getallsqlstmts">getAllSQLStmts<a href="#getallsqlstmts" class="hash-link" aria-label="Direct link to getAllSQLStmts" title="Direct link to getAllSQLStmts">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getAllSQLStmts(clearData As %Integer = 1, skipSysObj As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1, returnType As %Integer = 0, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_getAllSQLStmts, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Query: outlierIndices Replaces: N/A Status: New Functionality Purpose: A query to return the results generated by the invocation of the &#x27;outlierIndices()&#x27; method... Invocation: This Query can be invoked in the following way: SELECT * FROM %SYS_PTools.UtilSQLAnalysis_outlierIndices() Parameters: schema - The schema of the table being queried in the SQL Statement to match against the &#x27;SchemaName&#x27; property/field &quot;&quot; = All Schemas [DEFAULT] indexFlagInfo - The specific information that should be returned for the &quot;Outlier Index Flag&quot; field: 0 = The Index-Flag Internal Value [DEFAULT] 1 = The Index-Flag Title 2 = The Index-Flag Definition 3 = The Index-Flag as &#x27;Title: Definition&#x27; skipOIF4 - 0 - Export all rows regardless of the &#x27;OutlierIndexFlag&#x27; value 1 - Export all rows where the value of the &#x27;OutlierIndexFlag&#x27; is not 4 [DEFAULT]</p>
<p><strong>A L L S Q L S T A T E M E N T S</strong>  ----------------------------------- Gather SQL Statements from all places within InterSystems IRIS and add them to the %SYS.PTools.UtilSQLStatements class for Index Analysis and additional processing...</p>
<p>Method: getAllSQLStmts [SQL: PT_getAllSQLStmts] Replaces: N/A Status: New Functionality Purpose: Get the SQL Statements from all of the following locations and add them to the %SYS.PTools.UtilSQLStatements class for additional processing: - Cached Queries - Class Methods - Class Queries - MAC Routines Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).getAllSQLStmts(...) SQL: CALL %SYS_PTools.PT_getAllSQLStmts(...) SELECT %SYS_PTools.PT_getAllSQLStmts(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples provide analytical information produced from the invocation of this method: #1 Show info from where the SQL Statements were collected: SELECT %EXACT(Type) AS QueryType, Count(*) AS QueryCount FROM %SYS_PTools.UtilSQLStatements GROUP BY Type OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_countSQLStmtTypes() #2 Show the data collected from the running of this method: SELECT Type, Name, MethodName, ImportPackage, SQLTextExt AS &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLStatements ORDER BY Type, Name OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_getAllSQLStmts() OR SELECT Type, &quot;Class/Routine Name&quot;, &quot;Method Name&quot;, ImportPackage, &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLAnalysis_getAllSQLStmts() NOTE: These queries can be invoked from a number of tools, such as the SQL Query tool in the &#x27;Management Portal&#x27; or via &#x27;SQL Query Shell&#x27; within a &#x27;InterSystems IRIS Terminal&#x27; as shown below: &gt;do $SYSTEM.SQL.Shell() Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipSysObj - 0 = Don&#x27;t skip all System Objects (Classes &amp; Routines) 1 = Skip all System Objects (Classes &amp; Routines) that start with: { % | DeepSee | Ens | HS | INFORMATION{.|_}SCHEMA } 2 = Skip all System Objects that are not defined in the namespace in which this method is invoked 3 = Skip all System Objects defined by InterSystems, even if the object is also defined in the namespace in which this method is invoked NOTE: Pass the combination of the specified options if more than one option desired (e.g. 13 =&gt; #1 &amp; #3) [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] returnType - 0 = Return a %Status code of either $$$OK or $$$ERROR() 1 = Return a $LIST of SQL Statements added to the %SYS.PTools.UtilSQLStatements class [DEFAULT: 0] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(&quot;insert-list&quot;)=The number of rows inserted in the &#x27;%SYS.PTools.UtilSQLStatements&#x27; class in the following $LIST format $LIST() pieces: 1) Grand Total of all SQL Query Statements added 2) Total of all Cached Query Statements added 3) Total of all Class Method Statements added 4) Total of all Class Query Statements added 5) Total of all Routine Statements added RETURN Value: Based on the value of the &#x27;returnType&#x27; parameter, return one of the following: 0: Return a %Status code of either $$$OK or $$$ERROR() 1: Return the number of SQL Statements added to the %SYS.PTools.UtilSQLStatements class in the following $LIST format; Otherwise, return an error message if an error occurred. $LIST() pieces: 1) Grand Total of all SQL Query Statements added 2) Total of all cached query Statements added 3) Total of all Class Method Statements added 4) Total of all Class Query Statements added 5) Total of all Routine Statements added</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getsqlstmts">getSQLStmts<a href="#getsqlstmts" class="hash-link" aria-label="Direct link to getSQLStmts" title="Direct link to getSQLStmts">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getSQLStmts(clearData As %Integer = 1, skipSysObj As %Integer = 1, skipInsStmts As %Integer = 1, getCachedQry As %Integer = 1, getClassMethQry As %Integer = 1, getClassQry As %Integer = 1, getRtnQry As %Integer = 1, display As %Integer = 1, returnType As %Integer = 0) As %Status [ SqlName = PT_getSQLStmts, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Query: getAllSQLStmts Replaces: N/A Status: New Functionality Purpose: A query to return the results generated by the invocation of the &#x27;getAllSQLStmts()&#x27; method... Parameters:</p>
<p>Method: getSQLStmts [SQL: PT_getSQLStmts] Replaces: GetSQLStatements (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: This method searches for at all of the SQL Statements in a namespace from the following locations based on the parameter values (getCachedQry,getClassMethQry,getClassQry,getRtnQry) and adds information about the statements (e.g. Type, Name, SQLText) to the %SYS.PTools.UtilSQLStatements class for additional processing: - Cached Queries [ if getCachedQry=1 ] - Class Methods [ if getClassMethQry=1 ] - Class Queries [ if getClassQry=1 ] - MAC Routines [ if getRtnQry=1 ] Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).getSQLStmts(...) SQL: CALL %SYS_PTools.PT_getSQLStmts(...) SELECT %SYS_PTools.PT_getSQLStmts(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples provide analytical information produced from the invocation of this method: #1 Show info from where the SQL Statements were collected: SELECT %EXACT(Type) AS QueryType, Count(*) AS QueryCount FROM %SYS_PTools.UtilSQLStatements GROUP BY Type OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_countSQLStmtTypes() #2 Show the data collected from the running of this method: SELECT Type, Name, MethodName, ImportPackage, SQLTextExt AS &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLStatements ORDER BY Type, Name OR SELECT * FROM %SYS_PTools.UtilSQLAnalysis_getSQLStmts() OR SELECT Type, &quot;Class/Routine Name&quot;, &quot;Method Name&quot;, ImportPackage, &quot;SQL Text&quot; FROM %SYS_PTools.UtilSQLAnalysis_getSQLStmts() NOTE: These queries can be invoked from a number of tools, such as the SQL Query tool in the &#x27;Management Portal&#x27; or via &#x27;SQL Query Shell&#x27; within a &#x27;InterSystems IRIS Terminal&#x27; as shown below: &gt;do $SYSTEM.SQL.Shell() Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipSysObj - 0 = Don&#x27;t skip all System Objects (Classes &amp; Routines) 1 = Skip all System Objects (Classes &amp; Routines) that start with: { % | DeepSee | Ens | HS | INFORMATION{.|_}SCHEMA } 2 = Skip all System Objects that are not defined in the namespace in which this method is invoked 3 = Skip all System Objects defined by InterSystems, even if the object is also defined in the namespace in which this method is invoked NOTE: Pass the combination of the specified options if more than one option desired (e.g. 13 =&gt; #1 &amp; #3) [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] getCachedQry - 1 = Get the SQL Statements from all Cached Queries [DEFAULT: 1] getClassMethQry - 1 = Get the SQL Statements from all of the Class Methods [DEFAULT: 1] getClassQry - 1 = Get the SQL Statements from all of the Class Queries [DEFAULT: 1] getRtnQry - 1 = Get the Embedded SQL Statements from all of the MAC Routines [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] returnType - 0 = Return a %Status code of either $$$OK or $$$ERROR() 1 = Return a $LIST of SQL Statements added to the %SYS.PTools.UtilSQLStatements class [DEFAULT: 0] RETURN Value: Based on the value of the &#x27;returnType&#x27; parameter, return one of the following: 0: Return the status of this method; Otherwise, return an error message if an error occurred 1: Return the number of SQL Statements added to the %SYS.PTools.UtilSQLStatements class in the following $LIST format; Otherwise, return an error message if an error occurred. $LIST() pieces: 1) Grand Total of all SQL Query Statements added 2) Total of all cached query Statements added 3) Total of all Class Method Statements added 4) Total of all Class Query Statements added 5) Total of all Routine Statements added</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getallcachedqrysqlstmts">getAllCachedQrySQLStmts<a href="#getallcachedqrysqlstmts" class="hash-link" aria-label="Direct link to getAllCachedQrySQLStmts" title="Direct link to getAllCachedQrySQLStmts">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getAllCachedQrySQLStmts(clearData As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1) As %Integer [ SqlName = PT_getAllCachedQrySQLStmts, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Query: getSQLStmts Replaces: N/A Status: New Functionality Purpose: A query to return the results generated by the invocation of the &#x27;getSQLStmts()&#x27; method... Parameters: N/A</p>
<p><strong>C A C H E D Q U E R I E S</strong>  --------------------------- Gather SQL Statements from all of the Cached Queries within InterSystems IRIS and add them to the %SYS.PTools.UtilSQLStatements class for Index Analysis and additional processing...</p>
<p>Method: getAllCachedQrySQLStmts [SQL: PT_getAllCachedQrySQLStmts] Replaces: N/A Status: New Functionality Purpose: Get the SQL Statements from all of the Cached Queries created and add them to the %SYS.PTools.UtilSQLStatements class for additional processing... Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] RETURN Value: The number of Cached Queries added to the %SYS.PTools.UtilSQLStatements class; Otherwise, return an error message if an error occurred</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getcachedqrysqlstmtsbydays">getCachedQrySQLStmtsByDays<a href="#getcachedqrysqlstmtsbydays" class="hash-link" aria-label="Direct link to getCachedQrySQLStmtsByDays" title="Direct link to getCachedQrySQLStmtsByDays">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getCachedQrySQLStmtsByDays(days As %Integer = 0, clearData As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1) As %Integer [ SqlName = PT_getCachedQrySQLStmtsByDays, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: getCachedQrySQLStmtsByDays [SQL: PT_getCachedQrySQLStmtsByDays] Replaces: N/A Status: New Functionality Purpose: Get the SQL Statements from all Cached Queries that have had a Prepare in the last &#x27;days&#x27; days and add them to the %SYS.PTools.UtilSQLStatements class for additional processing... Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: days - The number of days since the last Cached Query was Prepared. If days=0, then get all Cached Queries. [DEFAULT: 0 (All)] clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] RETURN Value: The number of Cached Queries added to the %SYS.PTools.UtilSQLStatements class; Otherwise, return an error message if an error occurred</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getcachedqrysqlstmtsbyclass">getCachedQrySQLStmtsByClass<a href="#getcachedqrysqlstmtsbyclass" class="hash-link" aria-label="Direct link to getCachedQrySQLStmtsByClass" title="Direct link to getCachedQrySQLStmtsByClass">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getCachedQrySQLStmtsByClass(ByRef items As %RawString, clearData As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1) As %Integer [ SqlName = PT_getCachedQrySQLStmtsByClass, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: getCachedQrySQLStmtsByClass [SQL: PT_getCachedQrySQLStmtsByClass] Replaces: N/A Status: New Functionality Purpose: Get the SQL Statements from all Cached Queries provided in the &#x27;items&#x27; array and add them to the %SYS.PTools.UtilSQLStatements class for additional processing... Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: item - A comma delimited list or array of Cached Query class names NOTE: The class names must either all contain class extensions (e.g. myClass.CLS) or none at all (e.g. myClass) EXAMPLE: items=&quot;%sqlcq.SAMPLES.cls1,%sqlcq.SAMPLES.cls2&quot; OR items(&quot;%sqlcq.SAMPLES.cls1&quot;)=&quot;&quot; items(&quot;%sqlcq.SAMPLES.cls2&quot;)=&quot;&quot; clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] RETURN Value: The number of Cached Queries added to the %SYS.PTools.UtilSQLStatements class; Otherwise, return an error message if an error occurred</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getallclassmethsqlstmts">getAllClassMethSQLStmts<a href="#getallclassmethsqlstmts" class="hash-link" aria-label="Direct link to getAllClassMethSQLStmts" title="Direct link to getAllClassMethSQLStmts">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getAllClassMethSQLStmts(clearData As %Integer = 1, skipSysClass As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1) As %Integer [ SqlName = PT_getAllClassMethSQLStmts, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>C L A S S M E T H O D S</strong>  ------------------------- Gather SQL Statements from all of the Class Methods within InterSystems IRIS and add them to the %SYS.PTools.UtilSQLStatements class for Index Analysis and additional processing...</p>
<p>Method: getAllClassMethSQLStmts [SQL: PT_getAllClassMethSQLStmts] Replaces: N/A Status: New Functionality Purpose: Get the SQL Statements from all of the Class Methods created and add them to the %SYS.PTools.UtilSQLStatements class for additional processing... Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipSysClass - 0 = Don&#x27;t skip all System Classes 1 = Skip all System Classes that start with: { % | DeepSee | Ens | HS | INFORMATION{.|_}SCHEMA } 2 = Skip all System Classes that are not defined in the namespace in which this method is invoked 3 = Skip all System Classes defined by InterSystems, even if the class is also defined in the namespace in which this method is invoked NOTE: Pass the combination of the specified options if more than one option desired (e.g. 13 =&gt; #1 &amp; #3) [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] RETURN Value: The number of cached queries added to the %SYS.PTools.UtilSQLStatements class; Otherwise, return an error message if an error occurred</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getclassmethsqlstmtsbyclass">getClassMethSQLStmtsByClass<a href="#getclassmethsqlstmtsbyclass" class="hash-link" aria-label="Direct link to getClassMethSQLStmtsByClass" title="Direct link to getClassMethSQLStmtsByClass">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getClassMethSQLStmtsByClass(ByRef items As %RawString, clearData As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1) As %Integer [ SqlName = PT_getClassMethSQLStmtsByClass, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: getClassMethSQLStmtsByClass [SQL: PT_getClassMethSQLStmtsByClass] Replaces: N/A Status: New Functionality Purpose: Get the SQL Statements from all Class Methods provided in the &#x27;items&#x27; array and add them to the %SYS.PTools.UtilSQLStatements class for additional processing... Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: item - A comma delimited list or array of Class Methods class names NOTE: The class names must either all contain class extensions (e.g. myClass.CLS) or none at all (e.g. myClass) EXAMPLE: items=&quot;Cinema.Film,Sample.Person&quot; OR items(&quot;Cinema.Film&quot;)=&quot;&quot; items(&quot;Sample.Person&quot;)=&quot;&quot; clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] RETURN Value: The number of Class Methods added to the %SYS.PTools.UtilSQLStatements class; Otherwise, return an error message if an error occurred</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getallclassqrysqlstmts">getAllClassQrySQLStmts<a href="#getallclassqrysqlstmts" class="hash-link" aria-label="Direct link to getAllClassQrySQLStmts" title="Direct link to getAllClassQrySQLStmts">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getAllClassQrySQLStmts(clearData As %Integer = 1, skipSysClass As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1) As %Integer [ SqlName = PT_getAllClassQrySQLStmts, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>C L A S S Q U E R Y</strong>  --------------------- Gather SQL Statements from all of the Class Queries within InterSystems IRIS and add them to the %SYS.PTools.UtilSQLStatements class for Index Analysis and additional processing...</p>
<p>Method: getAllClassQrySQLStmts [SQL: PT_getAllClassQrySQLStmts] Replaces: N/A Status: New Functionality Purpose: Get the SQL Statements from all of the Class Queries created and add them to the %SYS.PTools.UtilSQLStatements class for additional processing... Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipSysClass - 0 = Don&#x27;t skip all System Classes 1 = Skip all System Classes that start with: { % | DeepSee | Ens | HS | INFORMATION{.|_}SCHEMA } 2 = Skip all System Classes that are not defined in the namespace in which this method is invoked 3 = Skip all System Classes defined by InterSystems, even if the class is also defined in the namespace in which this method is invoked NOTE: Pass the combination of the specified options if more than one option desired (e.g. 13 =&gt; #1 &amp; #3) [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] RETURN Value: The number of Class Queries added to the %SYS.PTools.UtilSQLStatements class; Otherwise, return an error message if an error occurred</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getclassqrysqlstmtsbyclass">getClassQrySQLStmtsByClass<a href="#getclassqrysqlstmtsbyclass" class="hash-link" aria-label="Direct link to getClassQrySQLStmtsByClass" title="Direct link to getClassQrySQLStmtsByClass">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getClassQrySQLStmtsByClass(ByRef items As %RawString, clearData As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1) As %Integer [ SqlName = PT_getClassQrySQLStmtsByClass, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: getClassQrySQLStmtsByClass [SQL: PT_getClassQrySQLStmtsByClass] Replaces: N/A Status: New Functionality Purpose: Get the SQL Statements from all Class Queries provided in the &#x27;items&#x27; array and add them to the %SYS.PTools.UtilSQLStatements class for additional processing... Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: item - A comma delimited list or array of Class Query class names NOTE: The class names must either all contain class extensions (e.g. myClass.CLS) or none at all (e.g. myClass) EXAMPLE: items=&quot;Cinema.Film,Sample.Person&quot; OR items(&quot;Cinema.Film&quot;)=&quot;&quot; items(&quot;Sample.Person&quot;)=&quot;&quot; clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] RETURN Value: The number of Class Queries added to the %SYS.PTools.UtilSQLStatements class; Otherwise, return an error message if an error occurred</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getallrtnqrysqlstmts">getAllRtnQrySQLStmts<a href="#getallrtnqrysqlstmts" class="hash-link" aria-label="Direct link to getAllRtnQrySQLStmts" title="Direct link to getAllRtnQrySQLStmts">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getAllRtnQrySQLStmts(clearData As %Integer = 1, skipSysRtn As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1) As %Integer [ SqlName = PT_getAllRtnQrySQLStmts, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>R O U T I N E Q U E R Y</strong>  ------------------------- Gather SQL Statements from all of the MAC Routines within InterSystems IRIS and add them to the %SYS.PTools.UtilSQLStatements class for Index Analysis and additional processing...</p>
<p>Method: getAllRtnQrySQLStmts [SQL: PT_getAllRtnQrySQLStmts] Replaces: N/A Status: New Functionality Purpose: Get the Embedded SQL Statements from all of the MAC Routines and add them to the %SYS.PTools.UtilSQLStatements class for additional processing... Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipSysRtn - 0 = Don&#x27;t skip all System Routines 1 = Skip all System Routines that start with: { % | DeepSee | Ens | HS | INFORMATION{.|_}SCHEMA } 2 = Skip all System Routines that are not defined in the namespace in which this method is invoked 3 = Skip all System Routines defined by InterSystems, even if the routine is also defined in the namespace in which this method is invoked NOTE: Pass the combination of the specified options if more than one option desired (e.g. 13 =&gt; #1 &amp; #3) [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] RETURN Value: The number of Embedded SQL Statements added to the %SYS.PTools.UtilSQLStatements class; Otherwise, return an error message if an error occurred</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getrtnqrysqlstmtsbyrtn">getRtnQrySQLStmtsByRtn<a href="#getrtnqrysqlstmtsbyrtn" class="hash-link" aria-label="Direct link to getRtnQrySQLStmtsByRtn" title="Direct link to getRtnQrySQLStmtsByRtn">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getRtnQrySQLStmtsByRtn(ByRef items As %RawString, clearData As %Integer = 1, skipInsStmts As %Integer = 1, display As %Integer = 1) As %Integer [ SqlName = PT_getRtnQrySQLStmtsByRtn, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: getRtnQrySQLStmtsByRtn [SQL: PT_getRtnQrySQLStmtsByRtn] Replaces: N/A Status: New Functionality Purpose: Get the Embedded SQL Statements from all of the MAC Routines provided in the &#x27;items&#x27; array and add them to the %SYS.PTools.UtilSQLStatements class for additional processing... Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: item - A comma delimited list or array of MAC Routine names NOTE: The routine names must either all contain extensions (e.g. myRtn.MAC) or none at all (e.g. myRtn) EXAMPLE: items=&quot;MRPtest1,MRPtest2&quot; OR items(&quot;MRPtest1&quot;)=&quot;&quot; items(&quot;MRPtest2&quot;)=&quot;&quot; clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipInsStmts - 1 = Skip INSERT Statements, as they don&#x27;t have looping logic [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] RETURN Value: The number of Cached Queries added to the %SYS.PTools.UtilSQLStatements class; Otherwise, return an error message if an error occurred</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getallindices">getAllIndices<a href="#getallindices" class="hash-link" aria-label="Direct link to getAllIndices" title="Direct link to getAllIndices">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod getAllIndices(clearData As %Integer = 1, skipSysClass As %Integer = 1, skipIDKeys As %Integer = 1, display As %Integer = 1) As %Integer [ SqlName = PT_getAllIndices, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>C O L L E C T S Q L I N D E X E S</strong>  =====================================   <strong>A L L S Q L I N D E X E S</strong>  ----------------------------- Gather SQL Indexes from all classes within InterSystems IRIS and add them to the %SYS.PTools.SQLUtilResult class for Index Analysis and additional processing</p>
<p>Method: getAllIndices [SQL: PT_getAllIndices] Replaces: N/A [AllIndices^%SYS.PToolsDEP] Status: New Functionality Purpose: This method processes all of the classes/tables on the system and collects all of the defined Indexes and adds them to the %SYS.PTools.UtilSQLAnalysisDB class for future processing... Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).getAllIndices(...) SQL: CALL %SYS_PTools.PT_getAllIndices(...) SELECT %SYS_PTools.PT_getAllIndices(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples provide analytical information produced from the invocation of this method: #1 Show the data collected from the running of this method: SELECT * FROM %SYS_PTools.UtilSQLAnalysis_getAllIndices() NOTE: These queries can either be invoked from a number of tools, such as the SQL Query tool in the &#x27;Management Portal&#x27; or via &#x27;SQL Query Shell&#x27; within a &#x27;InterSystems IRIS Terminal&#x27; as show below: &gt;do $SYSTEM.SQL.Shell() Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLAnlsys&quot;,&quot;{C|D|I|S}&quot;) Parameters: clearData - 1 = Kill all of the existing data before re-populating with the results of this method invocation [DEFAULT: 1] skipSysClass - 0 = Don&#x27;t skip all System Classes 1 = Skip all System Classes that start with: { % | DeepSee | Ens | HS | INFORMATION{.|_}SCHEMA } 2 = Skip all System Classes that are not defined in the namespace in which this method is invoked 3 = Skip all System Classes defined by InterSystems, even if the class is also defined in the namespace in which this method is invoked NOTE: Pass the combination of the specified options if more than one option desired (e.g. 13 =&gt; #1 &amp; #3) [DEFAULT: 1] skipIDKeys - 1 = Skip all the index that will be used to form the Object Identity value (IDKEY) for the given class [DEFAULT: 1] display - 1 = Display messages while processing method [DEFAULT: 1] RETURN Value: The number of Indexes added to the %SYS.PTools.UtilSQLAnalysisDB class; Otherwise, return an error message if an error occurred</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clearsqlstatements">clearSQLStatements<a href="#clearsqlstatements" class="hash-link" aria-label="Direct link to clearSQLStatements" title="Direct link to clearSQLStatements">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod clearSQLStatements(ns As %String = &quot;&quot;, clearErrs As %Integer = 0, returnType As %Integer = 0, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_clearSQLStatements, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Query: getAllIndices Replaces: N/A Status: New Functionality Purpose: A query to return the results generated by the invocation of the &#x27;getAllIndices()&#x27; method... Parameters: schema - The schema of the table being queried in the SQL Statement to match against the &#x27;SchemaName&#x27; property/field</p>
<p><strong>C L E A R D A T A</strong>  ------------------- For each of the SQL Statements saved in the %SYS.PTools.UtilSQLStatements class, and each of the SQL Statement Results in the %SYS.PTools.UtilSQLAnalysisDB class, use one of the following methods to delete all of the data stored in these classes: - clearSQLStatements() - clearSQLAnalysisDB()</p>
<p>Method: clearSQLStatements [SQL: PT_clearSQLStatements] Replaces: ClearStatements [SQL: ClearStatements] (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: Delete all of the data stored in the %SYS.PTools.UtilSQLStatements class, based on the specified parameters... This method clears SQL Index Usage Analytical statistics which are gathered when one of the following methods are invoked: - indexUsage() - tableScans() - tempIndices() - joinIndices() - outlierIndices() Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).clearSQLStatements(...) SQL: CALL %SYS_PTools.PT_clearSQLStatements(...) SELECT %SYS_PTools.PT_clearSQLStatements(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples shows the use of this method: #1 Delete all of the data stored in the &#x27;%SYS.PTools.UtilSQLStatements&#x27; class in the current namespace: set status=##class(%SYS.PTools.UtilSQLAnalysis).clearSQLStatements() Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLStmts&quot;,&quot;{C|D|I|S}&quot;) Parameters: ns - The namespace in which to clear SQL Index/Analysis Statstics [DEFAULT: Current Namespace] clearErrs - 0 = Don&#x27;t delete the &#x27;PTools&#x27; Application Errors 1 = Delete all of the &#x27;PTools&#x27; Application Errors [DEFAULT: 0] returnType - 0 = Return a %Status code of either $$$OK or $$$ERROR() 1 = Return the number of Stats rows deleted from the following class: %SYS.PTools.UtilSQLStatements [DEFAULT: 0] ptInfo - A Pass By Reference information array that returns detailed information to the user in the following format: ptInfo(category,variable)=value OR $LB(val1,...,valn) Where category = { &quot;cnt&quot; | &quot;curr&quot; | &quot;term&quot; | ... } variable = A var corresponding to the given &#x27;category&#x27; Example: ptInfo(&quot;cnt&quot;,&quot;clearSQLStatements&quot;)=The number of rows deleted via this method RETURN Value: Based on the value of the &#x27;returnType&#x27; parameter, return one of the following: 0: Return a %Status code of either $$$OK or $$$ERROR() 1: Return the number of Stats rows deleted from the following class; Otherwise, return an error message if an error occurred: %SYS.PTools.UtilSQLStatements</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clearsqlanalysisdb">clearSQLAnalysisDB<a href="#clearsqlanalysisdb" class="hash-link" aria-label="Direct link to clearSQLAnalysisDB" title="Direct link to clearSQLAnalysisDB">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod clearSQLAnalysisDB(ns As %String = &quot;&quot;, clearErrs As %Integer = 0, returnType As %Integer = 0, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_clearSQLAnalysisDB, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: clearSQLAnalysisDB [SQL: PT_clearSQLAnalysisDB] Replaces: ClearResults [SQL: ClearResults] (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: Delete all of the data stored in the %SYS.PTools.UtilSQLAnalysisDB class, based on the specified parameters... This method clears SQL Index Usage Analytical statistics which are gathered when one of the following methods are invoked: - indexUsage() - tableScans() - tempIndices() - joinIndices() - outlierIndices() Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).clearSQLAnalysisDB(...) SQL: CALL %SYS_PTools.PT_clearSQLAnalysisDB(...) SELECT %SYS_PTools.PT_clearSQLAnalysisDB(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples shows the use of this method: #1 Delete all of the data stored in the &#x27;%SYS.PTools.UtilSQLAnalysisDB&#x27; class in the current namespace: set status=##class(%SYS.PTools.UtilSQLAnalysis).clearSQLAnalysisDB() Data Storage: ^%sqlcq($NAMESPACE,&quot;PTools&quot;,&quot;util&quot;,&quot;SQLAnlsys&quot;,&quot;{C|D|I|S}&quot;) Parameters: ns - The namespace in which to clear SQL Index/Analysis Statstics [DEFAULT: Current Namespace] clearErrs - 0 = Don&#x27;t delete the &#x27;PTools&#x27; Application Errors 1 = Delete all of the &#x27;PTools&#x27; Application Errors [DEFAULT: 0] returnType - 0 = Return a %Status code of either $$$OK or $$$ERROR() 1 = Return the number of Stats rows deleted from the following class: %SYS.PTools.UtilSQLAnalysisDB [DEFAULT: 0] ptInfo - A Pass By Reference information array that returns detailed information to the user in the following format: ptInfo(category,variable)=value OR $LB(val1,...,valn) Where category = { &quot;cnt&quot; | &quot;curr&quot; | &quot;term&quot; | ... } variable = A var corresponding to the given &#x27;category&#x27; Example: ptInfo(&quot;cnt&quot;,&quot;clearSQLAnalysisDB&quot;)=The number of rows deleted via this method RETURN Value: Based on the value of the &#x27;returnType&#x27; parameter, return one of the following: 0: Return a %Status code of either $$$OK or $$$ERROR() 1: Return the number of Stats rows deleted from the following class; Otherwise, return an error message if an error occurred: %SYS.PTools.UtilSQLAnalysisDB</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exportutilsqlstatements">exportUtilSQLStatements<a href="#exportutilsqlstatements" class="hash-link" aria-label="Direct link to exportUtilSQLStatements" title="Direct link to exportUtilSQLStatements">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod exportUtilSQLStatements(file As %String = &quot;&quot;, format As %String = &quot;&quot;, silent As %Integer = 0, type As %String = &quot;&quot;, ByRef conds As %RawString, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_exportUtilSQLStatements, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>E X P O R T I N G / R E P O R T I N G</strong>  ----------------------------------------- The following methods allow for the exporting and reporting of SQL Statements and accompanying data that have been saved in one of the following two classes/tables: - %SYS.PTools.UtilSQLStatements - %SYS.PTools.UtilSQLAnalysisDB</p>
<p>Method: exportUtilSQLStatements [SQL: PT_exportUtilSQLStatements] Replaces: exportSQLUtilStmts [SQL: PT_exportSQLUtilStmts] (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: Create a file containing all the data from the %SYS.PTools.UtilSQLStatements class &amp; return the output location... Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).exportUtilSQLStatements(...) SQL: CALL %SYS_PTools.PT_exportUtilSQLStatements(...) SELECT %SYS_PTools.PT_exportUtilSQLStatements(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples shows the use of this method: #1 Display this export file to the screen via a InterSystems IRIS Terminal: set tSC=##class(%SYS.PTools.UtilSQLAnalysis).exportUtilSQLStatements($IO) #2 Display this export file via the SQL Query Page of the Management Portal: CALL %SYS_PTools.PT_exportUtilSQLStatements(&#x27;$IO&#x27;,&#x27;H&#x27;) Where: &#x27;$IO&#x27; = Output to the current device NOTE: &#x27;$IO&#x27; can be omitted, as it is the default &#x27;file&#x27; when invoked via the CALL interface &#x27;H&#x27; = Output the format in HTML format NOTE: &#x27;H&#x27; can be omitted, as it is the default &#x27;format&#x27; when invoked via the CALL interface Parameters: file - The path and file in which to create and store the data from the %SYS.PTools.UtilSQLStatements class: (e.g. C:\exportFile.txt) NOTE: $IO = Outputs the data to the screen &#x27;$IO&#x27; = Output the data to the current device when invoked from the CALL/SELECT-interface &#x27;$DEF&#x27; = Ouput the data to the DEFAULT file when invoked from the CALL/SELECT-interface [DEFAULT: {Current-Directory}\PT_exportUtilSQLStatements_YYYYMMDD_HHMMSS.{ext}] WHERE {Current-Directory} = The directory of the Namespace in which this method is invoked (e.g. $ZU(12,&quot;&quot;)) NOTE 2: If Passed By Reference, then &#x27;file&#x27; will be returned as the canonical name of the Export/Reporting file format - The output format of the Export/Reporting file This parameter has the following structure of constituent elements: format=[:$LB(,,)] Where the constituent elements have the following values:  - The format of the Export/Reporting file: - P = Printable/Viewable report file (.txt file, no pagination) - D = Comma-delimited data file (.csv file) which can be read into a spreadsheet - X = Microsoft Excel XML markup file suitable for import into Excel (.xml file) - H = HTML page file (.html file) - Z = User-defined delimiter &quot;P&quot; formatted file (.dlm file) NOTE: The  element is required or defaulted to $C(9) (TAB) Optional Elements:  - User-defined delimiter [DEFAULT: $C(9) (TAB)] NOTE: This is generally used for =&quot;Z&quot;  - .csv file header for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information header to file [DEFAULT] - 1 = Add non-standard information header to file  - .csv file footer for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information footer to file [DEFAULT] - 1 = Add non-standard information footer to file EXAMPLES: Valid &#x27;format&#x27; values: - &quot;H&quot; // HTML file - &quot;D&quot; // CSV file with No information header or footer - &quot;D:&quot;_$LB(,1,1) // CSV file with information header &amp; footer - &quot;Z:&quot;_$LB(&quot;^&quot;) // User-defined delimiter file (delim=&quot;^&quot;) silent - 0 - Display all messages during the running of this method 1 - Don&#x27;t display any messages during the running of this method type - A single type, or a comma-delimited list of {Type} values to restrict the output of rows from the %SYS.PTools.UtilSQLStatements class. The {Type} is the location within InterSystems IRIS from where the SQL Query was extracted: {Type} values: { cached query | Class Method | Class Query | Routine } conds - A string/array of possible conditions by which to restrict the output of the Export file, in the following format: conds= OR conds(0)=pos Count (WHERE pos = {1...n}) conds(pos)=$LIST() Pieces: 1) [] (Assumed Default: &amp;&amp;) 2) [{Heading}] (Omit for override cond) 3)  |  WHERE:  :=  := {&amp;&amp; | ||} (&amp;&amp; = AND | || = OR) @* := @ :=  @ = Contains no references to {Heading} * = Contains no references to {*} EXAMPLE:  conds=&quot;(&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{Module}_&quot;&quot;,&quot;&quot;))||({GlobalRefs}&gt;20)&quot;  conds(0)=3 conds(1)=$LB(,&quot;Module&quot;,&quot;=&quot;&quot;INFO&quot;&quot;&quot;) conds(2)=$LB(&quot;||&quot;,&quot;Module&quot;,&quot;=&quot;&quot;MAIN&quot;&quot;&quot;) conds(3)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;&gt;20&quot;)  conds(0)=2 conds(1)=$LB(,&quot;Module&quot;,&quot;&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{*}_&quot;&quot;,&quot;&quot;)&quot;) conds(2)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;{*}&gt;20&quot;) WHERE: {*} = value substitution for the &#x27;Module&#x27; &amp; &#x27;GlobalRefs&#x27; fields NOTE: Conditions that don&#x27;t contain any references to {Heading} fields, often called s, can be included as s, as in the following example: conds(pos)=$LB(,,&quot;$g(^zAction(&quot;&quot;runIt&quot;&quot;))=1&quot;) NOTE: All conditions must be satisfied for the conds() to be considered true and for the row to be exported [PASS BY REFERENCE] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(variable)=value ptInfo(&quot;outputFile&quot;)=The canonical name of the Export/Reporting file RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exportutilsqlanalysisdb">exportUtilSQLAnalysisDB<a href="#exportutilsqlanalysisdb" class="hash-link" aria-label="Direct link to exportUtilSQLAnalysisDB" title="Direct link to exportUtilSQLAnalysisDB">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod exportUtilSQLAnalysisDB(file As %String = &quot;&quot;, format As %String = &quot;&quot;, silent As %Integer = 0, option As %String = &quot;&quot;, ByRef conds As %RawString, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_exportUtilSQLAnalysisDB, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: exportUtilSQLAnalysisDB [SQL: PT_exportUtilSQLAnalysisDB] Replaces: exportSQLUtilStmts [SQL: PT_exportSQLUtilStmts] (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: Create a file containing all the data from the %SYS.PTools.UtilSQLAnalysisDB class &amp; return the output location... Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).exportUtilSQLAnalysisDB(...) SQL: CALL %SYS_PTools.PT_exportUtilSQLAnalysisDB(...) SELECT %SYS_PTools.PT_exportUtilSQLAnalysisDB(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples shows the use of this method: #1 Display this export file to the screen via a InterSystems IRIS Terminal: set tSC=##class(%SYS.PTools.UtilSQLAnalysis).exportUtilSQLAnalysisDB($IO) #2 Display this export file via the SQL Query Page of the Management Portal: CALL %SYS_PTools.PT_exportUtilSQLAnalysisDB(&#x27;$IO&#x27;,&#x27;H&#x27;) Where: &#x27;$IO&#x27; = Output to the current device NOTE: &#x27;$IO&#x27; can be omitted, as it is the default &#x27;file&#x27; when invoked via the CALL interface &#x27;H&#x27; = Output the format in HTML format NOTE: &#x27;H&#x27; can be omitted, as it is the default &#x27;format&#x27; when invoked via the CALL interface Parameters: file - The path and file in which to create and store the data from the %SYS.PTools.UtilSQLAnalysisDB class: (e.g. C:\exportFile.txt) NOTE: $IO = Outputs the data to the screen &#x27;$IO&#x27; = Output the data to the current device when invoked from the CALL/SELECT-interface &#x27;$DEF&#x27; = Ouput the data to the DEFAULT file when invoked from the CALL/SELECT-interface [DEFAULT: {Current-Directory}\PT_exportUtilSQLAnalysisDB_YYYYMMDD_HHMMSS.{ext}] WHERE {Current-Directory} = The directory of the Namespace in which this method is invoked (e.g. $ZU(12,&quot;&quot;)) NOTE 2: If Passed By Reference, then &#x27;file&#x27; will be returned as the canonical name of the Export/Reporting file format - The output format of the Export/Reporting file This parameter has the following structure of constituent elements: format=[:$LB(,,)] Where the constituent elements have the following values:  - The format of the Export/Reporting file: - P = Printable/Viewable report file (.txt file, no pagination) - D = Comma-delimited data file (.csv file) which can be read into a spreadsheet - X = Microsoft Excel XML markup file suitable for import into Excel (.xml file) - H = HTML page file (.html file) - Z = User-defined delimiter &quot;P&quot; formatted file (.dlm file) NOTE: The  element is required or defaulted to $C(9) (TAB) Optional Elements:  - User-defined delimiter [DEFAULT: $C(9) (TAB)] NOTE: This is generally used for =&quot;Z&quot;  - .csv file header for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information header to file [DEFAULT] - 1 = Add non-standard information header to file  - .csv file footer for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information footer to file [DEFAULT] - 1 = Add non-standard information footer to file EXAMPLES: Valid &#x27;format&#x27; values: - &quot;H&quot; // HTML file - &quot;D&quot; // CSV file with No information header or footer - &quot;D:&quot;_$LB(,1,1) // CSV file with information header &amp; footer - &quot;Z:&quot;_$LB(&quot;^&quot;) // User-defined delimiter file (delim=&quot;^&quot;) silent - 0 - Display all messages during the running of this method 1 - Don&#x27;t display any messages during the running of this method option - A single option, or a comma-delimited list of {OptionName} values to restrict the output of rows from the %SYS.PTools.UtilSQLAnalysisDB class. The {OptionName} specifies the Index Usage Analysis method used to collect the data: {OptionName} values: { IU - getAllIndices &amp; indexUsage | TS - tableScans | TI - tempIndices | JI - joinIndices | OI - outlierIndices } conds - A string/array of possible conditions by which to restrict the output of the Export file, in the following format: conds= OR conds(0)=pos Count (WHERE pos = {1...n}) conds(pos)=$LIST() Pieces: 1) [] (Assumed Default: &amp;&amp;) 2) [{Heading}] (Omit for override cond) 3)  |  WHERE:  :=  := {&amp;&amp; | ||} (&amp;&amp; = AND | || = OR) @* := @ :=  @ = Contains no references to {Heading} * = Contains no references to {*} EXAMPLE:  conds=&quot;(&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{Module}_&quot;&quot;,&quot;&quot;))||({GlobalRefs}&gt;20)&quot;  conds(0)=3 conds(1)=$LB(,&quot;Module&quot;,&quot;=&quot;&quot;INFO&quot;&quot;&quot;) conds(2)=$LB(&quot;||&quot;,&quot;Module&quot;,&quot;=&quot;&quot;MAIN&quot;&quot;&quot;) conds(3)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;&gt;20&quot;)  conds(0)=2 conds(1)=$LB(,&quot;Module&quot;,&quot;&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{*}_&quot;&quot;,&quot;&quot;)&quot;) conds(2)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;{*}&gt;20&quot;) WHERE: {*} = value substitution for the &#x27;Module&#x27; &amp; &#x27;GlobalRefs&#x27; fields NOTE: Conditions that don&#x27;t contain any references to {Heading} fields, often called s, can be included as s, as in the following example: conds(pos)=$LB(,,&quot;$g(^zAction(&quot;&quot;runIt&quot;&quot;))=1&quot;) NOTE: All conditions must be satisfied for the conds() to be considered true and for the row to be exported [PASS BY REFERENCE] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(variable)=value ptInfo(&quot;outputFile&quot;)=The canonical name of the Export/Reporting file RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exportutilsqlanalysis">exportUtilSQLAnalysis<a href="#exportutilsqlanalysis" class="hash-link" aria-label="Direct link to exportUtilSQLAnalysis" title="Direct link to exportUtilSQLAnalysis">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod exportUtilSQLAnalysis(file As %String = &quot;&quot;, format As %String = &quot;&quot;, silent As %Integer = 0, type As %String = &quot;&quot;, option As %String = &quot;&quot;, ByRef conds As %RawString, includeSQL As %Integer = 1, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_exportUtilSQLAnalysis, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: exportUtilSQLAnalysis [SQL: PT_exportUtilSQLAnalysis] Replaces: exportSQLUtilities [SQL: PT_exportSQLUtilities] (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: Create a file containing all the data from joining both the %SYS.PTools.UtilSQLStatements and %SYS.PTools.UtilSQLAnalysisDB classes &amp; return the output location... Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).exportUtilSQLAnalysis(...) SQL: CALL %SYS_PTools.PT_exportUtilSQLAnalysis(...) SELECT %SYS_PTools.PT_exportUtilSQLAnalysis(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples shows the use of this method: #1 Display this export file to the screen via a InterSystems IRIS Terminal: set tSC=##class(%SYS.PTools.UtilSQLAnalysis).exportUtilSQLAnalysis($IO) #2 Display this export file via the SQL Query Page of the Management Portal: CALL %SYS_PTools.PT_exportUtilSQLAnalysis(&#x27;$IO&#x27;,&#x27;H&#x27;) Where: &#x27;$IO&#x27; = Output to the current device NOTE: &#x27;$IO&#x27; can be omitted, as it is the default &#x27;file&#x27; when invoked via the CALL interface &#x27;H&#x27; = Output the format in HTML format NOTE: &#x27;H&#x27; can be omitted, as it is the default &#x27;format&#x27; when invoked via the CALL interface NOTE: To query this information via SQL, use the following View: %SYS_PTools.UtilSQLStmtsAndAnalysisDBView Parameters: file - The path and file in which to create and store the data from the %SYS.PTools.UtilSQLStatements &amp; %SYS.PTools.UtilSQLAnalysisDB classes: (e.g. C:\exportFile.txt) NOTE: $IO = Outputs the data to the screen &#x27;$IO&#x27; = Output the data to the current device when invoked from the CALL/SELECT-interface &#x27;$DEF&#x27; = Ouput the data to the DEFAULT file when invoked from the CALL/SELECT-interface [DEFAULT: {Current-Directory}\PT_exportUtilSQLAnalysis_YYYYMMDD_HHMMSS.{ext}] WHERE {Current-Directory} = The directory of the Namespace in which this method is invoked (e.g. $ZU(12,&quot;&quot;)) NOTE 2: If Passed By Reference, then &#x27;file&#x27; will be returned as the canonical name of the Export/Reporting file format - The output format of the Export/Reporting file This parameter has the following structure of constituent elements: format=[:$LB(,,)] Where the constituent elements have the following values:  - The format of the Export/Reporting file: - P = Printable/Viewable report file (.txt file, no pagination) - D = Comma-delimited data file (.csv file) which can be read into a spreadsheet - X = Microsoft Excel XML markup file suitable for import into Excel (.xml file) - H = HTML page file (.html file) - Z = User-defined delimiter &quot;P&quot; formatted file (.dlm file) NOTE: The  element is required or defaulted to $C(9) (TAB) Optional Elements:  - User-defined delimiter [DEFAULT: $C(9) (TAB)] NOTE: This is generally used for =&quot;Z&quot;  - .csv file header for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information header to file [DEFAULT] - 1 = Add non-standard information header to file  - .csv file footer for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information footer to file [DEFAULT] - 1 = Add non-standard information footer to file EXAMPLES: Valid &#x27;format&#x27; values: - &quot;H&quot; // HTML file - &quot;D&quot; // CSV file with No information header or footer - &quot;D:&quot;_$LB(,1,1) // CSV file with information header &amp; footer - &quot;Z:&quot;_$LB(&quot;^&quot;) // User-defined delimiter file (delim=&quot;^&quot;) silent - 0 - Display all messages during the running of this method 1 - Don&#x27;t display any messages during the running of this method type - A single type, or a comma-delimited list of {Type} values to restrict the output of rows from the %SYS.PTools.UtilSQLStatements class. The {Type} is the location within InterSystems IRIS from where the SQL Query was extracted: {Type} values: { cached query | Class Method | Class Query | Routine } option - A single option, or a comma-delimited list of {OptionName} values to restrict the output of rows from the %SYS.PTools.UtilSQLAnalysisDB class. The {OptionName} specifies the Index Usage Analysis method used to collect the data: {OptionName} values: { IU - getAllIndices &amp; indexUsage | TS - tableScans | TI - tempIndices | JI - joinIndices | OI - outlierIndices } conds - A string/array of possible conditions by which to restrict the output of the Export file, in the following format: conds= OR conds(0)=pos Count (WHERE pos = {1...n}) conds(pos)=$LIST() Pieces: 1) [] (Assumed Default: &amp;&amp;) 2) [{Heading}] (Omit for override cond) 3)  |  WHERE:  :=  := {&amp;&amp; | ||} (&amp;&amp; = AND | || = OR) @* := @ :=  @ = Contains no references to {Heading} * = Contains no references to {*} EXAMPLE:  conds=&quot;(&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{Module}_&quot;&quot;,&quot;&quot;))||({GlobalRefs}&gt;20)&quot;  conds(0)=3 conds(1)=$LB(,&quot;Module&quot;,&quot;=&quot;&quot;INFO&quot;&quot;&quot;) conds(2)=$LB(&quot;||&quot;,&quot;Module&quot;,&quot;=&quot;&quot;MAIN&quot;&quot;&quot;) conds(3)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;&gt;20&quot;)  conds(0)=2 conds(1)=$LB(,&quot;Module&quot;,&quot;&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{*}_&quot;&quot;,&quot;&quot;)&quot;) conds(2)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;{*}&gt;20&quot;) WHERE: {*} = value substitution for the &#x27;Module&#x27; &amp; &#x27;GlobalRefs&#x27; fields NOTE: Conditions that don&#x27;t contain any references to {Heading} fields, often called s, can be included as s, as in the following example: conds(pos)=$LB(,,&quot;$g(^zAction(&quot;&quot;runIt&quot;&quot;))=1&quot;) NOTE: All conditions must be satisfied for the conds() to be considered true and for the row to be exported [PASS BY REFERENCE] includeSQL - 0 = Don&#x27;t include the SQL Text in the output as the last field 1 = Include the SQL Text in the output as the last field [DEFAULT] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(variable)=value ptInfo(&quot;outputFile&quot;)=The canonical name of the Export/Reporting file RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exportiuanalysis">exportIUAnalysis<a href="#exportiuanalysis" class="hash-link" aria-label="Direct link to exportIUAnalysis" title="Direct link to exportIUAnalysis">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod exportIUAnalysis(file As %String = &quot;&quot;, format As %String = &quot;&quot;, silent As %Integer = 0, p4 As %String = &quot;&quot;, orderBy As %String = &quot;&quot;, ByRef conds As %RawString, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_exportIUAnalysis, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>E X P O R T I N G / R E P O R T I N G</strong>  ----------------------------------------- The following Exporting/Reporting methods allow for the exporting &amp; reporting of SQL Statements and accompanying SQL Index Usage Analytical data generated from the invocation of one of the following SQL Index Analyzer methods: SQL Index Analyzer Exporting/Reporting ================== ==================== - indexUsage - exportIUAnalysis - tableScans - exportTSAnalysis - tempIndices - exportTIAnalysis - joinIndices - exportJIAnalysis - outlierIndices - exportOIAnalysis NOTE: The data from the aforementioned methods are stored in the following classes/tables, and output the data from each method&#x27;s corresponding Query with the same name: - %SYS.PTools.UtilSQLStatements - %SYS.PTools.UtilSQLAnalysisDB</p>
<p>Method: exportIUAnalysis [SQL: PT_exportIUAnalysis] Replaces: N/A Status: New Functionality Purpose: Create a file containing all the data from joining both the %SYS.PTools.UtilSQLStatements and %SYS.PTools.UtilSQLAnalysisDB classes &amp; return the output location... Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).exportIUAnalysis(...) SQL: CALL %SYS_PTools.PT_exportIUAnalysis(...) SELECT %SYS_PTools.PT_exportIUAnalysis(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples shows the use of this method: #1 Display this export file to the screen via a InterSystems IRIS Terminal: set tSC=##class(%SYS.PTools.UtilSQLAnalysis).exportIUAnalysis($IO) #2 Display this export file via the SQL Query Page of the Management Portal: CALL %SYS_PTools.PT_exportIUAnalysis(&#x27;$IO&#x27;,&#x27;H&#x27;) Where: &#x27;$IO&#x27; = Output to the current device NOTE: &#x27;$IO&#x27; can be omitted, as it is the default &#x27;file&#x27; when invoked via the CALL interface &#x27;H&#x27; = Output the format in HTML format NOTE: &#x27;H&#x27; can be omitted, as it is the default &#x27;format&#x27; when invoked via the CALL interface NOTE: To query this information via SQL, use the following View: %SYS_PTools.UtilSQLAnalysis_indexUsage() Parameters: file - The path and file in which to create and store the data from the %SYS.PTools.UtilSQLStatements &amp; %SYS.PTools.UtilSQLAnalysisDB classes: (e.g. C:\exportFile.txt) NOTE: $IO = Outputs the data to the screen &#x27;$IO&#x27; = Output the data to the current device when invoked from the CALL/SELECT-interface &#x27;$DEF&#x27; = Ouput the data to the DEFAULT file when invoked from the CALL/SELECT-interface [DEFAULT: {Current-Directory}\PT_exportIUAnalysis_YYYYMMDD_HHMMSS.{ext}] WHERE {Current-Directory} = The directory of the Namespace in which this method is invoked (e.g. $ZU(12,&quot;&quot;)) NOTE 2: If Passed By Reference, then &#x27;file&#x27; will be returned as the canonical name of the Export/Reporting file format - The output format of the Export/Reporting file This parameter has the following structure of constituent elements: format=[:$LB(,,)] Where the constituent elements have the following values:  - The format of the Export/Reporting file: - P = Printable/Viewable report file (.txt file, no pagination) - D = Comma-delimited data file (.csv file) which can be read into a spreadsheet - X = Microsoft Excel XML markup file suitable for import into Excel (.xml file) - H = HTML page file (.html file) - Z = User-defined delimiter &quot;P&quot; formatted file (.dlm file) NOTE: The  element is required or defaulted to $C(9) (TAB) Optional Elements:  - User-defined delimiter [DEFAULT: $C(9) (TAB)] NOTE: This is generally used for =&quot;Z&quot;  - .csv file header for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information header to file [DEFAULT] - 1 = Add non-standard information header to file  - .csv file footer for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information footer to file [DEFAULT] - 1 = Add non-standard information footer to file EXAMPLES: Valid &#x27;format&#x27; values: - &quot;H&quot; // HTML file - &quot;D&quot; // CSV file with No information header or footer - &quot;D:&quot;_$LB(,1,1) // CSV file with information header &amp; footer - &quot;Z:&quot;_$LB(&quot;^&quot;) // User-defined delimiter file (delim=&quot;^&quot;) silent - 0 - Display all messages during the running of this method 1 - Don&#x27;t display any messages during the running of this method p4 - Placeholder Parameter for &#x27;export*Analysis()&#x27; method conformity orderBy - A single  field, or a comma-delimited list of  fields in the format: field#[a|d][,field#[a|d],...,field#[a|d]] field# field Name ------ ------------- 0 NO  1 SchemaName 2 TableName 3 IndexName 4 UsageCount [DEFAULT: 4d,1,2,3] EXAMPLE: 4d,1,2a =&gt; ORDER BY UsageCount DESC,SchemaName,TableName ASC conds - A string/array of possible conditions by which to restrict the output of the Export file, in the following format: conds= OR conds(0)=pos Count (WHERE pos = {1...n}) conds(pos)=$LIST() Pieces: 1) [] (Assumed Default: &amp;&amp;) 2) [{Heading}] (Omit for override cond) 3)  |  WHERE:  :=  := {&amp;&amp; | ||} (&amp;&amp; = AND | || = OR) @* := @ :=  @ = Contains no references to {Heading} * = Contains no references to {*} EXAMPLE:  conds=&quot;(&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{Module}_&quot;&quot;,&quot;&quot;))||({GlobalRefs}&gt;20)&quot;  conds(0)=3 conds(1)=$LB(,&quot;Module&quot;,&quot;=&quot;&quot;INFO&quot;&quot;&quot;) conds(2)=$LB(&quot;||&quot;,&quot;Module&quot;,&quot;=&quot;&quot;MAIN&quot;&quot;&quot;) conds(3)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;&gt;20&quot;)  conds(0)=2 conds(1)=$LB(,&quot;Module&quot;,&quot;&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{*}_&quot;&quot;,&quot;&quot;)&quot;) conds(2)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;{*}&gt;20&quot;) WHERE: {*} = value substitution for the &#x27;Module&#x27; &amp; &#x27;GlobalRefs&#x27; fields NOTE: Conditions that don&#x27;t contain any references to {Heading} fields, often called s, can be included as s, as in the following example: conds(pos)=$LB(,,&quot;$g(^zAction(&quot;&quot;runIt&quot;&quot;))=1&quot;) NOTE: All conditions must be satisfied for the conds() to be considered true and for the row to be exported [PASS BY REFERENCE] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(variable)=value ptInfo(&quot;outputFile&quot;)=The canonical name of the Export/Reporting file RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exporttsanalysis">exportTSAnalysis<a href="#exporttsanalysis" class="hash-link" aria-label="Direct link to exportTSAnalysis" title="Direct link to exportTSAnalysis">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod exportTSAnalysis(file As %String = &quot;&quot;, format As %String = &quot;&quot;, silent As %Integer = 0, type As %String = &quot;&quot;, orderBy As %String = &quot;&quot;, ByRef conds As %RawString, includeSQL As %Integer = 1, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_exportTSAnalysis, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: exportTSAnalysis [SQL: PT_exportTSAnalysis] Replaces: N/A Status: New Functionality Purpose: Create a file containing all the data from joining both the %SYS.PTools.UtilSQLStatements and %SYS.PTools.UtilSQLAnalysisDB classes &amp; return the output location... Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).exportTSAnalysis(...) SQL: CALL %SYS_PTools.PT_exportTSAnalysis(...) SELECT %SYS_PTools.PT_exportTSAnalysis(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples shows the use of this method: #1 Display this export file to the screen via a InterSystems IRIS Terminal: set tSC=##class(%SYS.PTools.UtilSQLAnalysis).exportTSAnalysis($IO) #2 Display this export file via the SQL Query Page of the Management Portal: CALL %SYS_PTools.PT_exportTSAnalysis(&#x27;$IO&#x27;,&#x27;H&#x27;) Where: &#x27;$IO&#x27; = Output to the current device NOTE: &#x27;$IO&#x27; can be omitted, as it is the default &#x27;file&#x27; when invoked via the CALL interface &#x27;H&#x27; = Output the format in HTML format NOTE: &#x27;H&#x27; can be omitted, as it is the default &#x27;format&#x27; when invoked via the CALL interface NOTE: To query this information via SQL, use the following View: %SYS_PTools.UtilSQLAnalysis_tableScans() Parameters: file - The path and file in which to create and store the data from the %SYS.PTools.UtilSQLStatements &amp; %SYS.PTools.UtilSQLAnalysisDB classes: (e.g. C:\exportFile.txt) NOTE: $IO = Outputs the data to the screen &#x27;$IO&#x27; = Output the data to the current device when invoked from the CALL/SELECT-interface &#x27;$DEF&#x27; = Ouput the data to the DEFAULT file when invoked from the CALL/SELECT-interface [DEFAULT: {Current-Directory}\PT_exportTSAnalysis_YYYYMMDD_HHMMSS.{ext}] WHERE {Current-Directory} = The directory of the Namespace in which this method is invoked (e.g. $ZU(12,&quot;&quot;)) NOTE 2: If Passed By Reference, then &#x27;file&#x27; will be returned as the canonical name of the Export/Reporting file format - The output format of the Export/Reporting file This parameter has the following structure of constituent elements: format=[:$LB(,,)] Where the constituent elements have the following values:  - The format of the Export/Reporting file: - P = Printable/Viewable report file (.txt file, no pagination) - D = Comma-delimited data file (.csv file) which can be read into a spreadsheet - X = Microsoft Excel XML markup file suitable for import into Excel (.xml file) - H = HTML page file (.html file) - Z = User-defined delimiter &quot;P&quot; formatted file (.dlm file) NOTE: The  element is required or defaulted to $C(9) (TAB) Optional Elements:  - User-defined delimiter [DEFAULT: $C(9) (TAB)] NOTE: This is generally used for =&quot;Z&quot;  - .csv file header for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information header to file [DEFAULT] - 1 = Add non-standard information header to file  - .csv file footer for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information footer to file [DEFAULT] - 1 = Add non-standard information footer to file EXAMPLES: Valid &#x27;format&#x27; values: - &quot;H&quot; // HTML file - &quot;D&quot; // CSV file with No information header or footer - &quot;D:&quot;_$LB(,1,1) // CSV file with information header &amp; footer - &quot;Z:&quot;_$LB(&quot;^&quot;) // User-defined delimiter file (delim=&quot;^&quot;) silent - 0 - Display all messages during the running of this method 1 - Don&#x27;t display any messages during the running of this method type - A single type, or a comma-delimited list of {Type} values to restrict the output of rows from the %SYS.PTools.UtilSQLStatements class. The {Type} is the location within InterSystems IRIS from where the SQL Query was extracted: {Type} values: { Cached Query | Class Method | Class Query | Routine } orderBy - A single  field, or a comma-delimited list of  fields in the format: field#[a|d][,field#[a|d],...,field#[a|d]] field# field Name ------ ------------- 0 NO  1 SchemaName 2 TableName 3 Name AS QryLocName 4 Type AS QryLocType 5 ModuleName 6 MapType 7 ExtentSize 8 BlockCount [DEFAULT: 8d,4,1,2,5,3] EXAMPLE: 8d,1,2a =&gt; ORDER BY BlockCount DESC,SchemaName,TableName ASC conds - A string/array of possible conditions by which to restrict the output of the Export file, in the following format: conds= OR conds(0)=pos Count (WHERE pos = {1...n}) conds(pos)=$LIST() Pieces: 1) [] (Assumed Default: &amp;&amp;) 2) [{Heading}] (Omit for override cond) 3)  |  WHERE:  :=  := {&amp;&amp; | ||} (&amp;&amp; = AND | || = OR) @* := @ :=  @ = Contains no references to {Heading} * = Contains no references to {*} EXAMPLE:  conds=&quot;(&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{Module}_&quot;&quot;,&quot;&quot;))||({GlobalRefs}&gt;20)&quot;  conds(0)=3 conds(1)=$LB(,&quot;Module&quot;,&quot;=&quot;&quot;INFO&quot;&quot;&quot;) conds(2)=$LB(&quot;||&quot;,&quot;Module&quot;,&quot;=&quot;&quot;MAIN&quot;&quot;&quot;) conds(3)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;&gt;20&quot;)  conds(0)=2 conds(1)=$LB(,&quot;Module&quot;,&quot;&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{*}_&quot;&quot;,&quot;&quot;)&quot;) conds(2)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;{*}&gt;20&quot;) WHERE: {*} = value substitution for the &#x27;Module&#x27; &amp; &#x27;GlobalRefs&#x27; fields NOTE: Conditions that don&#x27;t contain any references to {Heading} fields, often called s, can be included as s, as in the following example: conds(pos)=$LB(,,&quot;$g(^zAction(&quot;&quot;runIt&quot;&quot;))=1&quot;) NOTE: All conditions must be satisfied for the conds() to be considered true and for the row to be exported [PASS BY REFERENCE] includeSQL - 0 = Don&#x27;t include the SQL Text in the output as the last field 1 = Include the SQL Text in the output as the last field [DEFAULT] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(variable)=value ptInfo(&quot;outputFile&quot;)=The canonical name of the Export/Reporting file RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exporttianalysis">exportTIAnalysis<a href="#exporttianalysis" class="hash-link" aria-label="Direct link to exportTIAnalysis" title="Direct link to exportTIAnalysis">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod exportTIAnalysis(file As %String = &quot;&quot;, format As %String = &quot;&quot;, silent As %Integer = 0, type As %String = &quot;&quot;, orderBy As %String = &quot;&quot;, ByRef conds As %RawString, includeSQL As %Integer = 1, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_exportTIAnalysis, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: exportTIAnalysis [SQL: PT_exportTIAnalysis] Replaces: N/A Status: New Functionality Purpose: Create a file containing all the data from joining both the %SYS.PTools.UtilSQLStatements and %SYS.PTools.UtilSQLAnalysisDB classes &amp; return the output location... Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).exportTIAnalysis(...) SQL: CALL %SYS_PTools.PT_exportTIAnalysis(...) SELECT %SYS_PTools.PT_exportTIAnalysis(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples shows the use of this method: #1 Display this export file to the screen via a InterSystems IRIS Terminal: set tSC=##class(%SYS.PTools.UtilSQLAnalysis).exportTIAnalysis($IO) #2 Display this export file via the SQL Query Page of the Management Portal: CALL %SYS_PTools.PT_exportTIAnalysis(&#x27;$IO&#x27;,&#x27;H&#x27;) Where: &#x27;$IO&#x27; = Output to the current device NOTE: &#x27;$IO&#x27; can be omitted, as it is the default &#x27;file&#x27; when invoked via the CALL interface &#x27;H&#x27; = Output the format in HTML format NOTE: &#x27;H&#x27; can be omitted, as it is the default &#x27;format&#x27; when invoked via the CALL interface NOTE: To query this information via SQL, use the following View: %SYS_PTools.UtilSQLAnalysis_tempIndices() Parameters: file - The path and file in which to create and store the data from the %SYS.PTools.UtilSQLStatements &amp; %SYS.PTools.UtilSQLAnalysisDB classes: (e.g. C:\exportFile.txt) NOTE: $IO = Outputs the data to the screen &#x27;$IO&#x27; = Output the data to the current device when invoked from the CALL/SELECT-interface &#x27;$DEF&#x27; = Ouput the data to the DEFAULT file when invoked from the CALL/SELECT-interface [DEFAULT: {Current-Directory}\PT_exportTIAnalysis_YYYYMMDD_HHMMSS.{ext}] WHERE {Current-Directory} = The directory of the Namespace in which this method is invoked (e.g. $ZU(12,&quot;&quot;)) NOTE 2: If Passed By Reference, then &#x27;file&#x27; will be returned as the canonical name of the Export/Reporting file format - The output format of the Export/Reporting file This parameter has the following structure of constituent elements: format=[:$LB(,,)] Where the constituent elements have the following values:  - The format of the Export/Reporting file: - P = Printable/Viewable report file (.txt file, no pagination) - D = Comma-delimited data file (.csv file) which can be read into a spreadsheet - X = Microsoft Excel XML markup file suitable for import into Excel (.xml file) - H = HTML page file (.html file) - Z = User-defined delimiter &quot;P&quot; formatted file (.dlm file) NOTE: The  element is required or defaulted to $C(9) (TAB) Optional Elements:  - User-defined delimiter [DEFAULT: $C(9) (TAB)] NOTE: This is generally used for =&quot;Z&quot;  - .csv file header for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information header to file [DEFAULT] - 1 = Add non-standard information header to file  - .csv file footer for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information footer to file [DEFAULT] - 1 = Add non-standard information footer to file EXAMPLES: Valid &#x27;format&#x27; values: - &quot;H&quot; // HTML file - &quot;D&quot; // CSV file with No information header or footer - &quot;D:&quot;_$LB(,1,1) // CSV file with information header &amp; footer - &quot;Z:&quot;_$LB(&quot;^&quot;) // User-defined delimiter file (delim=&quot;^&quot;) silent - 0 - Display all messages during the running of this method 1 - Don&#x27;t display any messages during the running of this method type - A single type, or a comma-delimited list of {Type} values to restrict the output of rows from the %SYS.PTools.UtilSQLStatements class. The {Type} is the location within InterSystems IRIS from where the SQL Query was extracted: {Type} values: { Cached Query | Class Method | Class Query | Routine } orderBy - A single  field, or a comma-delimited list of  fields in the format: field#[a|d][,field#[a|d],...,field#[a|d]] field# field Name ------ ------------- 0 NO  1 SchemaName 2 TableName 3 Name AS QryLocName 4 Type AS QryLocType 5 IndexName 6 IndexFields 7 DataValues 8 ExtentSize 9 BlockCount [DEFAULT: 9d,4,1,2,5,3] EXAMPLE: 9d,1,2a =&gt; ORDER BY BlockCount DESC,SchemaName,TableName ASC conds - A string/array of possible conditions by which to restrict the output of the Export file, in the following format: conds= OR conds(0)=pos Count (WHERE pos = {1...n}) conds(pos)=$LIST() Pieces: 1) [] (Assumed Default: &amp;&amp;) 2) [{Heading}] (Omit for override cond) 3)  |  WHERE:  :=  := {&amp;&amp; | ||} (&amp;&amp; = AND | || = OR) @* := @ :=  @ = Contains no references to {Heading} * = Contains no references to {*} EXAMPLE:  conds=&quot;(&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{Module}_&quot;&quot;,&quot;&quot;))||({GlobalRefs}&gt;20)&quot;  conds(0)=3 conds(1)=$LB(,&quot;Module&quot;,&quot;=&quot;&quot;INFO&quot;&quot;&quot;) conds(2)=$LB(&quot;||&quot;,&quot;Module&quot;,&quot;=&quot;&quot;MAIN&quot;&quot;&quot;) conds(3)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;&gt;20&quot;)  conds(0)=2 conds(1)=$LB(,&quot;Module&quot;,&quot;&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{*}_&quot;&quot;,&quot;&quot;)&quot;) conds(2)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;{*}&gt;20&quot;) WHERE: {*} = value substitution for the &#x27;Module&#x27; &amp; &#x27;GlobalRefs&#x27; fields NOTE: Conditions that don&#x27;t contain any references to {Heading} fields, often called s, can be included as s, as in the following example: conds(pos)=$LB(,,&quot;$g(^zAction(&quot;&quot;runIt&quot;&quot;))=1&quot;) NOTE: All conditions must be satisfied for the conds() to be considered true and for the row to be exported [PASS BY REFERENCE] includeSQL - 0 = Don&#x27;t include the SQL Text in the output as the last field 1 = Include the SQL Text in the output as the last field [DEFAULT] ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(variable)=value ptInfo(&quot;outputFile&quot;)=The canonical name of the Export/Reporting file RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exportjianalysis">exportJIAnalysis<a href="#exportjianalysis" class="hash-link" aria-label="Direct link to exportJIAnalysis" title="Direct link to exportJIAnalysis">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod exportJIAnalysis(file As %String = &quot;&quot;, format As %String = &quot;&quot;, silent As %Integer = 0, type As %String = &quot;&quot;, orderBy As %String = &quot;&quot;, ByRef conds As %RawString, includeSQL As %Integer = 1, skipJIF4 As %Integer = 1, indxFlgInfo As %Integer = 0, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_exportJIAnalysis, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: exportJIAnalysis [SQL: PT_exportJIAnalysis] Replaces: N/A Status: New Functionality Purpose: Create a file containing all the data from joining both the %SYS.PTools.UtilSQLStatements and %SYS.PTools.UtilSQLAnalysisDB classes &amp; return the output location... Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).exportJIAnalysis(...) SQL: CALL %SYS_PTools.PT_exportJIAnalysis(...) SELECT %SYS_PTools.PT_exportJIAnalysis(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples shows the use of this method: #1 Display this export file to the screen via a InterSystems IRIS Terminal: set tSC=##class(%SYS.PTools.UtilSQLAnalysis).exportJIAnalysis($IO) #2 Display this export file via the SQL Query Page of the Management Portal: CALL %SYS_PTools.PT_exportJIAnalysis(&#x27;$IO&#x27;,&#x27;H&#x27;) Where: &#x27;$IO&#x27; = Output to the current device NOTE: &#x27;$IO&#x27; can be omitted, as it is the default &#x27;file&#x27; when invoked via the CALL interface &#x27;H&#x27; = Output the format in HTML format NOTE: &#x27;H&#x27; can be omitted, as it is the default &#x27;format&#x27; when invoked via the CALL interface NOTE: To query this information via SQL, use the following View: %SYS_PTools.UtilSQLAnalysis_joinIndices() Parameters: file - The path and file in which to create and store the data from the %SYS.PTools.UtilSQLStatements &amp; %SYS.PTools.UtilSQLAnalysisDB classes: (e.g. C:\exportFile.txt) NOTE: $IO = Outputs the data to the screen &#x27;$IO&#x27; = Output the data to the current device when invoked from the CALL/SELECT-interface &#x27;$DEF&#x27; = Ouput the data to the DEFAULT file when invoked from the CALL/SELECT-interface [DEFAULT: {Current-Directory}\PT_exportJIAnalysis_YYYYMMDD_HHMMSS.{ext}] WHERE {Current-Directory} = The directory of the Namespace in which this method is invoked (e.g. $ZU(12,&quot;&quot;)) NOTE 2: If Passed By Reference, then &#x27;file&#x27; will be returned as the canonical name of the Export/Reporting file format - The output format of the Export/Reporting file This parameter has the following structure of constituent elements: format=[:$LB(,,)] Where the constituent elements have the following values:  - The format of the Export/Reporting file: - P = Printable/Viewable report file (.txt file, no pagination) - D = Comma-delimited data file (.csv file) which can be read into a spreadsheet - X = Microsoft Excel XML markup file suitable for import into Excel (.xml file) - H = HTML page file (.html file) - Z = User-defined delimiter &quot;P&quot; formatted file (.dlm file) NOTE: The  element is required or defaulted to $C(9) (TAB) Optional Elements:  - User-defined delimiter [DEFAULT: $C(9) (TAB)] NOTE: This is generally used for =&quot;Z&quot;  - .csv file header for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information header to file [DEFAULT] - 1 = Add non-standard information header to file  - .csv file footer for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information footer to file [DEFAULT] - 1 = Add non-standard information footer to file EXAMPLES: Valid &#x27;format&#x27; values: - &quot;H&quot; // HTML file - &quot;D&quot; // CSV file with No information header or footer - &quot;D:&quot;_$LB(,1,1) // CSV file with information header &amp; footer - &quot;Z:&quot;_$LB(&quot;^&quot;) // User-defined delimiter file (delim=&quot;^&quot;) silent - 0 - Display all messages during the running of this method 1 - Don&#x27;t display any messages during the running of this method type - A single type, or a comma-delimited list of {Type} values to restrict the output of rows from the %SYS.PTools.UtilSQLStatements class. The {Type} is the location within InterSystems IRIS from where the SQL Query was extracted: {Type} values: { Cached Query | Class Method | Class Query | Routine } orderBy - A single  field, or a comma-delimited list of  fields in the format: field#[a|d][,field#[a|d],...,field#[a|d]] field# field Name ------ ------------- 0 NO  1 SchemaName 2 TableName 3 Name AS QryLocName 4 Type AS QryLocType 5 IndexName 6 JoinFields AS IndexNeeded 7 JoinIndexFlag [DEFAULT: 7d,4,1,2,5,6,3,10] 8 ExtentSize 9 BlockCount 10 SQLTextExt AS SQL EXAMPLE: 7d,1,2a =&gt; ORDER BY JoinIndexFlag DESC,SchemaName,TableName ASC conds - A string/array of possible conditions by which to restrict the output of the Export file, in the following format: conds= OR conds(0)=pos Count (WHERE pos = {1...n}) conds(pos)=$LIST() Pieces: 1) [] (Assumed Default: &amp;&amp;) 2) [{Heading}] (Omit for override cond) 3)  |  WHERE:  :=  := {&amp;&amp; | ||} (&amp;&amp; = AND | || = OR) @* := @ :=  @ = Contains no references to {Heading} * = Contains no references to {*} EXAMPLE:  conds=&quot;(&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{Module}_&quot;&quot;,&quot;&quot;))||({GlobalRefs}&gt;20)&quot;  conds(0)=3 conds(1)=$LB(,&quot;Module&quot;,&quot;=&quot;&quot;INFO&quot;&quot;&quot;) conds(2)=$LB(&quot;||&quot;,&quot;Module&quot;,&quot;=&quot;&quot;MAIN&quot;&quot;&quot;) conds(3)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;&gt;20&quot;)  conds(0)=2 conds(1)=$LB(,&quot;Module&quot;,&quot;&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{*}_&quot;&quot;,&quot;&quot;)&quot;) conds(2)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;{*}&gt;20&quot;) WHERE: {*} = value substitution for the &#x27;Module&#x27; &amp; &#x27;GlobalRefs&#x27; fields NOTE: Conditions that don&#x27;t contain any references to {Heading} fields, often called s, can be included as s, as in the following example: conds(pos)=$LB(,,&quot;$g(^zAction(&quot;&quot;runIt&quot;&quot;))=1&quot;) NOTE: All conditions must be satisfied for the conds() to be considered true and for the row to be exported [PASS BY REFERENCE] includeSQL - 0 = Don&#x27;t include the SQL Text in the output as the last field 1 = Include the SQL Text in the output as the last field [DEFAULT] skipJIF4 - 0 - Export all rows regardless of the &#x27;JoinIndexFlag&#x27; value 1 - Export all rows where the value of the &#x27;JoinIndexFlag&#x27; is not 4 [DEFAULT] indxFlgInfo - The specific information that should be returned for the &#x27;JoinIndexFlag&#x27; field: 0 = The Index-Flag Internal Value [DEFAULT] 1 = The Index-Flag Title 2 = The Index-Flag Definition 3 = The Index-Flag as &#x27;Title: Definition&#x27; ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(variable)=value ptInfo(&quot;outputFile&quot;)=The canonical name of the Export/Reporting file RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exportoianalysis">exportOIAnalysis<a href="#exportoianalysis" class="hash-link" aria-label="Direct link to exportOIAnalysis" title="Direct link to exportOIAnalysis">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod exportOIAnalysis(file As %String = &quot;&quot;, format As %String = &quot;&quot;, silent As %Integer = 0, type As %String = &quot;&quot;, orderBy As %String = &quot;&quot;, ByRef conds As %RawString, includeSQL As %Integer = 1, skipOIF4 As %Integer = 1, indxFlgInfo As %Integer = 0, ByRef ptInfo As %RawString) As %Status [ SqlName = PT_exportOIAnalysis, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Method: exportOIAnalysis [SQL: PT_exportOIAnalysis] Replaces: N/A Status: New Functionality Purpose: Create a file containing all the data from joining both the %SYS.PTools.UtilSQLStatements and %SYS.PTools.UtilSQLAnalysisDB classes &amp; return the output location... Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).exportOIAnalysis(...) SQL: CALL %SYS_PTools.PT_exportOIAnalysis(...) SELECT %SYS_PTools.PT_exportOIAnalysis(...) NOTE: This &#x27;SqlProc&#x27; method can be invoked with either the CALL-interface or the SELECT-interface. Both interfaces execute the method: the CALL-interface does not return any resulting value, while the SELECT-interface does. Examples: The following examples shows the use of this method: #1 Display this export file to the screen via a InterSystems IRIS Terminal: set tSC=##class(%SYS.PTools.UtilSQLAnalysis).exportOIAnalysis($IO) #2 Display this export file via the SQL Query Page of the Management Portal: CALL %SYS_PTools.PT_exportOIAnalysis(&#x27;$IO&#x27;,&#x27;H&#x27;) Where: &#x27;$IO&#x27; = Output to the current device NOTE: &#x27;$IO&#x27; can be omitted, as it is the default &#x27;file&#x27; when invoked via the CALL interface &#x27;H&#x27; = Output the format in HTML format NOTE: &#x27;H&#x27; can be omitted, as it is the default &#x27;format&#x27; when invoked via the CALL interface NOTE: To query this information via SQL, use the following View: %SYS_PTools.UtilSQLAnalysis_outlierIndices() Parameters: file - The path and file in which to create and store the data from the %SYS.PTools.UtilSQLStatements &amp; %SYS.PTools.UtilSQLAnalysisDB classes: (e.g. C:\exportFile.txt) NOTE: $IO = Outputs the data to the screen &#x27;$IO&#x27; = Output the data to the current device when invoked from the CALL/SELECT-interface &#x27;$DEF&#x27; = Ouput the data to the DEFAULT file when invoked from the CALL/SELECT-interface [DEFAULT: {Current-Directory}\PT_exportOIAnalysis_YYYYMMDD_HHMMSS.{ext}] WHERE {Current-Directory} = The directory of the Namespace in which this method is invoked (e.g. $ZU(12,&quot;&quot;)) NOTE 2: If Passed By Reference, then &#x27;file&#x27; will be returned as the canonical name of the Export/Reporting file format - The output format of the Export/Reporting file This parameter has the following structure of constituent elements: format=[:$LB(,,)] Where the constituent elements have the following values:  - The format of the Export/Reporting file: - P = Printable/Viewable report file (.txt file, no pagination) - D = Comma-delimited data file (.csv file) which can be read into a spreadsheet - X = Microsoft Excel XML markup file suitable for import into Excel (.xml file) - H = HTML page file (.html file) - Z = User-defined delimiter &quot;P&quot; formatted file (.dlm file) NOTE: The  element is required or defaulted to $C(9) (TAB) Optional Elements:  - User-defined delimiter [DEFAULT: $C(9) (TAB)] NOTE: This is generally used for =&quot;Z&quot;  - .csv file header for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information header to file [DEFAULT] - 1 = Add non-standard information header to file  - .csv file footer for =&quot;D&quot;: - 0 = Don&#x27;t add non-standard information footer to file [DEFAULT] - 1 = Add non-standard information footer to file EXAMPLES: Valid &#x27;format&#x27; values: - &quot;H&quot; // HTML file - &quot;D&quot; // CSV file with No information header or footer - &quot;D:&quot;_$LB(,1,1) // CSV file with information header &amp; footer - &quot;Z:&quot;_$LB(&quot;^&quot;) // User-defined delimiter file (delim=&quot;^&quot;) silent - 0 - Display all messages during the running of this method 1 - Don&#x27;t display any messages during the running of this method type - A single type, or a comma-delimited list of {Type} values to restrict the output of rows from the %SYS.PTools.UtilSQLStatements class. The {Type} is the location within InterSystems IRIS from where the SQL Query was extracted: {Type} values: { Cached Query | Class Method | Class Query | Routine } orderBy - A single  field, or a comma-delimited list of  fields in the format: field#[a|d][,field#[a|d],...,field#[a|d]] field# field Name ------ ------------- 0 NO  1 SchemaName 2 TableName 3 Name AS QryLocName 4 Type AS QryLocType 5 IndexName 6 IndexFields 7 BiasQueriesAsOutlier AS BiasOutlier 8 OutlierIndexFlag [DEFAULT: 8d,4,1,2,5,6,3,9] 9 OutlierField 10 OutlierValue AS OutlierCond 11 OutlierSelectivity AS OutlierSel 12 OutlierWhereCondition 13 ExtentSize 14 BlockCount EXAMPLE: 8d,1,2a =&gt; ORDER BY OutlierIndexFlag DESC,SchemaName,TableName ASC conds - A string/array of possible conditions by which to restrict the output of the Export file, in the following format: conds= OR conds(0)=pos Count (WHERE pos = {1...n}) conds(pos)=$LIST() Pieces: 1) [] (Assumed Default: &amp;&amp;) 2) [{Heading}] (Omit for override cond) 3)  |  WHERE:  :=  := {&amp;&amp; | ||} (&amp;&amp; = AND | || = OR) @* := @ :=  @ = Contains no references to {Heading} * = Contains no references to {*} EXAMPLE:  conds=&quot;(&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{Module}_&quot;&quot;,&quot;&quot;))||({GlobalRefs}&gt;20)&quot;  conds(0)=3 conds(1)=$LB(,&quot;Module&quot;,&quot;=&quot;&quot;INFO&quot;&quot;&quot;) conds(2)=$LB(&quot;||&quot;,&quot;Module&quot;,&quot;=&quot;&quot;MAIN&quot;&quot;&quot;) conds(3)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;&gt;20&quot;)  conds(0)=2 conds(1)=$LB(,&quot;Module&quot;,&quot;&quot;&quot;,INFO,MAIN,&quot;&quot;[(&quot;&quot;,&quot;&quot;_{*}_&quot;&quot;,&quot;&quot;)&quot;) conds(2)=$LB(&quot;||&quot;,&quot;GlobalRefs&quot;,&quot;{*}&gt;20&quot;) WHERE: {*} = value substitution for the &#x27;Module&#x27; &amp; &#x27;GlobalRefs&#x27; fields NOTE: Conditions that don&#x27;t contain any references to {Heading} fields, often called s, can be included as s, as in the following example: conds(pos)=$LB(,,&quot;$g(^zAction(&quot;&quot;runIt&quot;&quot;))=1&quot;) NOTE: All conditions must be satisfied for the conds() to be considered true and for the row to be exported [PASS BY REFERENCE] includeSQL - 0 = Don&#x27;t include the SQL Text in the output as the last field 1 = Include the SQL Text in the output as the last field [DEFAULT] skipOIF4 - 0 - Export all rows regardless of the &#x27;OutlierIndexFlag&#x27; value 1 - Export all rows where the value of the &#x27;OutlierIndexFlag&#x27; is not 4 [DEFAULT] indxFlgInfo - The specific information that should be returned for the &#x27;OutlierIndexFlag&#x27; field: 0 = The Index-Flag Internal Value [DEFAULT] 1 = The Index-Flag Title 2 = The Index-Flag Definition 3 = The Index-Flag as &#x27;Title: Definition&#x27; ptInfo - A Pass By Reference information array that returns to the user the following details: ptInfo(variable)=value ptInfo(&quot;outputFile&quot;)=The canonical name of the Export/Reporting file RETURN Value: The status from the invocation of this method</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="version">version<a href="#version" class="hash-link" aria-label="Direct link to version" title="Direct link to version">​</a></h3>
<div class="language-objectscript-class codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objectscript-class codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ClassMethod version(fullVer = 0) As %String [ SqlName = UtilSQLAnalysis_version, SqlProc ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Query: countSQLStmtTypes Replaces: FindSQL (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Method to replicate Backward-Compatible Method it &#x27;Replaces&#x27; Purpose: Class Query to return the SQL Statement Types and the number of Statements collected for each Query Types. Example: The following example show the locations (QueryType) from which the SQL Statements were collected from the invocation of the &#x27;getSQLStmts()&#x27; methods: - Cached Queries - Class Methods - Class Queries - MAC Routines SELECT * FROM %SYS_PTools.UtilSQLAnalysis_countSQLStmtTypes()</p>
<p>Query/View: UtilSQLStmtsAndAnalysisDBView Replaces: SQLUtilStmtsAndResultsView (%SYS.PTools.SQLUtilities) [DEPRECATED] Status: New Query/View to replicate Backward-Compatible Query/View it &#x27;Replaces&#x27; Purpose: Class View which returns all of the SQL Statements information stored in both the &#x27;%SYS.PTools.UtilSQLStatements&#x27; and &#x27;%SYS.PTools.UtilSQLAnalysisDB&#x27; classes/tables</p>
<p>Method: version [SQL: UtilSQLAnalysis_version] Replaces: N/A Status: New Functionality Purpose: Get the current version for the %SYS.PTools.UtilSQLStatements &amp; %SYS.PTools.UtilSQLAnalysisDB classes/sections of the Performance Tools (PTools) Application... Invocation: This method can be invoked in the following ways: ObjectScript: ##class(%SYS.PTools.UtilSQLAnalysis).version(...) SQL: SELECT %SYS_PTools.UtilSQLAnalysis_version(...) Examples: The following examples shows the use of this method: #1 Display the UtilSQLAnalysis version to the screen via an InterSystems IRIS Terminal: write ##class(%SYS.PTools.UtilSQLAnalysis).version() // Simple Version write ##class(%SYS.PTools.UtilSQLAnalysis).version(1) // Full Version #2 Display the UtilSQLAnalysis version via the SQL Query Page of the Management Portal: SELECT %SYS_PTools.UtilSQLAnalysis_version() /* Simple Version */ SELECT %SYS_PTools.UtilSQLAnalysis_version(1) /* Full Version */ Data Storage: N/A Parameters: fullVer - 0 = Display the UtilSQLAnalysis Simple Version [DEFAULT] 1 = Display the UtilSQLAnalysis Full Version RETURN Value: The UtilSQLAnalysis {Simple | Full} Version</p></section></div><footer class="tsd-footer"></footer></article></div></div></div></div></main></div></div></div></div></div>
</body>
</html>